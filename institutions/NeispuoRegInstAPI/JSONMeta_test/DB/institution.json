{
  "template": "SELECT /**select**/ FROM [reginst_basic].[RIInstitutionAll] RIIAll LEFT JOIN [reginst_basic].[NEISPUOInstitutionData] NID ON RIIAll.InstitutionID=NID.InstitutionID LEFT JOIN reginst_basic.Directors AS DIR ON RIIAll.InstitutionID = DIR.InstitutionID AND RIIAll.ProcedureYearDue = DIR.CurrentYearID /**where**/ /**orderby**/",
  "columns": [
    {
      "column": "RIIAll.RIprocedureID AS riProcedureID"
    },
    {
      "column": "RIIAll.ProcedureTypeID AS procedureTypeID"
    },
    {
      "column": "RIIAll.ProcedureDate AS procedureDate"
    },
    {
      "column": "RIIAll.ProcedureYearDue AS procedureYearDue"
    },
    {
      "column": "RIIAll.ProcedureStatusTypeID AS procedureStatusTypeID"
    },
    {
      "column": "RIIAll.ProcedureTransformTypeID AS procedureTransformTypeID"
    },
    {
      "column": "RIIAll.ProcedureTransformDetails AS procedureTransformDetails"
    },
    {
      "column": "RIIAll.ProcedureIsActive AS procedureIsActive"
    },
    {
      "column": "RIIAll.RIinstitutionID AS riInstitutionID"
    },
    {
      "column": "RIIAll.InstitutionID AS codeNEISPUO"
    },
    {
      "column": "RIIAll.Name AS name"
    },
    {
      "column": "RIIAll.Abbreviation AS abbreviation"
    },
    {
      "column": "RIIAll.Bulstat AS bulstat"
    },
    {
      "column": "RIIAll.BaseSchoolTypeID AS baseSchoolTypeID"
    },
    {
      "column": "RIIAll.DetailedSchoolTypeID AS detailedSchoolTypeID"
    },
    {
      "column": "RIIAll.BudgetingSchoolTypeID AS budgetingSchoolTypeID"
    },
    {
      "column": "RIIAll.FinancialSchoolTypeID AS financialSchoolTypeID"
    },
    {
      "column": "RIIAll.TRCountryID AS settlementCountry"
    },
    {
      "column": "RIIAll.TRRegionID AS settlementRegion"
    },
    {
      "column": "RIIAll.TRMunicipID AS settlementMunicipality"
    },
    {
      "column": "RIIAll.TRTownID AS settlementTown"
    },
    {
      "column": "RIIAll.TRLocalAreaID AS settlementLocalArea"
    },
    {
      "column": "RIIAll.TRAddress AS settlementAddress"
    },
    {
      "column": "RIIAll.TRPostCode AS settlementPostCode"
    },
    {
      "column": "RIIAll.ReligInstDetails AS religInstDetails"
    },
    {
      "column": "RIIAll.HeadFirstName AS headFirstName"
    },
    {
      "column": "RIIAll.HeadMiddleName AS headMiddleName"
    },
    {
      "column": "RIIAll.HeadLastName AS headLastName"
    },
    {
      "column": "RIIAll.IsNational AS isNational"
    },
    {
      "column": "RIIAll.PersonnelCount AS personnelCount"
    },
    {
      "column": "RIIAll.AuthProgram AS authProgram"
    },
    {
      "column": "RIIAll.IsDataDue AS isDataDue"
    },
    {
      "column": "RIIAll.InstType AS instType"
    },
    {
      "column": "RIIAll.InstDepCadasterCode AS primaryAddrCadasterCode"
    },
    {
      "column": "RIIAll.DepAdrNotes AS primaryAddrNotes"
    },
    {
      "column": "RIIAll.StaticText AS lawNotes"
    },
    {
      "column": "NID.StaffDirector AS staffDirector"
    },
    {
      "column": "NID.Email AS email"
    },
    {
      "column": "NID.Website AS website"
    },
    {
      "column": "NID.PhoneNumber AS phoneNumber"
    },
    {
      "column": "RIIAll.IsAnnuled AS isAnnuled"
    },
    {
      "column": "RIIAll.Ord AS ord"
    },
    {
      "column": "RIIALL.IsProfSchoolWithSpecialties AS isProfSchoolWithSpecialties"
    }
  ],
  "params": [
    {
      "param": "@instid",
      "column": "RIIAll.InstitutionID",
      "operator": "=",
      "value": "instid",
      "type": "int",
      "logical_operator": "and",
      "optional": false,
      "static": false,
      "from_claim": false
    },
    {
      "param": "@procID",
      "column": "RIIAll.RIprocedureID",
      "operator": "=",
      "value": "procID",
      "type": "int",
      "logical_operator": "and",
      "optional": false,
      "static": false,
      "from_claim": false
    }
  ],
  "order": [
    {
      "column": "RIIAll.InstitutionID",
      "type": "ASC"
    }
  ],
  "inSelects": [
    {
      "arrayName": "primaryAddress",
      "template": "SELECT /**select**/ FROM [reginst_basic].[RIInstitutionDepartment] RIIDs JOIN [inst_basic].[EKATTE] AS EKATTEID ON RIIDs.TownID = EKATTEID.TownID /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RIIDs.RIinstitutionDepartmentID AS id"
        },
        {
          "column": "RIIDs.Name AS primaryAddrName"
        },
        {
          "column": "RIIDs.CountryID AS primaryAddrCountry"
        },
        {
          "column": "EKATTEID.RegionID AS primaryAddrRegion"
        },
        {
          "column": "EKATTEID.MunicipalityID AS primaryAddrMunicipality"
        },
        {
          "column": "RIIDs.TownID AS primaryAddrTown"
        },
        {
          "column": "RIIDs.LocalAreaID AS primaryAddrLocalArea"
        },
        {
          "column": "RIIDs.Address AS primaryAddrAddress"
        },
        {
          "column": "RIIDs.PostCode AS primaryAddrPostCode"
        },
        {
          "column": "RIIDs.CadasterCode AS primaryAddrCadasterCode"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RIIDs.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        },
        {
          "param": "@ismain",
          "column": "RIIDs.IsMain",
          "operator": "=",
          "value": 1,
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": true,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RIIDs.RIinstitutionDepartmentID",
          "type": "ASC"
        }
      ]
    },
    {
      "arrayName": "institutionDepartments",
      "template": "SELECT /**select**/ FROM [reginst_basic].[RIInstitutionDepartment] RIIDs JOIN [inst_basic].[EKATTE] AS EKATTEID ON RIIDs.TownID = EKATTEID.TownID /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RIIDs.RIinstitutionDepartmentID AS id"
        },
        {
          "column": "RIIDs.Name AS departmentName"
        },
        {
          "column": "RIIDs.CountryID AS departmentCountry"
        },
        {
          "column": "EKATTEID.RegionID AS departmentRegion"
        },
        {
          "column": "EKATTEID.MunicipalityID AS departmentMunicipality"
        },
        {
          "column": "RIIDs.TownID AS departmentTown"
        },
        {
          "column": "RIIDs.LocalAreaID AS departmentLocalArea"
        },
        {
          "column": "RIIDs.Address AS departmentAddress"
        },
        {
          "column": "RIIDs.PostCode AS departmentPostalCode"
        },
        {
          "column": "RIIDs.CadasterCode AS departmentCadasterCode"
        },
        {
          "column": "RIIDs.Notes AS departmentNotes"
        },
        {
          "column": "'institutionDepartmentData' AS formName"
        },
        {
          "column": "RIIDs.RIinstitutionDepartmentID AS formDataId"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RIIDs.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        },
        {
          "param": "@ismain",
          "column": "RIIDs.IsMain",
          "operator": "=",
          "value": 0,
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": true,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RIIDs.RIinstitutionDepartmentID",
          "type": "ASC"
        }
      ]
    },
    {
      "arrayName": "cplrAreas",
      "template": "SELECT /**select**/ FROM [reginst_basic].[RICPLRArea] RICPLRs /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RICPLRs.RICPLRAreaID AS id"
        },
        {
          "column": "RICPLRs.CPLRAreaTypeID AS cplrAreaType"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RICPLRs.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RICPLRs.RICPLRAreaID",
          "type": "ASC"
        }
      ]
    },
    {
      "arrayName": "basicProfiles",
      "template": "SELECT /**select**/ FROM [reginst_basic].[RIProfile] RIProfiles /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RIProfiles.RIProfileID AS id"
        },
        {
          "column": "RIProfiles.BasicProfileID AS schoolBasicProfile"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RIProfiles.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RIProfiles.RIProfileID",
          "type": "ASC"
        }
      ]
    },
    {
      "arrayName": "TableBasicProfiles",
      "template": "SELECT /**select**/ FROM [reginst_basic].[RIProfile] RIProfiles /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RIProfiles.RIProfileID AS id"
        },
        {
          "column": "RIProfiles.BasicProfileID AS tableSchoolBasicProfile"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RIProfiles.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RIProfiles.RIProfileID",
          "type": "ASC"
        }
      ]
    },
    {
      "arrayName": "SPPOOSpecialities",
      "template": "SELECT /**select**/ FROM [reginst_basic].[RISPPOOSpecialityAll] RISpeciality /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RISpeciality.RISpecialityID AS id"
        },
        {
          "column": "RISpeciality.SPPOOSpecialityID AS SPPOOSpeciality"
        },
        {
          "column": "RISpeciality.SPPOOProfessionID AS SPPOOProfession"
        },
        {
          "column": "RISpeciality.SPPOOProfAreaID AS SPPOOProfArea"
        },
        {
          "column": "RISpeciality.SPPOOEducAreaID AS SPPOOEducArea"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RISpeciality.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RISpeciality.SPPOOSpecialityID",
          "type": "DESC"
        }
      ]
    },
    {
      "arrayName": "TableSPPOOSpecialities",
      "template": "SELECT /**select**/ FROM [reginst_basic].[RISPPOOSpecialityAll] RISpeciality /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RISpeciality.RISpecialityID AS id"
        },
        {
          "column": "RISpeciality.SPPOOSpecialityID AS tableSPPOOSpeciality"
        },
        {
          "column": "RISpeciality.SPPOOProfessionID AS tableSPPOOProfession"
        },
        {
          "column": "RISpeciality.SPPOOProfAreaID AS tableSPPOOProfArea"
        },
        {
          "column": "RISpeciality.SPPOOEducAreaID AS tableSPPOOEducArea"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RISpeciality.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RISpeciality.SPPOOSpecialityID",
          "type": "DESC"
        }
      ]
    },
    {
      "arrayName": "premInstitutions",
      "template": "SELECT /**select**/ FROM [reginst_basic].[RIPremInstitution] RIPremInst /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RIPremInst.RIPremInstitutionID AS id"
        },
        {
          "column": "RIPremInst.PremInstitutionID AS premInstitution"
        },
        {
          "column": "RIPremInst.PremStudents AS premStudents"
        },
        {
          "column": "RIPremInst.PremDocs AS premDocuments"
        },
        {
          "column": "RIPremInst.PremInventory AS premInventory"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RIPremInst.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RIPremInst.RIPremInstitutionID",
          "type": "ASC"
        }
      ]
    },
    {
      "arrayName": "premInstitutionsView",
      "template": "SELECT /**select**/ FROM [reginst_basic].[RIPremInstitution] RIPremInst /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RIPremInst.RIPremInstitutionID AS id"
        },
        {
          "column": "RIPremInst.PremInstitutionID AS premInstitution"
        },
        {
          "column": "RIPremInst.PremStudents AS premStudents"
        },
        {
          "column": "RIPremInst.PremDocs AS premDocuments"
        },
        {
          "column": "RIPremInst.PremInventory AS premInventory"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RIPremInst.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RIPremInst.RIPremInstitutionID",
          "type": "ASC"
        }
      ]
    },
    {
      "arrayName": "InternalDocuments",
      "template": "SELECT /**select**/ FROM [reginst_basic].[RIDocument] RIDocument /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RIDocument.RIDocumentID AS id"
        },
        {
          "column": "RIDocument.DocumentNo AS documentNumber"
        },
        {
          "column": "RIDocument.DocumentDate AS documentDate"
        },
        {
          "column": "RIDocument.StateNewspaperData AS stateNewspaperData"
        },
        {
          "column": "RIDocument.DocumentNotes AS documentNotes"
        },
        {
          "column": "RIDocument.DocumentFile AS fileId"
        },
        {
          "column": "'Document' AS fileLabel"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RIDocument.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RIDocument.RIDocumentID",
          "type": "ASC"
        }
      ]
    },
    {
      "arrayName": "PublicDocuments",
      "template": "SELECT /**select**/ FROM [reginst_basic].[RIDocument] RIDocument /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RIDocument.RIDocumentID AS id"
        },
        {
          "column": "RIDocument.DocumentNo AS publicDocumentNumber"
        },
        {
          "column": "RIDocument.DocumentDate AS publicDocumentDate"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RIDocument.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RIDocument.RIDocumentID",
          "type": "ASC"
        }
      ]
    },
    {
      "arrayName": "certificates",
      "template": "SELECT /**select**/ FROM [reginst_basic].[CertificateData] RICertificate /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RICertificate.RICertificateID AS id"
        },
        {
          "column": "RICertificate.CertificateNo AS certificateNumber"
        },
        {
          "column": "RICertificate.CertificateDate AS certificateDate"
        },
        {
          "column": "RICertificate.GenerateCertificateFile AS certificateId"
        },
        {
          "column": "RICertificate.CertificateFileScaned AS copyCertificateId"
        },
        {
          "column": "'Генерирано удостоверение' AS certificateLabel"
        },
        {
          "column": "'Подписано удостоверение' AS copyCertificateLabel"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RICertificate.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RICertificate.RICertificateID",
          "type": "ASC"
        }
      ]
    },
    {
      "arrayName": "publicCertificates",
      "template": "SELECT /**select**/ FROM [reginst_basic].[CertificateData] RICertificate /**where**/ /**orderby**/",
      "columns": [
        {
          "column": "RICertificate.RICertificateID AS id"
        },
        {
          "column": "RICertificate.CertificateNo AS publicCertificateNumber"
        },
        {
          "column": "RICertificate.CertificateDate AS publicCertificateDate"
        },
        {
          "column": "RICertificate.CertificateFileScaned AS copyCertificateId"
        },
        {
          "column": "'scannedCertificate' AS copyCertificateLabel"
        }
      ],
      "params": [
        {
          "param": "@procID",
          "column": "RICertificate.RIprocedureID",
          "operator": "=",
          "value": "procID",
          "type": "int",
          "logical_operator": "and",
          "optional": false,
          "static": false,
          "from_claim": false
        }
      ],
      "order": [
        {
          "column": "RICertificate.RICertificateID",
          "type": "ASC"
        }
      ]
    }
  ]
}