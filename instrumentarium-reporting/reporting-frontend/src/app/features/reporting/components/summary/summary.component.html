<div class="row">
  <div class="col-12 small color-gray-600 mt-2">
    * След избор на колоните, по които искате да групирате и колоната, по която да обобщите, моля натиснете бутона "Зареди
    данни"
  </div>
  <div class="col-12 fw-bold mt-2 title">Обобщете по</div>
  <div class="col-12">
    <p-dropdown
      inputId="measures"
      [options]="availableMeasures$ | async"
      [(ngModel)]="reportSummaryService.sumarizedBy"
      optionLabel="shortTitle"
      placeholder="Изберете опция"
      (onChange)="reportSummaryService.updateSummary($event)"
      dataKey="name"
      appendTo="body"
      panelStyleClass="summary-dropdown"
    >
      <ng-template pTemplate="selectedItem">
        <div class="summary-item summary-item-value" *ngIf="reportSummaryService.sumarizedBy">
          <div>{{ reportSummaryService.sumarizedBy.shortTitle }}</div>
        </div>
      </ng-template>
      <ng-template let-summary pTemplate="item">
        <div class="summary-item d-flex justify-content-between align-items-center">
          <div>{{ summary.shortTitle }}</div>
          <i class="bi bi-question-circle ml-2" [pTooltip]="summary.title" tooltipPosition="top"></i>
        </div>
      </ng-template>
    </p-dropdown>
  </div>
  <div class="col-12">
    <hr />
  </div>
  <div class="col-12 fw-bold title">Групирайте по</div>
  <div class="col-12">
    <p-multiSelect
      inputId="dimensions"
      optionLabel="shortTitle"
      [options]="availableDimensions$ | async"
      [(ngModel)]="reportSummaryService.summaryGroupedBy"
      placeholder="Изберете колони"
      (onChange)="reportSummaryService.updateSummary($event)"
    ></p-multiSelect>
  </div>
  <div class="col-12 load-data-btn-wrapper">
    <button pButton type="button" label="Зареди данни" class="p-button-primary" (click)="updateSummaryColumns()"></button>
  </div>
</div>
