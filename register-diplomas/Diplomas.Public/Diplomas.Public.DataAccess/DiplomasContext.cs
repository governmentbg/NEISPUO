// <auto-generated> This file has been auto generated by EF Core Power Tools. </auto-generated>
#nullable disable
using System;
using System.Collections.Generic;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Metadata;

namespace Diplomas.Public.DataAccess
{
    public partial class DiplomasContext : DbContext
    {
        public DiplomasContext()
        {
        }

        public DiplomasContext(DbContextOptions<DiplomasContext> options)
            : base(options)
        {
        }

        public virtual DbSet<Absence> Absences { get; set; }
        public virtual DbSet<AbsenceAspflatFile> AbsenceAspflatFiles { get; set; }
        public virtual DbSet<AbsenceCampaign> AbsenceCampaigns { get; set; }
        public virtual DbSet<AbsenceExport> AbsenceExports { get; set; }
        public virtual DbSet<AbsenceHistory> AbsenceHistories { get; set; }
        public virtual DbSet<AbsenceImport> AbsenceImports { get; set; }
        public virtual DbSet<AdditionalSupportType> AdditionalSupportTypes { get; set; }
        public virtual DbSet<AdmissionDocument> AdmissionDocuments { get; set; }
        public virtual DbSet<AdmissionDocumentDocument> AdmissionDocumentDocuments { get; set; }
        public virtual DbSet<AdmissionPermissionRequest> AdmissionPermissionRequests { get; set; }
        public virtual DbSet<AdmissionReasonType> AdmissionReasonTypes { get; set; }
        public virtual DbSet<AppSetting> AppSettings { get; set; }
        public virtual DbSet<AppSettingsForTenant> AppSettingsForTenants { get; set; }
        public virtual DbSet<AspSubmittedDataHistory> AspSubmittedDataHistories { get; set; }
        public virtual DbSet<AspenrolledStudentsExport> AspenrolledStudentsExports { get; set; }
        public virtual DbSet<AspmonthlyBenefit> AspmonthlyBenefits { get; set; }
        public virtual DbSet<AspmonthlyBenefitInstitution> AspmonthlyBenefitInstitutions { get; set; }
        public virtual DbSet<AspmonthlyBenefitsImport> AspmonthlyBenefitsImports { get; set; }
        public virtual DbSet<AuditEntry> AuditEntries { get; set; }
        public virtual DbSet<AuditEntryProperty> AuditEntryProperties { get; set; }
        public virtual DbSet<AuditModule> AuditModules { get; set; }
        public virtual DbSet<AvailableArchitecture> AvailableArchitectures { get; set; }
        public virtual DbSet<Award> Awards { get; set; }
        public virtual DbSet<AwardCategory> AwardCategories { get; set; }
        public virtual DbSet<AwardDocument> AwardDocuments { get; set; }
        public virtual DbSet<AwardReason> AwardReasons { get; set; }
        public virtual DbSet<AwardType> AwardTypes { get; set; }
        public virtual DbSet<BarcodeYear> BarcodeYears { get; set; }
        public virtual DbSet<BaseSchoolType> BaseSchoolTypes { get; set; }
        public virtual DbSet<BasicClass> BasicClasses { get; set; }
        public virtual DbSet<BasicDocument> BasicDocuments { get; set; }
        public virtual DbSet<BasicDocumentLimit> BasicDocumentLimits { get; set; }
        public virtual DbSet<BasicDocumentPart> BasicDocumentParts { get; set; }
        public virtual DbSet<BasicDocumentSubject> BasicDocumentSubjects { get; set; }
        public virtual DbSet<BudgetingInstitution> BudgetingInstitutions { get; set; }
        public virtual DbSet<BuildingArea> BuildingAreas { get; set; }
        public virtual DbSet<BuildingRoom> BuildingRooms { get; set; }
        public virtual DbSet<Certificate> Certificates { get; set; }
        public virtual DbSet<ClassGroup> ClassGroups { get; set; }
        public virtual DbSet<CommonSupportType> CommonSupportTypes { get; set; }
        public virtual DbSet<CommuterType> CommuterTypes { get; set; }
        public virtual DbSet<ContextualInformation> ContextualInformations { get; set; }
        public virtual DbSet<Country> Countries { get; set; }
        public virtual DbSet<CurrentYear> CurrentYears { get; set; }
        public virtual DbSet<DetailedSchoolType> DetailedSchoolTypes { get; set; }
        public virtual DbSet<Diploma> Diplomas { get; set; }
        public virtual DbSet<DiplomaAdditionalDocument> DiplomaAdditionalDocuments { get; set; }
        public virtual DbSet<DiplomaDocument> DiplomaDocuments { get; set; }
        public virtual DbSet<DiplomaSubject> DiplomaSubjects { get; set; }
        public virtual DbSet<DischargeDocument> DischargeDocuments { get; set; }
        public virtual DbSet<DischargeDocumentDocument> DischargeDocumentDocuments { get; set; }
        public virtual DbSet<DischargeReasonType> DischargeReasonTypes { get; set; }
        public virtual DbSet<Document> Documents { get; set; }
        public virtual DbSet<EarlyEvaluationReason> EarlyEvaluationReasons { get; set; }
        public virtual DbSet<EducationType> EducationTypes { get; set; }
        public virtual DbSet<EducationalState> EducationalStates { get; set; }
        public virtual DbSet<Ekrtype> Ekrtypes { get; set; }
        public virtual DbSet<Equalization> Equalizations { get; set; }
        public virtual DbSet<EqualizationDetail> EqualizationDetails { get; set; }
        public virtual DbSet<ExtAccess> ExtAccesses { get; set; }
        public virtual DbSet<ExtSystem> ExtSystems { get; set; }
        public virtual DbSet<ExtSystemAccess> ExtSystemAccesses { get; set; }
        public virtual DbSet<ExtSystemCertificate> ExtSystemCertificates { get; set; }
        public virtual DbSet<ExtSystemService> ExtSystemServices { get; set; }
        public virtual DbSet<ExtSystemServicesMap> ExtSystemServicesMaps { get; set; }
        public virtual DbSet<ExtSystemType> ExtSystemTypes { get; set; }
        public virtual DbSet<ExternalEvaluation> ExternalEvaluations { get; set; }
        public virtual DbSet<ExternalEvaluationItem> ExternalEvaluationItems { get; set; }
        public virtual DbSet<ExternalEvaluationType> ExternalEvaluationTypes { get; set; }
        public virtual DbSet<FinancialSchoolType> FinancialSchoolTypes { get; set; }
        public virtual DbSet<FirstToThirdClassGrade> FirstToThirdClassGrades { get; set; }
        public virtual DbSet<Founder> Founders { get; set; }
        public virtual DbSet<Gender> Genders { get; set; }
        public virtual DbSet<Grade> Grades { get; set; }
        public virtual DbSet<GraduationCommissionMember> GraduationCommissionMembers { get; set; }
        public virtual DbSet<Graocampaign> Graocampaigns { get; set; }
        public virtual DbSet<Graoperson> Graopeople { get; set; }
        public virtual DbSet<Institution> Institutions { get; set; }
        public virtual DbSet<InstitutionChange> InstitutionChanges { get; set; }
        public virtual DbSet<InstitutionConfDatum> InstitutionConfData { get; set; }
        public virtual DbSet<InstitutionSchoolYear> InstitutionSchoolYears { get; set; }
        public virtual DbSet<InternationalMobility> InternationalMobilities { get; set; }
        public virtual DbSet<InternationalMobilityDocument> InternationalMobilityDocuments { get; set; }
        public virtual DbSet<InternationalProtection> InternationalProtections { get; set; }
        public virtual DbSet<Itlevel> Itlevels { get; set; }
        public virtual DbSet<Language> Languages { get; set; }
        public virtual DbSet<LocalArea> LocalAreas { get; set; }
        public virtual DbSet<LodEvaluationGeneral> LodEvaluationGenerals { get; set; }
        public virtual DbSet<LodEvaluationSectionAb> LodEvaluationSectionAbs { get; set; }
        public virtual DbSet<LodEvaluationSectionG> LodEvaluationSectionGs { get; set; }
        public virtual DbSet<LodEvaluationSectionV> LodEvaluationSectionVs { get; set; }
        public virtual DbSet<LodEvaluationsResult> LodEvaluationsResults { get; set; }
        public virtual DbSet<LodFinalizationSignatory> LodFinalizationSignatories { get; set; }
        public virtual DbSet<LodFirstGradeEvaluation> LodFirstGradeEvaluations { get; set; }
        public virtual DbSet<LodFirstGradeResult> LodFirstGradeResults { get; set; }
        public virtual DbSet<LodSelfEduFormEvaluation> LodSelfEduFormEvaluations { get; set; }
        public virtual DbSet<Lodfinalization> Lodfinalizations { get; set; }
        public virtual DbSet<Message> Messages { get; set; }
        public virtual DbSet<MessageAttachment> MessageAttachments { get; set; }
        public virtual DbSet<Ministry> Ministries { get; set; }
        public virtual DbSet<Month> Months { get; set; }
        public virtual DbSet<Municipality> Municipalities { get; set; }
        public virtual DbSet<Nkrtype> Nkrtypes { get; set; }
        public virtual DbSet<Note> Notes { get; set; }
        public virtual DbSet<NoteDocument> NoteDocuments { get; set; }
        public virtual DbSet<Orestype> Orestypes { get; set; }
        public virtual DbSet<OriginalDiploma> OriginalDiplomas { get; set; }
        public virtual DbSet<OtherDocument> OtherDocuments { get; set; }
        public virtual DbSet<OtherDocumentDocument> OtherDocumentDocuments { get; set; }
        public virtual DbSet<OtherInstitution> OtherInstitutions { get; set; }
        public virtual DbSet<ParentChildSchoolBookAccess> ParentChildSchoolBookAccesses { get; set; }
        public virtual DbSet<Participation> Participations { get; set; }
        public virtual DbSet<Person> People { get; set; }
        public virtual DbSet<PersonalDevelopmentAdditionalSupportType> PersonalDevelopmentAdditionalSupportTypes { get; set; }
        public virtual DbSet<PersonalDevelopmentCommonSupportType> PersonalDevelopmentCommonSupportTypes { get; set; }
        public virtual DbSet<PersonalDevelopmentDocument> PersonalDevelopmentDocuments { get; set; }
        public virtual DbSet<PersonalDevelopmentEarlyEvaluationReason> PersonalDevelopmentEarlyEvaluationReasons { get; set; }
        public virtual DbSet<PersonalDevelopmentSupport> PersonalDevelopmentSupports { get; set; }
        public virtual DbSet<PersonalIdtype> PersonalIdtypes { get; set; }
        public virtual DbSet<Position> Positions { get; set; }
        public virtual DbSet<PreSchoolEvaluation> PreSchoolEvaluations { get; set; }
        public virtual DbSet<PreSchoolReadiness> PreSchoolReadinesses { get; set; }
        public virtual DbSet<PrintTemplate> PrintTemplates { get; set; }
        public virtual DbSet<ProfileClass> ProfileClasses { get; set; }
        public virtual DbSet<ReasonForEqualizationType> ReasonForEqualizationTypes { get; set; }
        public virtual DbSet<Recognition> Recognitions { get; set; }
        public virtual DbSet<RecognitionDocument> RecognitionDocuments { get; set; }
        public virtual DbSet<RecognitionEducationLevel> RecognitionEducationLevels { get; set; }
        public virtual DbSet<RecognitionEqualization> RecognitionEqualizations { get; set; }
        public virtual DbSet<Region> Regions { get; set; }
        public virtual DbSet<RegisterLeftForAbroad> RegisterLeftForAbroads { get; set; }
        public virtual DbSet<RelativeChild> RelativeChildren { get; set; }
        public virtual DbSet<RelativeHistory> RelativeHistories { get; set; }
        public virtual DbSet<RelocationDocument> RelocationDocuments { get; set; }
        public virtual DbSet<RelocationDocumentCurrentTermGrade> RelocationDocumentCurrentTermGrades { get; set; }
        public virtual DbSet<RelocationDocumentDocument> RelocationDocumentDocuments { get; set; }
        public virtual DbSet<RepeaterReason> RepeaterReasons { get; set; }
        public virtual DbSet<ResourceSupport> ResourceSupports { get; set; }
        public virtual DbSet<ResourceSupportDocument> ResourceSupportDocuments { get; set; }
        public virtual DbSet<ResourceSupportReport> ResourceSupportReports { get; set; }
        public virtual DbSet<ResourceSupportSpecialist> ResourceSupportSpecialists { get; set; }
        public virtual DbSet<ResourceSupportSpecialistType> ResourceSupportSpecialistTypes { get; set; }
        public virtual DbSet<ResourceSupportSpecialistWorkPlace> ResourceSupportSpecialistWorkPlaces { get; set; }
        public virtual DbSet<ResourceSupportType> ResourceSupportTypes { get; set; }
        public virtual DbSet<Sanction> Sanctions { get; set; }
        public virtual DbSet<SanctionDocument> SanctionDocuments { get; set; }
        public virtual DbSet<SanctionType> SanctionTypes { get; set; }
        public virtual DbSet<ScholarshipAmount> ScholarshipAmounts { get; set; }
        public virtual DbSet<ScholarshipFinancingOrgan> ScholarshipFinancingOrgans { get; set; }
        public virtual DbSet<ScholarshipStudent> ScholarshipStudents { get; set; }
        public virtual DbSet<ScholarshipStudentDocument> ScholarshipStudentDocuments { get; set; }
        public virtual DbSet<ScholarshipType> ScholarshipTypes { get; set; }
        public virtual DbSet<SchoolTypeLodAccess> SchoolTypeLodAccesses { get; set; }
        public virtual DbSet<SelfGovernment> SelfGovernments { get; set; }
        public virtual DbSet<SelfGovernmentPosition> SelfGovernmentPositions { get; set; }
        public virtual DbSet<SpecialEquipment> SpecialEquipments { get; set; }
        public virtual DbSet<SpecialNeed> SpecialNeeds { get; set; }
        public virtual DbSet<SpecialNeedsSubType> SpecialNeedsSubTypes { get; set; }
        public virtual DbSet<SpecialNeedsType> SpecialNeedsTypes { get; set; }
        public virtual DbSet<SpecialNeedsYear> SpecialNeedsYears { get; set; }
        public virtual DbSet<SpecialNeedsYearAttachment> SpecialNeedsYearAttachments { get; set; }
        public virtual DbSet<Student> Students { get; set; }
        public virtual DbSet<StudentClass> StudentClasses { get; set; }
        public virtual DbSet<StudentClassHistory> StudentClassHistories { get; set; }
        public virtual DbSet<StudentEvaluation> StudentEvaluations { get; set; }
        public virtual DbSet<StudentType> StudentTypes { get; set; }
        public virtual DbSet<Subject> Subjects { get; set; }
        public virtual DbSet<SupportPeriod> SupportPeriods { get; set; }
        public virtual DbSet<SysRole> SysRoles { get; set; }
        public virtual DbSet<SysUser> SysUsers { get; set; }
        public virtual DbSet<SysUserSysRole> SysUserSysRoles { get; set; }
        public virtual DbSet<SystemUserMessage> SystemUserMessages { get; set; }
        public virtual DbSet<Template> Templates { get; set; }
        public virtual DbSet<TemplateSubject> TemplateSubjects { get; set; }
        public virtual DbSet<Town> Towns { get; set; }
        public virtual DbSet<Uierror> Uierrors { get; set; }
        public virtual DbSet<Validation> Validations { get; set; }
        public virtual DbSet<ValidationDocument> ValidationDocuments { get; set; }

        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            modelBuilder.HasDefaultSchema("core");

            modelBuilder.Entity<Absence>(entity =>
            {
                entity.ToTable("Absence", "student");

                entity.HasIndex(e => new { e.PersonId, e.SchoolYear, e.Month, e.InstitutionId }, "AK_PersonId_SchoolYear_Month_InstitutionId")
                    .IsUnique();

                entity.HasIndex(e => e.AbsenceImportId, "IX_Absence_AbsenceImportId");

                entity.HasIndex(e => new { e.SchoolYear, e.Month }, "IX_StudentAbsene_SchoolYear_Month");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Excused).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.Unexcused).HasColumnType("decimal(5, 2)");

                entity.HasOne(d => d.AbsenceImport)
                    .WithMany(p => p.Absences)
                    .HasForeignKey(d => d.AbsenceImportId)
                    .HasConstraintName("FK_Absence_AbsenceImport");

                entity.HasOne(d => d.Class)
                    .WithMany(p => p.Absences)
                    .HasForeignKey(d => d.ClassId)
                    .HasConstraintName("FK_StudentAbsence_ClassGroup");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AbsenceCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Absence_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AbsenceModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Absence_ModifiedSysUser");

                entity.HasOne(d => d.MonthNavigation)
                    .WithMany(p => p.Absences)
                    .HasForeignKey(d => d.Month)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Absence_Month");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Absences)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Absence_Person");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Absences)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Absence_InstitutionSchoolYear");
            });

            modelBuilder.Entity<AbsenceAspflatFile>(entity =>
            {
                entity.HasNoKey();

                entity.ToTable("AbsenceASPFlatFile", "student");

                entity.HasIndex(e => e.PersonalId, "IX_AbsenceASPFlatFile_PersonalId");

                entity.Property(e => e.Aspstatus).HasColumnName("ASPStatus");

                entity.Property(e => e.FirstName)
                    .HasMaxLength(25)
                    .IsUnicode(false);

                entity.Property(e => e.Id).ValueGeneratedOnAdd();

                entity.Property(e => e.LastName)
                    .HasMaxLength(25)
                    .IsUnicode(false);

                entity.Property(e => e.MiddleName)
                    .HasMaxLength(25)
                    .IsUnicode(false);

                entity.Property(e => e.PersonalId).HasMaxLength(20);

                entity.Property(e => e.Version)
                    .HasMaxLength(8)
                    .HasColumnName("version");
            });

            modelBuilder.Entity<AbsenceCampaign>(entity =>
            {
                entity.ToTable("AbsenceCampaign", "student");

                entity.HasIndex(e => new { e.SchoolYear, e.Month }, "AK_AbsenceCampaign_SchoolYear_Month")
                    .IsUnique();

                entity.HasIndex(e => new { e.SchoolYear, e.Month }, "IX_AbsenceCampaign_SchoolYear_Month");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.FromDate).HasColumnType("date");

                entity.Property(e => e.Name).HasMaxLength(255);

                entity.Property(e => e.ToDate).HasColumnType("date");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AbsenceCampaignCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceCampaign_Creator");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AbsenceCampaignModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AbsenceCampaign_Updater");

                entity.HasOne(d => d.MonthNavigation)
                    .WithMany(p => p.AbsenceCampaigns)
                    .HasForeignKey(d => d.Month)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceCampaign_Month");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.AbsenceCampaigns)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceCampaign_CurrentSchoolYear");
            });

            modelBuilder.Entity<AbsenceExport>(entity =>
            {
                entity.ToTable("AbsenceExport", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AbsenceExportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceExport_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AbsenceExportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AbsenceExport_ModifiedSysUser");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.AbsenceExports)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceExport_SchoolYear");
            });

            modelBuilder.Entity<AbsenceHistory>(entity =>
            {
                entity.ToTable("AbsenceHistory", "student");

                entity.HasIndex(e => e.AbsenceId, "IX_AbsenceHistory_AbsenceId");

                entity.Property(e => e.Excused).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.Unexcused).HasColumnType("decimal(5, 2)");

                entity.HasOne(d => d.Absence)
                    .WithMany(p => p.AbsenceHistories)
                    .HasForeignKey(d => d.AbsenceId)
                    .HasConstraintName("FK_AbsenceHistory_Absence");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AbsenceHistories)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceHistory_ModifiedSysUser");
            });

            modelBuilder.Entity<AbsenceImport>(entity =>
            {
                entity.ToTable("AbsenceImport", "student");

                entity.HasIndex(e => new { e.InstitutionId, e.SchoolYear, e.Month }, "IX_Absence_Institution_SchoolYear_Month");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AbsenceImportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceImport_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AbsenceImportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AbsenceImport_ModifiedSysUser");

                entity.HasOne(d => d.MonthNavigation)
                    .WithMany(p => p.AbsenceImports)
                    .HasForeignKey(d => d.Month)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceImport_Month");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.AbsenceImports)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceImport_InstitutionSchoolYear");

                entity.HasOne(d => d.AbsenceCampaign)
                    .WithMany(p => p.AbsenceImports)
                    .HasPrincipalKey(p => new { p.SchoolYear, p.Month })
                    .HasForeignKey(d => new { d.SchoolYear, d.Month })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceImport_AbsenceCampaign");
            });

            modelBuilder.Entity<AdditionalSupportType>(entity =>
            {
                entity.ToTable("AdditionalSupportType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<AdmissionDocument>(entity =>
            {
                entity.ToTable("AdmissionDocument", "student");

                entity.HasIndex(e => e.PersonId, "IX_AdmissionDocument_PersonId");

                entity.HasIndex(e => e.CurrentStudentClassId, "IX_AdmissionDocument_StudentClassId");

                entity.Property(e => e.AdmissionDate).HasColumnType("date");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DischargeDate).HasColumnType("date");

                entity.Property(e => e.NoteDate).HasColumnType("date");

                entity.Property(e => e.NoteNumber)
                    .IsRequired()
                    .HasMaxLength(20);

                entity.Property(e => e.PositionId).HasDefaultValueSql("((3))");

                entity.HasOne(d => d.AdmissionReasonType)
                    .WithMany(p => p.AdmissionDocuments)
                    .HasForeignKey(d => d.AdmissionReasonTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionDocument_AdmissionReasonType");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AdmissionDocumentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionDocument_Creator_SysUser");

                entity.HasOne(d => d.CurrentStudentClass)
                    .WithMany(p => p.AdmissionDocuments)
                    .HasForeignKey(d => d.CurrentStudentClassId)
                    .HasConstraintName("FK_AdmissionDocument_StudentClass");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AdmissionDocumentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AdmissionDocument_Updater_SysUserd");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.AdmissionDocuments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionDocument_Person");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.AdmissionDocuments)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .HasConstraintName("FK_AdmissionDocument_RelocationDocument");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.AdmissionDocuments)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionDocument_Institution_SchoolYear");
            });

            modelBuilder.Entity<AdmissionDocumentDocument>(entity =>
            {
                entity.ToTable("AdmissionDocumentDocument", "student");

                entity.HasOne(d => d.AdmissionDocument)
                    .WithMany(p => p.AdmissionDocumentDocuments)
                    .HasForeignKey(d => d.AdmissionDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionDocumentDocument_AdmissionDocument");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.AdmissionDocumentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionDocumentDocument_Document");
            });

            modelBuilder.Entity<AdmissionPermissionRequest>(entity =>
            {
                entity.ToTable("AdmissionPermissionRequest", "student");

                entity.HasIndex(e => new { e.AuthorizingInstitutionId, e.IsPermissionGranted }, "IX_AdmissionPermissionRequest_AuthorizingInstitutionId_IsPermissionGranted");

                entity.HasIndex(e => e.PersonId, "IX_AdmissionPermissionRequest_PersonId");

                entity.HasIndex(e => new { e.RequestingInstitutionId, e.IsPermissionGranted }, "IX_AdmissionPermissionRequest_RequestingInstitutionId_IsPermissionGranted");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Note).HasMaxLength(2048);

                entity.HasOne(d => d.AdmissionDocument)
                    .WithMany(p => p.AdmissionPermissionRequests)
                    .HasForeignKey(d => d.AdmissionDocumentId)
                    .HasConstraintName("FK_AdmissionPermissionRequest_AdmissionDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AdmissionPermissionRequestCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionPermissionRequest_Creator_SysUser");

                entity.HasOne(d => d.DischargeDocument)
                    .WithMany(p => p.AdmissionPermissionRequests)
                    .HasForeignKey(d => d.DischargeDocumentId)
                    .HasConstraintName("FK_AdmissionPermissionRequest_DischageDocument");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AdmissionPermissionRequestModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AdmissionPermissionRequest_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.AdmissionPermissionRequests)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionPermissionRequest_Person");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.AdmissionPermissionRequests)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .HasConstraintName("FK_AdmissionPermissionRequest_RelocationDocument");

                entity.HasOne(d => d.AuthorizingInstitution)
                    .WithMany(p => p.AdmissionPermissionRequestAuthorizingInstitutions)
                    .HasForeignKey(d => new { d.AuthorizingInstitutionId, d.AuthorizingInstitutionSchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionPermissionRequest_InstitutionSchoolYear_AuthorizingInstitution");

                entity.HasOne(d => d.RequestingInstitution)
                    .WithMany(p => p.AdmissionPermissionRequestRequestingInstitutions)
                    .HasForeignKey(d => new { d.RequestingInstitutionId, d.RequestingInstitutionSchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionPermissionRequest_InstitutionSchoolYear_RequestingInstitution");
            });

            modelBuilder.Entity<AdmissionReasonType>(entity =>
            {
                entity.ToTable("AdmissionReasonType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<AppSetting>(entity =>
            {
                entity.HasKey(e => e.Key)
                    .HasName("PK__AppSetti__C41E02889C74E37A");

                entity.ToTable("AppSettings", "student");

                entity.ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("AppSettingsHistory", "student");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.Property(e => e.Key).HasMaxLength(255);
            });

            modelBuilder.Entity<AppSettingsForTenant>(entity =>
            {
                entity.HasKey(e => new { e.InstitutionId, e.Key })
                    .HasName("PK__AppSetti__11B75685575D595D");

                entity.ToTable("AppSettingsForTenant", "student");

                entity.Property(e => e.Key).HasMaxLength(255);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((8))");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AppSettingsForTenantCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AppSettingsForTenant_SysUser_Creator");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AppSettingsForTenantModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AppSettingsForTenant_SysUser_Updater");
            });

            modelBuilder.Entity<AspSubmittedDataHistory>(entity =>
            {
                entity.ToTable("AspSubmittedDataHistory", "student");

                entity.HasIndex(e => new { e.PersonalId, e.PersonalIdType }, "IX_AspSubmittedDataHistory_PersonalId_PersonalIdType");

                entity.HasIndex(e => new { e.Year, e.Month, e.ExportTypeCode }, "IX_AspSubmittedDataHistory_Year_Month_ExportTypeCode");

                entity.Property(e => e.Aspstatus).HasColumnName("ASPStatus");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ExportTypeCode)
                    .IsRequired()
                    .HasMaxLength(10)
                    .IsUnicode(false);

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(25);

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(25);

                entity.Property(e => e.MiddleName).HasMaxLength(25);

                entity.Property(e => e.PersonalId)
                    .IsRequired()
                    .HasMaxLength(10)
                    .IsUnicode(false);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AspSubmittedDataHistories)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AspExportedDataHistory_CreatedSysUser");

                entity.HasOne(d => d.MonthNavigation)
                    .WithMany(p => p.AspSubmittedDataHistories)
                    .HasForeignKey(d => d.Month)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AspSubmittedDataHistory_Month");

                entity.HasOne(d => d.PersonalIdTypeNavigation)
                    .WithMany(p => p.AspSubmittedDataHistories)
                    .HasForeignKey(d => d.PersonalIdType)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AspSubmittedDataHistory_PersonalIdType");
            });

            modelBuilder.Entity<AspenrolledStudentsExport>(entity =>
            {
                entity.ToTable("ASPEnrolledStudentsExport", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AspenrolledStudentsExportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPEnrolledStudentsExport_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AspenrolledStudentsExportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ASPEnrolledStudentsExport_ModifiedSysUser");
            });

            modelBuilder.Entity<AspmonthlyBenefit>(entity =>
            {
                entity.ToTable("ASPMonthlyBenefit", "student");

                entity.HasIndex(e => e.AspmonthlyBenefitsImportId, "IX_ASPMonthlyBenefit_ASPMonthlyBenefitsImportId");

                entity.HasIndex(e => e.CurrentInstitutionId, "IX_ASPMonthlyBenefit_CurrentInstitutionId");

                entity.Property(e => e.AbsenceCorrection).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.AbsenceCount).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.AspmonthlyBenefitsImportId).HasColumnName("ASPMonthlyBenefitsImportId");

                entity.Property(e => e.Aspstatus).HasColumnName("ASPStatus");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Monstatus).HasColumnName("MONStatus");

                entity.Property(e => e.Reason).HasMaxLength(2000);

                entity.Property(e => e.StatusAspname)
                    .IsRequired()
                    .HasMaxLength(9)
                    .HasColumnName("StatusASPName")
                    .HasComputedColumnSql("(case [ASPStatus] when (0) then N'Отсъствие' when (1) then N'Отписан' when (2) then N'ОРЕС' else N'' end)", true);

                entity.Property(e => e.StatusNeispuoname)
                    .IsRequired()
                    .HasMaxLength(57)
                    .HasColumnName("StatusNEISPUOName")
                    .HasComputedColumnSql("(case [MONStatus] when (0) then N'За преглед' when (1) then N'Потвърждавам (прекратяването на помощите/брой дни в ОРЕС)' when (2) then N'Отказвам, няма основания' else N'' end)", true);

                entity.HasOne(d => d.AspmonthlyBenefitsImport)
                    .WithMany(p => p.AspmonthlyBenefits)
                    .HasForeignKey(d => d.AspmonthlyBenefitsImportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefits_ASPMonthlyBenefitsImport");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefits_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ASPMonthlyBenefits_ModifiedSysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.AspmonthlyBenefits)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefit_Person");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.AspmonthlyBenefitInstitutionSchoolYears)
                    .HasForeignKey(d => new { d.CurrentInstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_ASPMonthlyBenefits_CurrentInstitutionSchoolYear");

                entity.HasOne(d => d.InstitutionSchoolYearNavigation)
                    .WithMany(p => p.AspmonthlyBenefitInstitutionSchoolYearNavigations)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefits_InstitutionSchoolYear");
            });

            modelBuilder.Entity<AspmonthlyBenefitInstitution>(entity =>
            {
                entity.ToTable("ASPMonthlyBenefitInstitution", "student");

                entity.HasIndex(e => new { e.InstitutionId, e.AspmonthlyBenefitImportId }, "IX_ASPMonthlyBenefitInstitution_InstitutionId_ASPMonthlyBenefitImportId");

                entity.Property(e => e.AspmonthlyBenefitImportId).HasColumnName("ASPMonthlyBenefitImportId");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.AspmonthlyBenefitImport)
                    .WithMany(p => p.AspmonthlyBenefitInstitutions)
                    .HasForeignKey(d => d.AspmonthlyBenefitImportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefitImportInsitution_Import");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitInstitutionCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefitInstitution_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitInstitutionModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ASPMonthlyBenefitInstitution_Updater_SysUser");
            });

            modelBuilder.Entity<AspmonthlyBenefitsImport>(entity =>
            {
                entity.ToTable("ASPMonthlyBenefitsImport", "student");

                entity.HasIndex(e => new { e.SchoolYear, e.Month }, "AK_ASPMonthlyBenefitsImport_SchoolYear_Month")
                    .IsUnique();

                entity.HasIndex(e => e.AspSessionNo, "IX_ASPMonthlyBenefitsImport_AspSessionNo");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ExportedBySysUserId).HasColumnName("ExportedBySysUserID");

                entity.Property(e => e.FromDate).HasColumnType("date");

                entity.Property(e => e.ToDate).HasColumnType("date");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitsImportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefitsImport_CreatedSysUser");

                entity.HasOne(d => d.ExportedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitsImportExportedBySysUsers)
                    .HasForeignKey(d => d.ExportedBySysUserId)
                    .HasConstraintName("FK_ASPMonthlyBenefitsImport_ExportedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitsImportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ASPMonthlyBenefitsImport_ModifiedSysUser");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.AspmonthlyBenefitsImports)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefitsImport_SchoolYear");
            });

            modelBuilder.Entity<AuditEntry>(entity =>
            {
                entity.ToTable("AuditEntries", "student");

                entity.HasIndex(e => e.CreatedBySysUserId, "IX_Stuent_AuditEntries_CreatedBySysUserId");

                entity.Property(e => e.AuditEntryId).HasColumnName("AuditEntryID");

                entity.Property(e => e.CorrelationId).HasMaxLength(36);

                entity.Property(e => e.CreatedBy).HasMaxLength(255);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.CreatedDate).HasColumnType("datetime");

                entity.Property(e => e.Description).HasMaxLength(1000);

                entity.Property(e => e.EntitySetName).HasMaxLength(255);

                entity.Property(e => e.EntityTypeName).HasMaxLength(255);

                entity.Property(e => e.Ip).HasMaxLength(40);

                entity.Property(e => e.StateName).HasMaxLength(255);

                entity.Property(e => e.UserAgent).HasMaxLength(255);
            });

            modelBuilder.Entity<AuditEntryProperty>(entity =>
            {
                entity.ToTable("AuditEntryProperties", "student");

                entity.HasIndex(e => e.AuditEntryId, "IX_Stuent_AuditEntryID");

                entity.Property(e => e.AuditEntryPropertyId).HasColumnName("AuditEntryPropertyID");

                entity.Property(e => e.AuditEntryId).HasColumnName("AuditEntryID");

                entity.Property(e => e.PropertyName).HasMaxLength(255);

                entity.Property(e => e.RelationName).HasMaxLength(255);

                entity.HasOne(d => d.AuditEntry)
                    .WithMany(p => p.AuditEntryProperties)
                    .HasForeignKey(d => d.AuditEntryId)
                    .HasConstraintName("FK_student.AuditEntryProperties_student.AuditEntries_AuditEntryID");
            });

            modelBuilder.Entity<AuditModule>(entity =>
            {
                entity.ToTable("AuditModule", "logs");

                entity.Property(e => e.AuditModuleId).ValueGeneratedNever();

                entity.Property(e => e.Name).IsRequired();
            });

            modelBuilder.Entity<AvailableArchitecture>(entity =>
            {
                entity.ToTable("AvailableArchitecture", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.StudentClassId).HasColumnName("StudentClassID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AvailableArchitectureCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AvailableArchitecture_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AvailableArchitectureModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AvailableArchitecture_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.AvailableArchitectures)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AvailableArchitecture_Student");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.AvailableArchitectures)
                    .HasForeignKey(d => d.StudentClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AvailableArchitecture_StudentClassId");
            });

            modelBuilder.Entity<Award>(entity =>
            {
                entity.ToTable("Award", "student");

                entity.Property(e => e.AdditionalInformation).HasMaxLength(2048);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Date).HasColumnType("date");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.OrderNumber).HasMaxLength(255);

                entity.HasOne(d => d.AwardCategory)
                    .WithMany(p => p.Awards)
                    .HasForeignKey(d => d.AwardCategoryId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Award_AwardCategory");

                entity.HasOne(d => d.AwardReason)
                    .WithMany(p => p.Awards)
                    .HasForeignKey(d => d.AwardReasonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Award_AwardReason");

                entity.HasOne(d => d.AwardType)
                    .WithMany(p => p.Awards)
                    .HasForeignKey(d => d.AwardTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Award_AwardType");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AwardCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Award_Creator_SysUser");

                entity.HasOne(d => d.Founder)
                    .WithMany(p => p.Awards)
                    .HasForeignKey(d => d.FounderId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Award_Founder");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AwardModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Award_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Awards)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Award_Student");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Awards)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_Award_InstitutionSchoolYear");
            });

            modelBuilder.Entity<AwardCategory>(entity =>
            {
                entity.ToTable("AwardCategory", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<AwardDocument>(entity =>
            {
                entity.ToTable("AwardDocument", "student");

                entity.HasOne(d => d.Award)
                    .WithMany(p => p.AwardDocuments)
                    .HasForeignKey(d => d.AwardId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AwardDocument_Award");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.AwardDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AwardDocument_Document");
            });

            modelBuilder.Entity<AwardReason>(entity =>
            {
                entity.ToTable("AwardReason", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<AwardType>(entity =>
            {
                entity.ToTable("AwardTypes", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<BarcodeYear>(entity =>
            {
                entity.ToTable("BarcodeYear", "document");

                entity.HasIndex(e => new { e.Edition, e.BasicDocumentId, e.SchoolYear }, "UQ_BarcodeYear_Edition_BasicDocumentId_SchoolYear")
                    .IsUnique();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.HeaderPage)
                    .IsRequired()
                    .HasMaxLength(128);

                entity.Property(e => e.InternalPage).HasMaxLength(128);

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.BarcodeYears)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BarcodeYear_BasicDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.BarcodeYearCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BarcodeYear_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.BarcodeYearModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_BarcodeYear_Updater_SysUser");
            });

            modelBuilder.Entity<BaseSchoolType>(entity =>
            {
                entity.ToTable("BaseSchoolType", "noms");

                entity.Property(e => e.BaseSchoolTypeId)
                    .ValueGeneratedNever()
                    .HasColumnName("BaseSchoolTypeID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<BasicClass>(entity =>
            {
                entity.ToTable("BasicClass", "inst_nom");

                entity.Property(e => e.BasicClassId)
                    .ValueGeneratedNever()
                    .HasColumnName("BasicClassID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.RomeName).HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<BasicDocument>(entity =>
            {
                entity.ToTable("BasicDocument", "document");

                entity.Property(e => e.Abbreviation).HasMaxLength(255);

                entity.Property(e => e.BasicClasses).HasMaxLength(450);

                entity.Property(e => e.CodeClassName).HasMaxLength(1000);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.DetailedSchoolTypes).HasMaxLength(1000);

                entity.Property(e => e.HasSubjects)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.MainBasicDocuments).HasMaxLength(1000);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ReportFormPath).HasMaxLength(1024);

                entity.Property(e => e.SeriesFormat).HasMaxLength(100);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<BasicDocumentLimit>(entity =>
            {
                entity.ToTable("BasicDocumentLimit", "document");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.BasicDocumentLimits)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentToDetailedSchoolType_BasicDocument");

                entity.HasOne(d => d.DetailedSchoolType)
                    .WithMany(p => p.BasicDocumentLimits)
                    .HasForeignKey(d => d.DetailedSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentToDetailedSchoolType_DetailedSchoolType");
            });

            modelBuilder.Entity<BasicDocumentPart>(entity =>
            {
                entity.ToTable("BasicDocumentPart", "document");

                entity.Property(e => e.BasicClass).HasMaxLength(255);

                entity.Property(e => e.Code).HasMaxLength(5);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SubjectTypesList).HasDefaultValueSql("('')");

                entity.HasOne(d => d.BasicClassNavigation)
                    .WithMany(p => p.BasicDocumentParts)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_BasicDocumentPart_BasicClass");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.BasicDocumentParts)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentPart_BasicDocument");
            });

            modelBuilder.Entity<BasicDocumentSubject>(entity =>
            {
                entity.ToTable("BasicDocumentSubject", "document");

                entity.HasOne(d => d.BasicDocumentPart)
                    .WithMany(p => p.BasicDocumentSubjects)
                    .HasForeignKey(d => d.BasicDocumentPartId)
                    .HasConstraintName("FK_BasicDocumentSubject_BasicDocumentPart");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.BasicDocumentSubjects)
                    .HasForeignKey(d => d.SubjectId)
                    .HasConstraintName("FK_BasicDocumentSubject_Subject");
            });

            modelBuilder.Entity<BudgetingInstitution>(entity =>
            {
                entity.ToTable("BudgetingInstitution", "noms");

                entity.Property(e => e.BudgetingInstitutionId)
                    .ValueGeneratedNever()
                    .HasColumnName("BudgetingInstitutionID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<BuildingArea>(entity =>
            {
                entity.ToTable("BuildingArea", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.StudentClassId).HasColumnName("StudentClassID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.BuildingAreaCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingArea_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.BuildingAreaModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_BuildingArea_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.BuildingAreas)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingArea_Student");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.BuildingAreas)
                    .HasForeignKey(d => d.StudentClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingArea_StudentClassId");
            });

            modelBuilder.Entity<BuildingRoom>(entity =>
            {
                entity.ToTable("BuildingRoom", "student");

                entity.Property(e => e.BuildingRoomTypeId).HasColumnName("BuildingRoomTypeID");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.StudentClassId).HasColumnName("StudentClassID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.BuildingRoomCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingRoom_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.BuildingRoomModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_BuildingRoom_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.BuildingRooms)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingRoom_Student");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.BuildingRooms)
                    .HasForeignKey(d => d.StudentClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingRoom_StudentClassId");
            });

            modelBuilder.Entity<Certificate>(entity =>
            {
                entity.ToTable("Certificate");

                entity.Property(e => e.Contents).IsRequired();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Issuer)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Name).IsRequired();

                entity.Property(e => e.SerialNumber)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.Subject)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Thumbprint)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.CertificateCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Certificate_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.CertificateModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Certificate_Updater_SysUser");
            });

            modelBuilder.Entity<ClassGroup>(entity =>
            {
                entity.HasKey(e => e.ClassId);

                entity.ToTable("ClassGroup", "inst_year");

                entity.HasComment("Паралелки/Групи");

                entity.HasIndex(e => e.ClassSpecialityId, "IX_ClassGroup_ClassSpecialityId");

                entity.HasIndex(e => e.InstitutionDepartmentId, "IX_ClassGroup_InstitutionDepartmentId");

                entity.HasIndex(e => new { e.InstitutionId, e.SchoolYear }, "IX_ClassGroup_InstitutionId");

                entity.HasIndex(e => e.ParentClassId, "IX_ClassGroup_ParentClassId");

                entity.Property(e => e.ClassId)
                    .HasColumnName("ClassID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.AreaId)
                    .HasColumnName("AreaID")
                    .HasComment("Профил (отнася се за групите в");

                entity.Property(e => e.BasicClassId)
                    .HasColumnName("BasicClassID")
                    .HasComment("Идентификатор на випуска (възр");

                entity.Property(e => e.BudgetingClassTypeId)
                    .HasColumnName("BudgetingClassTypeID")
                    .HasComment("От кого се финансира");

                entity.Property(e => e.ClassEduDurationId)
                    .HasColumnName("ClassEduDurationID")
                    .HasComment("Срок на обучение на паралелкат");

                entity.Property(e => e.ClassEduFormId)
                    .HasColumnName("ClassEduFormID")
                    .HasComment("Форма на обучение на паралелка");

                entity.Property(e => e.ClassGroupNum).HasComment("Пореден номер на групата");

                entity.Property(e => e.ClassName)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Наименование на паралелката/гр");

                entity.Property(e => e.ClassShiftId)
                    .HasColumnName("ClassShiftID")
                    .HasComment("форма на организация на учебни");

                entity.Property(e => e.ClassSpecialityId)
                    .HasColumnName("ClassSpecialityID")
                    .HasComment("Специалност");

                entity.Property(e => e.ClassTypeId)
                    .HasColumnName("ClassTypeID")
                    .HasComment("Вид на паралелката/групата");

                entity.Property(e => e.EntranceLevelId)
                    .HasColumnName("EntranceLevelID")
                    .HasComment("Прием след:");

                entity.Property(e => e.ExternalId)
                    .HasMaxLength(100)
                    .HasColumnName("ExternalID");

                entity.Property(e => e.Flid)
                    .HasColumnName("FLID")
                    .HasComment("Чужд език");

                entity.Property(e => e.FltypeId)
                    .HasColumnName("FLTypeID")
                    .HasComment("Начин на изучаване на чуждия е");

                entity.Property(e => e.InstitutionDepartmentId)
                    .HasColumnName("InstitutionDepartmentID")
                    .HasComment("Уникален идентификатор на адре");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.IsCombined)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Слята паралелка\"");

                entity.Property(e => e.IsNoList)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Не се прилага списък н");

                entity.Property(e => e.IsNotPresentForm)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"За неприсъствени форми");

                entity.Property(e => e.IsProfModule).HasComment("Маркер \"Професионално обучение");

                entity.Property(e => e.IsSpecNeed)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Специална паралелка/гр");

                entity.Property(e => e.IsValid)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.IsWholeClass)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Цяла паралелка/група\"");

                entity.Property(e => e.Notes)
                    .HasMaxLength(1024)
                    .HasComment("Бележки");

                entity.Property(e => e.ParalellClassName)
                    .HasMaxLength(255)
                    .HasComment("Име на паралелката/групата (на");

                entity.Property(e => e.ParentClassId)
                    .HasColumnName("ParentClassID")
                    .HasComment("Уникален идентификатор на базо");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.StudentCountPlaces).HasComment("Брой места");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.TmpClassId)
                    .HasColumnName("tmp_ClassID")
                    .HasComment("Временно поле, използва се при");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_ClassGroupBasicClass");

                entity.HasOne(d => d.BudgetingClassType)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.BudgetingClassTypeId)
                    .HasConstraintName("FK_ClassGroupBudget");

                entity.HasOne(d => d.ParentClass)
                    .WithMany(p => p.InverseParentClass)
                    .HasForeignKey(d => d.ParentClassId)
                    .HasConstraintName("FK_ClassGroupParentClass");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ClassGroupCurrentYear");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_ClassGroupSysUser");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ClassGroupInstitution");
            });

            modelBuilder.Entity<CommonSupportType>(entity =>
            {
                entity.ToTable("CommonSupportType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<CommuterType>(entity =>
            {
                entity.ToTable("CommuterType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ContextualInformation>(entity =>
            {
                entity.ToTable("ContextualInformation", "student");

                entity.HasIndex(e => new { e.ModuleName, e.Key }, "AK_Student_ContextualInformation_Modulename_Key")
                    .IsUnique();

                entity.Property(e => e.Description).HasMaxLength(4000);

                entity.Property(e => e.Key).IsRequired();

                entity.Property(e => e.ModuleName)
                    .IsRequired()
                    .HasMaxLength(50);

                entity.Property(e => e.Value).HasMaxLength(1000);
            });

            modelBuilder.Entity<Country>(entity =>
            {
                entity.ToTable("Country", "location");

                entity.Property(e => e.CountryId)
                    .ValueGeneratedNever()
                    .HasColumnName("CountryID");

                entity.Property(e => e.Code)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);
            });

            modelBuilder.Entity<CurrentYear>(entity =>
            {
                entity.ToTable("CurrentYear", "inst_basic");

                entity.HasIndex(e => e.TempCurrentYearId, "AK_CurrentYear_TempCurrentYearID")
                    .IsUnique();

                entity.Property(e => e.CurrentYearId)
                    .ValueGeneratedNever()
                    .HasColumnName("CurrentYearID");

                entity.Property(e => e.ChangeYearFrom).HasColumnType("datetime");

                entity.Property(e => e.ChangeYearTo).HasColumnType("datetime");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.TempCurrentYearId)
                    .IsRequired()
                    .HasColumnName("TempCurrentYearID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<DetailedSchoolType>(entity =>
            {
                entity.ToTable("DetailedSchoolType", "noms");

                entity.HasIndex(e => e.InstType, "IX_DetailedSchoolType_Test");

                entity.Property(e => e.DetailedSchoolTypeId)
                    .ValueGeneratedNever()
                    .HasColumnName("DetailedSchoolTypeID");

                entity.Property(e => e.BaseSchoolTypeId).HasColumnName("BaseSchoolTypeID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");

                entity.HasOne(d => d.BaseSchoolType)
                    .WithMany(p => p.DetailedSchoolTypes)
                    .HasForeignKey(d => d.BaseSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DetailedSchoolType_BaseSchoolType");
            });

            modelBuilder.Entity<Diploma>(entity =>
            {
                entity.ToTable("Diploma", "document");

                entity.HasIndex(e => e.InstitutionId, "IX_Diploma_InstitutionId");

                entity.HasIndex(e => new { e.InstitutionId, e.BasicDocumentId, e.Series, e.FactoryNumber }, "IX_Diploma_InstitutionId_BasicDocumentId_Series_FactoryNumber");

                entity.HasIndex(e => new { e.InstitutionId, e.SchoolYear }, "IX_Diploma_InstitutionId_SchoolYear");

                entity.HasIndex(e => e.OriginalDiplomaId, "IX_Diploma_OriginalDiplomaId");

                entity.HasIndex(e => e.PersonId, "IX_Diploma_PersonId");

                entity.HasIndex(e => e.PersonalId, "IX_Diploma_PersonalId");

                entity.HasIndex(e => new { e.RuoRegId, e.SchoolYear }, "IX_Diploma_RuoRegId_SchoolYear");

                entity.HasIndex(e => e.SchoolYear, "IX_Diploma_SchoolYear");

                entity.HasIndex(e => e.TemplateId, "IX_Diploma_TemplateId");

                entity.Property(e => e.BasicDocumentName).HasMaxLength(255);

                entity.Property(e => e.BirthDate).HasColumnType("date");

                entity.Property(e => e.BirthPlaceMunicipality).HasMaxLength(255);

                entity.Property(e => e.BirthPlaceRegion).HasMaxLength(255);

                entity.Property(e => e.BirthPlaceTown).HasMaxLength(255);

                entity.Property(e => e.CancellationReason).HasMaxLength(1000);

                entity.Property(e => e.ClassTypeName).HasMaxLength(255);

                entity.Property(e => e.CommissionOrderNumber).HasMaxLength(50);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Deputy).HasMaxLength(1024);

                entity.Property(e => e.EditableSetReason).HasMaxLength(1000);

                entity.Property(e => e.EduDuration).HasColumnType("decimal(5, 1)");

                entity.Property(e => e.EduFormName).HasMaxLength(255);

                entity.Property(e => e.Ekr).HasColumnName("EKR");

                entity.Property(e => e.FactoryNumber).HasMaxLength(50);

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.FirstNameLatin).HasMaxLength(255);

                entity.Property(e => e.FlgelevelId).HasColumnName("FLGELevelId");

                entity.Property(e => e.Gpa)
                    .HasColumnType("decimal(5, 2)")
                    .HasColumnName("GPA");

                entity.Property(e => e.Gpatext)
                    .HasMaxLength(100)
                    .HasColumnName("GPAText");

                entity.Property(e => e.InstitutionName).HasMaxLength(1024);

                entity.Property(e => e.ItlevelId).HasColumnName("ITLevelId");

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.LastNameLatin).HasMaxLength(255);

                entity.Property(e => e.LeadTeacher).HasMaxLength(100);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.MiddleNameLatin).HasMaxLength(255);

                entity.Property(e => e.MinistryName).HasMaxLength(255);

                entity.Property(e => e.Nationality).HasMaxLength(255);

                entity.Property(e => e.NationalityId).HasColumnName("NationalityID");

                entity.Property(e => e.Nkr).HasColumnName("NKR");

                entity.Property(e => e.PersonalId).HasMaxLength(255);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");

                entity.Property(e => e.Principal).HasMaxLength(1024);

                entity.Property(e => e.ProfessionPart).HasMaxLength(400);

                entity.Property(e => e.ProtocolDate).HasColumnType("date");

                entity.Property(e => e.ProtocolNumber).HasMaxLength(50);

                entity.Property(e => e.RecognitionOrderDate).HasColumnType("date");

                entity.Property(e => e.RecognitionOrderNo).HasMaxLength(35);

                entity.Property(e => e.RegistrationDate).HasColumnType("date");

                entity.Property(e => e.RegistrationNumberTotal)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.RegistrationNumberYear).HasMaxLength(199);

                entity.Property(e => e.Series).HasMaxLength(50);

                entity.Property(e => e.Session).HasMaxLength(100);

                entity.Property(e => e.SignedBySysUserId).HasColumnName("SignedBySysUserID");

                entity.Property(e => e.SppooprofessionId).HasColumnName("SPPOOProfessionId");

                entity.Property(e => e.SppooprofessionName)
                    .HasMaxLength(255)
                    .HasColumnName("SPPOOProfessionName");

                entity.Property(e => e.SppoospecialityId).HasColumnName("SPPOOSpecialityId");

                entity.Property(e => e.SppoospecialityName)
                    .HasMaxLength(255)
                    .HasColumnName("SPPOOSpecialityName");

                entity.Property(e => e.StateExamQualificationGrade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.StateExamQualificationGradeText).HasMaxLength(100);

                entity.Property(e => e.TmpCurrVer).HasColumnName("tmp_CurrVer");

                entity.Property(e => e.TmpIdnumber).HasColumnName("tmp_IDNumber");

                entity.Property(e => e.TmpTemplateId).HasColumnName("tmp_TemplateID");

                entity.Property(e => e.ValidationSession).HasMaxLength(50);

                entity.Property(e => e.Vetqualification)
                    .HasMaxLength(255)
                    .HasColumnName("VETQualification");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_Diploma_BasicClass");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Diploma_BasicDocument");

                entity.HasOne(d => d.CancelledBySysUser)
                    .WithMany(p => p.DiplomaCancelledBySysUsers)
                    .HasForeignKey(d => d.CancelledBySysUserId)
                    .HasConstraintName("FK_Diploma_CancelledSysUser");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DiplomaCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Diploma_SysUser");

                entity.HasOne(d => d.EditableSetBySysUser)
                    .WithMany(p => p.DiplomaEditableSetBySysUsers)
                    .HasForeignKey(d => d.EditableSetBySysUserId)
                    .HasConstraintName("FK_Diploma_EditableSetBySysUserId");

                entity.HasOne(d => d.EducationType)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.EducationTypeId)
                    .HasConstraintName("FK_Diploma_EducationType");

                entity.HasOne(d => d.GenderNavigation)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.Gender)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Person_Gender");

                entity.HasOne(d => d.Itlevel)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.ItlevelId)
                    .HasConstraintName("FK_Diploma_ITLevel");

                entity.HasOne(d => d.Ministry)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.MinistryId)
                    .HasConstraintName("FK_Diploma_Ministry");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DiplomaModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Diploma_ModifiedBySysUser");

                entity.HasOne(d => d.NationalityNavigation)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.NationalityId)
                    .HasConstraintName("FK_Person_Country");

                entity.HasOne(d => d.OriginalDiploma)
                    .WithMany(p => p.InverseOriginalDiploma)
                    .HasForeignKey(d => d.OriginalDiplomaId)
                    .HasConstraintName("FK_Diploma_Diploma");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Document_Person");

                entity.HasOne(d => d.PersonalIdtypeNavigation)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.PersonalIdtype)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Person_PersonalIDType");

                entity.HasOne(d => d.SignedBySysUser)
                    .WithMany(p => p.DiplomaSignedBySysUsers)
                    .HasForeignKey(d => d.SignedBySysUserId)
                    .HasConstraintName("FK_Diploma_SignedBySysUserID");

                entity.HasOne(d => d.Template)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.TemplateId)
                    .OnDelete(DeleteBehavior.SetNull)
                    .HasConstraintName("FK_Document_Template");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_Diploma_Institution");
            });

            modelBuilder.Entity<DiplomaAdditionalDocument>(entity =>
            {
                entity.ToTable("DiplomaAdditionalDocument", "document");

                entity.HasIndex(e => e.DiplomaId, "IX_DiplomaAdditionalDocument_DiplomaId");

                entity.Property(e => e.BasicDocumentName).HasMaxLength(255);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.FactoryNumber).HasMaxLength(50);

                entity.Property(e => e.InstitutionAddress).HasMaxLength(1024);

                entity.Property(e => e.InstitutionName).HasMaxLength(1024);

                entity.Property(e => e.LocalArea).HasMaxLength(100);

                entity.Property(e => e.Municipality).HasMaxLength(100);

                entity.Property(e => e.Region).HasMaxLength(100);

                entity.Property(e => e.RegistratioNumber).HasMaxLength(50);

                entity.Property(e => e.RegistrationDate).HasColumnType("date");

                entity.Property(e => e.RegistrationNumberYear).HasMaxLength(199);

                entity.Property(e => e.Series).HasMaxLength(50);

                entity.Property(e => e.Town).HasMaxLength(100);

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.DiplomaAdditionalDocuments)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .HasConstraintName("FK_DiplomaAdditionalDocument_BasicDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DiplomaAdditionalDocumentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DiplomaAdditionalDocument_Creator");

                entity.HasOne(d => d.Diploma)
                    .WithMany(p => p.DiplomaAdditionalDocumentDiplomas)
                    .HasForeignKey(d => d.DiplomaId)
                    .HasConstraintName("FK_DiplomaAdditionalDocument_Diploma");

                entity.HasOne(d => d.MainDiploma)
                    .WithMany(p => p.DiplomaAdditionalDocumentMainDiplomas)
                    .HasForeignKey(d => d.MainDiplomaId)
                    .HasConstraintName("FK_DiplomaAdditionalDocument_MainDiploma");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DiplomaAdditionalDocumentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_DiplomaAdditionalDocument_Updater");
            });

            modelBuilder.Entity<DiplomaDocument>(entity =>
            {
                entity.ToTable("DiplomaDocument", "document");

                entity.HasIndex(e => e.DiplomaId, "IX_DiplomaDocument_DiplomaId");

                entity.Property(e => e.Position).HasDefaultValueSql("((1))");

                entity.Property(e => e.TmpCurrYear).HasColumnName("tmp_CurrYear");

                entity.Property(e => e.TmpFileName)
                    .HasMaxLength(100)
                    .HasColumnName("tmp_FileName");

                entity.Property(e => e.TmpSchoolId).HasColumnName("tmp_SchoolID");

                entity.HasOne(d => d.Diploma)
                    .WithMany(p => p.DiplomaDocuments)
                    .HasForeignKey(d => d.DiplomaId)
                    .HasConstraintName("FK_DiplomaDocument_Diploma");
            });

            modelBuilder.Entity<DiplomaSubject>(entity =>
            {
                entity.ToTable("DiplomaSubject", "document");

                entity.HasIndex(e => e.ParentId, "IX_DiplomaSubjectParent");

                entity.HasIndex(e => e.BasicDocumentPartId, "IX_DiplomaSubject_BasicDocumentPartId");

                entity.HasIndex(e => e.BasicDocumentSubjectId, "IX_DiplomaSubject_BasicDocumentSubjectId");

                entity.HasIndex(e => e.DiplomaId, "IX_DiplomaSubject_DiplomaId");

                entity.HasIndex(e => e.SubjectId, "IX_DiplomaSubject_SubjectId");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.Ects)
                    .HasMaxLength(1)
                    .IsUnicode(false)
                    .HasColumnName("ECTS")
                    .IsFixedLength();

                entity.Property(e => e.FlLevel).HasMaxLength(255);

                entity.Property(e => e.FlSubjectName).HasMaxLength(255);

                entity.Property(e => e.Grade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.GradeCategory).HasDefaultValueSql("((1))");

                entity.Property(e => e.GradeText).HasMaxLength(100);

                entity.Property(e => e.Nvopoints)
                    .HasColumnType("decimal(7, 3)")
                    .HasColumnName("NVOPoints");

                entity.Property(e => e.SubjectName).HasMaxLength(255);

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.DiplomaSubjects)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_DiplomaSubject_BasicClass");

                entity.HasOne(d => d.BasicDocumentPart)
                    .WithMany(p => p.DiplomaSubjects)
                    .HasForeignKey(d => d.BasicDocumentPartId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocumentSubject_BasicDocumentPart");

                entity.HasOne(d => d.BasicDocumentSubject)
                    .WithMany(p => p.DiplomaSubjects)
                    .HasForeignKey(d => d.BasicDocumentSubjectId)
                    .OnDelete(DeleteBehavior.SetNull)
                    .HasConstraintName("FK_DocumentSubject_BasicDocumentSubject");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DiplomaSubjectCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DiplomaSubject_Creator");

                entity.HasOne(d => d.Diploma)
                    .WithMany(p => p.DiplomaSubjects)
                    .HasForeignKey(d => d.DiplomaId)
                    .HasConstraintName("FK_DocumentSubject_Document");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DiplomaSubjectModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_DiplomaSubject_Updater");

                entity.HasOne(d => d.Parent)
                    .WithMany(p => p.InverseParent)
                    .HasForeignKey(d => d.ParentId)
                    .HasConstraintName("FK_DiplomaSubject_Parent");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.DiplomaSubjects)
                    .HasForeignKey(d => d.SubjectId)
                    .HasConstraintName("FK_DocumentSubject_Subject");
            });

            modelBuilder.Entity<DischargeDocument>(entity =>
            {
                entity.ToTable("DischargeDocument", "student");

                entity.HasIndex(e => e.CurrentStudentClassId, "IX_DischargeDocument");

                entity.HasIndex(e => e.PersonId, "IX_DischargeDocument_PersonId");

                entity.HasIndex(e => e.CurrentStudentClassId, "IX_RelocationDocument_CurrentStudentClass");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DischargeDate).HasColumnType("date");

                entity.Property(e => e.NoteDate).HasColumnType("date");

                entity.Property(e => e.NoteNumber)
                    .IsRequired()
                    .HasMaxLength(20);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DischargeDocumentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DischargeDocument_Creator_SysUser");

                entity.HasOne(d => d.CurrentStudentClass)
                    .WithMany(p => p.DischargeDocuments)
                    .HasForeignKey(d => d.CurrentStudentClassId)
                    .HasConstraintName("FK_DischargeDocument_StudentClass");

                entity.HasOne(d => d.DischargeReasonType)
                    .WithMany(p => p.DischargeDocuments)
                    .HasForeignKey(d => d.DischargeReasonTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DischargeDocument_DischargeReasonType");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DischargeDocumentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_DischargeDocumen_Updater_SysUserd");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.DischargeDocuments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DischargeDocument_Person");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.DischargeDocuments)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_DischargeDocument_Institution_SchoolYear");
            });

            modelBuilder.Entity<DischargeDocumentDocument>(entity =>
            {
                entity.ToTable("DischargeDocumentDocument", "student");

                entity.HasOne(d => d.DischargeDocument)
                    .WithMany(p => p.DischargeDocumentDocuments)
                    .HasForeignKey(d => d.DischargeDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DischargeDocumentDocument_DischargeDocument");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.DischargeDocumentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DischargeDocumentDocument_Document");
            });

            modelBuilder.Entity<DischargeReasonType>(entity =>
            {
                entity.ToTable("DischargeReasonType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Document>(entity =>
            {
                entity.ToTable("Document", "student");

                entity.HasIndex(e => e.Rowguid, "UQ__Document__6225F3C1D093944D")
                    .IsUnique();

                entity.Property(e => e.ContentType).HasMaxLength(255);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(4000);

                entity.Property(e => e.FileName).HasMaxLength(255);

                entity.Property(e => e.Rowguid).HasDefaultValueSql("(newid())");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DocumentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Document_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DocumentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Document_Updater_SysUserd");
            });

            modelBuilder.Entity<EarlyEvaluationReason>(entity =>
            {
                entity.ToTable("EarlyEvaluationReason", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<EducationType>(entity =>
            {
                entity.ToTable("EducationType", "document");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<EducationalState>(entity =>
            {
                entity.ToTable("EducationalState");

                entity.HasComment("Актуален статус в образователн");

                entity.HasIndex(e => new { e.PersonId, e.InstitutionId, e.PositionId }, "AK_EducationalState_PersonId_InstitutionId_PositionId")
                    .IsUnique();

                entity.HasIndex(e => e.InstitutionId, "IX_EducationalState_InstitutionId");

                entity.HasIndex(e => e.PersonId, "IX_EducationalState_PersonId");

                entity.Property(e => e.EducationalStateId)
                    .HasColumnName("EducationalStateID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.PersonId)
                    .HasColumnName("PersonID")
                    .HasComment("Връзка човек");

                entity.Property(e => e.PositionId)
                    .HasColumnName("PositionID")
                    .HasComment("Позиция в образователната сист");

                entity.HasOne(d => d.Institution)
                    .WithMany(p => p.EducationalStates)
                    .HasForeignKey(d => d.InstitutionId)
                    .HasConstraintName("FK_EducationalState_Institution");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.EducationalStates)
                    .HasForeignKey(d => d.PersonId)
                    .HasConstraintName("FK_EducationalState_Person");

                entity.HasOne(d => d.Position)
                    .WithMany(p => p.EducationalStates)
                    .HasForeignKey(d => d.PositionId)
                    .HasConstraintName("FK_EducationalState_Position");
            });

            modelBuilder.Entity<Ekrtype>(entity =>
            {
                entity.ToTable("EKRType", "document");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Equalization>(entity =>
            {
                entity.ToTable("Equalization", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.EqualizationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Equalization_Creator_SysUser");

                entity.HasOne(d => d.InClassNavigation)
                    .WithMany(p => p.Equalizations)
                    .HasForeignKey(d => d.InClass)
                    .HasConstraintName("FK_Equalizationt_BasicClass");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.EqualizationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Equalization_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Equalizations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Equalization_Student");

                entity.HasOne(d => d.Reason)
                    .WithMany(p => p.Equalizations)
                    .HasForeignKey(d => d.ReasonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Equalization_ReasonForEqualizationType");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.Equalizations)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Equalization_SchoolYear");
            });

            modelBuilder.Entity<EqualizationDetail>(entity =>
            {
                entity.ToTable("EqualizationDetails", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Grade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.Position).HasDefaultValueSql("((1))");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.EqualizationDetails)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_EqualizationDetails_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.EqualizationDetailCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_EqualizationDetails_Creator_SysUser");

                entity.HasOne(d => d.Equalization)
                    .WithMany(p => p.EqualizationDetails)
                    .HasForeignKey(d => d.EqualizationId)
                    .HasConstraintName("FK_EqualizationDetails_Equalization");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.EqualizationDetailModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_EqualizationDetails_Updater_SysUserd");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.EqualizationDetails)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_EqualizationDetails_Subject");
            });

            modelBuilder.Entity<ExtAccess>(entity =>
            {
                entity.HasKey(e => new { e.AccessDate, e.Id });

                entity.ToTable("ExtAccess", "logs");

                entity.Property(e => e.Id).ValueGeneratedOnAdd();

                entity.Property(e => e.Ipaddress)
                    .HasMaxLength(100)
                    .HasColumnName("IPAddress");

                entity.Property(e => e.Params).HasMaxLength(2048);

                entity.Property(e => e.PersonalId).HasMaxLength(255);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");

                entity.HasOne(d => d.AuditModule)
                    .WithMany(p => p.ExtAccesses)
                    .HasForeignKey(d => d.AuditModuleId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExtAccess_AuditModuleId");

                entity.HasOne(d => d.ExtSystem)
                    .WithMany(p => p.ExtAccesses)
                    .HasForeignKey(d => d.ExtSystemId)
                    .HasConstraintName("FK_ExtAccess_ExtSystem");

                entity.HasOne(d => d.ExtSystemService)
                    .WithMany(p => p.ExtAccesses)
                    .HasForeignKey(d => d.ExtSystemServiceId)
                    .HasConstraintName("FK_ExtAccess_ExtSystemService");

                entity.HasOne(d => d.PersonalIdtypeNavigation)
                    .WithMany(p => p.ExtAccesses)
                    .HasForeignKey(d => d.PersonalIdtype)
                    .HasConstraintName("FK_ExtAccess_PersonalIDType");
            });

            modelBuilder.Entity<ExtSystem>(entity =>
            {
                entity.ToTable("ExtSystem");

                entity.Property(e => e.ExtSystemId).HasColumnName("ExtSystemID");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(500);

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.ExtSystems)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_ExtSystem_SysUser");
            });

            modelBuilder.Entity<ExtSystemAccess>(entity =>
            {
                entity.ToTable("ExtSystemAccess");

                entity.Property(e => e.ExtSystemAccessId).HasColumnName("ExtSystemAccessID");

                entity.Property(e => e.ExtSystemId).HasColumnName("ExtSystemID");

                entity.HasOne(d => d.ExtSystem)
                    .WithMany(p => p.ExtSystemAccesses)
                    .HasForeignKey(d => d.ExtSystemId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExtSystemAccess");

                entity.HasOne(d => d.ExtSystemTypeNavigation)
                    .WithMany(p => p.ExtSystemAccesses)
                    .HasForeignKey(d => d.ExtSystemType)
                    .HasConstraintName("FK_ExtSystemType");
            });

            modelBuilder.Entity<ExtSystemCertificate>(entity =>
            {
                entity.HasKey(e => e.Thumbprint)
                    .HasName("PK_ExtSystemThumbprint");

                entity.ToTable("ExtSystemCertificate");

                entity.Property(e => e.Thumbprint).HasMaxLength(255);

                entity.Property(e => e.ExtSystemId).HasColumnName("ExtSystemID");

                entity.HasOne(d => d.ExtSystem)
                    .WithMany(p => p.ExtSystemCertificates)
                    .HasForeignKey(d => d.ExtSystemId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExtSystemCertificate");
            });

            modelBuilder.Entity<ExtSystemService>(entity =>
            {
                entity.HasKey(e => e.ExtServiceId);

                entity.Property(e => e.ExtServiceId).HasColumnName("ExtServiceID");

                entity.Property(e => e.ApiCallQuery).HasMaxLength(255);

                entity.Property(e => e.IsReturnArray).HasDefaultValueSql("((1))");

                entity.Property(e => e.IsValid)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.ProcedureName)
                    .IsRequired()
                    .HasMaxLength(500);

                entity.Property(e => e.ServiceName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ServiceParameters).HasMaxLength(255);
            });

            modelBuilder.Entity<ExtSystemServicesMap>(entity =>
            {
                entity.HasKey(e => e.ExtServiceMapId);

                entity.ToTable("ExtSystemServicesMap");

                entity.Property(e => e.ExtServiceMapId).HasColumnName("ExtServiceMapID");

                entity.Property(e => e.ExtServiceId).HasColumnName("ExtServiceID");

                entity.Property(e => e.ExtSystemId).HasColumnName("ExtSystemID");

                entity.HasOne(d => d.ExtService)
                    .WithMany(p => p.ExtSystemServicesMaps)
                    .HasForeignKey(d => d.ExtServiceId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExtSystemServiceMap");

                entity.HasOne(d => d.ExtSystem)
                    .WithMany(p => p.ExtSystemServicesMaps)
                    .HasForeignKey(d => d.ExtSystemId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExtSystem");
            });

            modelBuilder.Entity<ExtSystemType>(entity =>
            {
                entity.ToTable("ExtSystemType", "noms");

                entity.Property(e => e.ExtSystemTypeId)
                    .ValueGeneratedNever()
                    .HasColumnName("ExtSystemTypeID");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(500);
            });

            modelBuilder.Entity<ExternalEvaluation>(entity =>
            {
                entity.ToTable("ExternalEvaluation", "student");

                entity.HasIndex(e => e.ParentId, "IX_ExternalEvaluation_ParentId");

                entity.HasIndex(e => e.PersonId, "IX_ExternalEvaluation_PersonId");

                entity.Property(e => e.ApplicationDate).HasColumnType("date");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ExternalEvaluationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExternalEvaluation_Creator_SysUser");

                entity.HasOne(d => d.ExternalEvaluationType)
                    .WithMany(p => p.ExternalEvaluations)
                    .HasForeignKey(d => d.ExternalEvaluationTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExternalEvaluation_ExternalEvaluationType");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ExternalEvaluationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ExternalEvaluation_Updater_SysUser");

                entity.HasOne(d => d.Parent)
                    .WithMany(p => p.InverseParent)
                    .HasForeignKey(d => d.ParentId)
                    .HasConstraintName("FK_ExternalEvaluation_Self");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.ExternalEvaluations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExternalEvaluation_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.ExternalEvaluations)
                    .HasForeignKey(d => d.SchoolYear)
                    .HasConstraintName("FK_ExternalEvaluation_CurrentYear");
            });

            modelBuilder.Entity<ExternalEvaluationItem>(entity =>
            {
                entity.ToTable("ExternalEvaluationItem", "student");

                entity.HasIndex(e => e.ExternalEvaluationId, "IX_ExternalEvaluationItem_ExternalEvaluationId");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(400);

                entity.Property(e => e.FisrtTermEvaluaton).HasMaxLength(255);

                entity.Property(e => e.Fllevel)
                    .HasMaxLength(50)
                    .HasColumnName("FLLevel");

                entity.Property(e => e.Grade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.OriginalPoints).HasColumnType("decimal(7, 2)");

                entity.Property(e => e.Points).HasColumnType("decimal(7, 2)");

                entity.Property(e => e.SecondTermEvaluaton).HasMaxLength(255);

                entity.Property(e => e.StrEvaluation).HasMaxLength(255);

                entity.Property(e => e.Subject)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ExternalEvaluationItemCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExternalEvaluationItem_Creator_SysUser");

                entity.HasOne(d => d.ExternalEvaluation)
                    .WithMany(p => p.ExternalEvaluationItems)
                    .HasForeignKey(d => d.ExternalEvaluationId)
                    .HasConstraintName("FK_ExternalEvaluationItem_ExternalEvaluation");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ExternalEvaluationItemModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ExternalEvaluationItem_Updater_SysUser");

                entity.HasOne(d => d.SubjectNavigation)
                    .WithMany(p => p.ExternalEvaluationItems)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExternalEvaluationItem_Subject");
            });

            modelBuilder.Entity<ExternalEvaluationType>(entity =>
            {
                entity.ToTable("ExternalEvaluationType", "student");

                entity.HasIndex(e => e.Name, "UC_ExternalEvaluationType_Name")
                    .IsUnique();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.ExternalEvaluationTypes)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_ExternalEvaluationType_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ExternalEvaluationTypeCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExternalEvaluationType_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ExternalEvaluationTypeModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ExternalEvaluationType_Updater_SysUser");
            });

            modelBuilder.Entity<FinancialSchoolType>(entity =>
            {
                entity.ToTable("FinancialSchoolType", "noms");

                entity.Property(e => e.FinancialSchoolTypeId)
                    .ValueGeneratedNever()
                    .HasColumnName("FinancialSchoolTypeID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<FirstToThirdClassGrade>(entity =>
            {
                entity.ToTable("FirstToThirdClassGrade", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Founder>(entity =>
            {
                entity.ToTable("Founder", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Gender>(entity =>
            {
                entity.ToTable("Gender", "noms");

                entity.Property(e => e.GenderId)
                    .ValueGeneratedNever()
                    .HasColumnName("GenderID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Grade>(entity =>
            {
                entity.ToTable("Grade", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<GraduationCommissionMember>(entity =>
            {
                entity.ToTable("GraduationCommissionMember", "document");

                entity.HasIndex(e => e.DiplomaId, "IX_GraduationCommissionMember_DiplomaId");

                entity.Property(e => e.FullName)
                    .IsRequired()
                    .HasMaxLength(1000);

                entity.Property(e => e.FullNameLatin).HasMaxLength(1000);

                entity.Property(e => e.TmpTemplateId).HasColumnName("tmp_TemplateID");

                entity.HasOne(d => d.Diploma)
                    .WithMany(p => p.GraduationCommissionMembers)
                    .HasForeignKey(d => d.DiplomaId)
                    .OnDelete(DeleteBehavior.Cascade)
                    .HasConstraintName("FK_GraduationCommissionMember_Diploma");

                entity.HasOne(d => d.Template)
                    .WithMany(p => p.GraduationCommissionMembers)
                    .HasForeignKey(d => d.TemplateId)
                    .OnDelete(DeleteBehavior.Cascade)
                    .HasConstraintName("FK_GraduationCommissionMember_Template");
            });

            modelBuilder.Entity<Graocampaign>(entity =>
            {
                entity.ToTable("GRAOCampaign", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(4000);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("date");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.GraocampaignCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_GRAOCampaign_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.GraocampaignModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_GRAOCampaign_Updater_SysUser");
            });

            modelBuilder.Entity<Graoperson>(entity =>
            {
                entity.ToTable("GRAOPerson", "student");

                entity.Property(e => e.BirthPlaceCountry).HasMaxLength(255);

                entity.Property(e => e.BirthPlaceCountryCode).HasMaxLength(10);

                entity.Property(e => e.Caapartment)
                    .HasMaxLength(30)
                    .HasColumnName("CAApartment");

                entity.Property(e => e.CadistrictCode)
                    .HasMaxLength(2)
                    .HasColumnName("CADistrictCode");

                entity.Property(e => e.Caentity)
                    .HasMaxLength(30)
                    .HasColumnName("CAEntity");

                entity.Property(e => e.CaentityCode)
                    .HasMaxLength(5)
                    .HasColumnName("CAEntityCode");

                entity.Property(e => e.Caentrance)
                    .HasMaxLength(5)
                    .HasColumnName("CAEntrance");

                entity.Property(e => e.Cafloor)
                    .HasMaxLength(5)
                    .HasColumnName("CAFloor");

                entity.Property(e => e.CalastChange)
                    .HasColumnType("date")
                    .HasColumnName("CALastChange");

                entity.Property(e => e.Camunicipality)
                    .HasMaxLength(25)
                    .HasColumnName("CAMunicipality");

                entity.Property(e => e.CamunicipalityCode)
                    .HasMaxLength(2)
                    .HasColumnName("CAMunicipalityCode");

                entity.Property(e => e.Canumber)
                    .HasMaxLength(10)
                    .HasColumnName("CANumber");

                entity.Property(e => e.Caregion)
                    .HasMaxLength(25)
                    .HasColumnName("CARegion");

                entity.Property(e => e.CaregionCode)
                    .HasMaxLength(2)
                    .HasColumnName("CARegionCode");

                entity.Property(e => e.Catown)
                    .HasMaxLength(50)
                    .HasColumnName("CATown");

                entity.Property(e => e.CatownCode)
                    .HasMaxLength(5)
                    .HasColumnName("CATownCode");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.FatherPersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("FatherPersonalID");

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.GraocampaignId).HasColumnName("GRAOCampaignID");

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.MotherPersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("MotherPersonalID");

                entity.Property(e => e.Paapartment)
                    .HasMaxLength(30)
                    .HasColumnName("PAApartment");

                entity.Property(e => e.PadistrictCode)
                    .HasMaxLength(2)
                    .HasColumnName("PADistrictCode");

                entity.Property(e => e.Paentity)
                    .HasMaxLength(30)
                    .HasColumnName("PAEntity");

                entity.Property(e => e.PaentityCode)
                    .HasMaxLength(5)
                    .HasColumnName("PAEntityCode");

                entity.Property(e => e.Paentrance)
                    .HasMaxLength(5)
                    .HasColumnName("PAEntrance");

                entity.Property(e => e.Pafloor)
                    .HasMaxLength(5)
                    .HasColumnName("PAFloor");

                entity.Property(e => e.PalastChange)
                    .HasColumnType("date")
                    .HasColumnName("PALastChange");

                entity.Property(e => e.Pamunicipality)
                    .HasMaxLength(25)
                    .HasColumnName("PAMunicipality");

                entity.Property(e => e.PamunicipalityCode)
                    .HasMaxLength(2)
                    .HasColumnName("PAMunicipalityCode");

                entity.Property(e => e.Panumber)
                    .HasMaxLength(10)
                    .HasColumnName("PANumber");

                entity.Property(e => e.Paregion)
                    .HasMaxLength(25)
                    .HasColumnName("PARegion");

                entity.Property(e => e.ParegionCode)
                    .HasMaxLength(2)
                    .HasColumnName("PARegionCode");

                entity.Property(e => e.Patown)
                    .HasMaxLength(50)
                    .HasColumnName("PATown");

                entity.Property(e => e.PatownCode)
                    .HasMaxLength(5)
                    .HasColumnName("PATownCode");

                entity.Property(e => e.PersonalId)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasColumnName("PersonalID");

                entity.Property(e => e.Sibling10PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling10PersonalID");

                entity.Property(e => e.Sibling11PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling11PersonalID");

                entity.Property(e => e.Sibling12PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling12PersonalID");

                entity.Property(e => e.Sibling13PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling13PersonalID");

                entity.Property(e => e.Sibling14PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling14PersonalID");

                entity.Property(e => e.Sibling15PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling15PersonalID");

                entity.Property(e => e.Sibling1PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling1PersonalID");

                entity.Property(e => e.Sibling2PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling2PersonalID");

                entity.Property(e => e.Sibling3PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling3PersonalID");

                entity.Property(e => e.Sibling4PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling4PersonalID");

                entity.Property(e => e.Sibling5PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling5PersonalID");

                entity.Property(e => e.Sibling6PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling6PersonalID");

                entity.Property(e => e.Sibling7PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling7PersonalID");

                entity.Property(e => e.Sibling8PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling8PersonalID");

                entity.Property(e => e.Sibling9PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("Sibling9PersonalID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.GraopersonCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_GRAOPerson_Creator_SysUser");

                entity.HasOne(d => d.Graocampaign)
                    .WithMany(p => p.Graopeople)
                    .HasForeignKey(d => d.GraocampaignId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_GRAOPerson_GRAOCampaignID");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.GraopersonModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_GRAOPerson_Updater_SysUser");
            });

            modelBuilder.Entity<Institution>(entity =>
            {
                entity.ToTable("Institution");

                entity.HasComment("Данни за институциите");

                entity.Property(e => e.InstitutionId)
                    .ValueGeneratedNever()
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.Abbreviation)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Кратко наименование");

                entity.Property(e => e.BaseSchoolTypeId)
                    .HasColumnName("BaseSchoolTypeID")
                    .HasComment("Вид по чл. 37 (общ, според вид");

                entity.Property(e => e.BudgetingSchoolTypeId)
                    .HasColumnName("BudgetingSchoolTypeID")
                    .HasComment("Вид по чл. 35-36 (според собст");

                entity.Property(e => e.Bulstat)
                    .HasMaxLength(13)
                    .HasComment("Булстат/ЕИК");

                entity.Property(e => e.CountryId)
                    .HasColumnName("CountryID")
                    .HasComment("Код на държава");

                entity.Property(e => e.DetailedSchoolTypeId)
                    .HasColumnName("DetailedSchoolTypeID")
                    .HasComment("Вид по чл. 38 (детайлен)");

                entity.Property(e => e.FinancialSchoolTypeId)
                    .HasColumnName("FinancialSchoolTypeID")
                    .HasComment("Източник на финансиране");

                entity.Property(e => e.LocalAreaId)
                    .HasColumnName("LocalAreaID")
                    .HasComment("Код на район (основен адрес)");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024)
                    .HasComment("Пълно наименование");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.Property(e => e.TownId)
                    .HasColumnName("TownID")
                    .HasComment("Код на населеното място (основ");

                entity.HasOne(d => d.BaseSchoolType)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.BaseSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Institution_BaseSchoolType");

                entity.HasOne(d => d.BudgetingSchoolType)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.BudgetingSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Institution_BudgetingSchoolType");

                entity.HasOne(d => d.Country)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.CountryId)
                    .HasConstraintName("FK_Institution_Country");

                entity.HasOne(d => d.DetailedSchoolType)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.DetailedSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Institution_DetailedSchoolType");

                entity.HasOne(d => d.FinancialSchoolType)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.FinancialSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Institution_FinancialSchoolType");

                entity.HasOne(d => d.LocalArea)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.LocalAreaId)
                    .HasConstraintName("FK_Institution_LocalArea");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_Institution_SysUser");

                entity.HasOne(d => d.Town)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.TownId)
                    .HasConstraintName("FK_Institution_Town");
            });

            modelBuilder.Entity<InstitutionChange>(entity =>
            {
                entity.ToTable("InstitutionChange", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.InstitutionChanges)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionChange_InstitutionSchoolYear_Institution");
            });

            modelBuilder.Entity<InstitutionConfDatum>(entity =>
            {
                entity.HasKey(e => e.InstitutionConfDataId);

                entity.HasComment("Конфигурационни данни за текущ")
                    .ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("InstitutionConfDataHistory", "core");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.HasIndex(e => e.CbextProviderId, "IX_InstitutionConfData_CBExtProviderID");

                entity.HasIndex(e => e.InstitutionId, "IX_InstitutionConfData_InstitutionId");

                entity.HasIndex(e => new { e.InstitutionId, e.SchoolYear }, "IX_InstitutionConfData_InstitutionId_SchoolYear");

                entity.HasIndex(e => e.InstitutionId, "UC_InstitutionID")
                    .IsUnique();

                entity.Property(e => e.InstitutionConfDataId)
                    .HasColumnName("InstitutionConfDataID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.CbextProviderId)
                    .HasColumnName("CBExtProviderID")
                    .HasComment("Код на външен доставчик на ЕД");

                entity.Property(e => e.Cbversion)
                    .HasColumnName("CBVersion")
                    .HasComment("Версия на данните за ЕД");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.SoextProviderId)
                    .HasColumnName("SOExtProviderID")
                    .HasComment("Код на външен доставчик на СО");

                entity.Property(e => e.Soversion)
                    .HasColumnName("SOVersion")
                    .HasComment("Версия на данните за СО");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.HasOne(d => d.CbextProvider)
                    .WithMany(p => p.InstitutionConfDatumCbextProviders)
                    .HasForeignKey(d => d.CbextProviderId)
                    .HasConstraintName("FK_InstitutionConfDataCB");

                entity.HasOne(d => d.Institution)
                    .WithOne(p => p.InstitutionConfDatum)
                    .HasForeignKey<InstitutionConfDatum>(d => d.InstitutionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionConfDataInstitution");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.InstitutionConfData)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionConfDataSchoolYear");

                entity.HasOne(d => d.SoextProvider)
                    .WithMany(p => p.InstitutionConfDatumSoextProviders)
                    .HasForeignKey(d => d.SoextProviderId)
                    .HasConstraintName("FK_InstitutionConfData");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.InstitutionConfData)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_InstitutionConfDataSysUser");
            });

            modelBuilder.Entity<InstitutionSchoolYear>(entity =>
            {
                entity.HasKey(e => new { e.InstitutionId, e.SchoolYear });

                entity.ToTable("InstitutionSchoolYear");

                entity.HasComment("Основни данни за институцията ");

                entity.Property(e => e.InstitutionId).HasComment("Код на институцията");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.Abbreviation)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Кратко наименование");

                entity.Property(e => e.BaseSchoolTypeId)
                    .HasColumnName("BaseSchoolTypeID")
                    .HasComment("Вид по чл. 37 (общ, според вид");

                entity.Property(e => e.BudgetingSchoolTypeId)
                    .HasColumnName("BudgetingSchoolTypeID")
                    .HasComment("Вид по чл. 35-36 (според собст");

                entity.Property(e => e.Bulstat)
                    .HasMaxLength(13)
                    .HasComment("БУЛСТАТ");

                entity.Property(e => e.CountryId)
                    .HasColumnName("CountryID")
                    .HasComment("Код на държава");

                entity.Property(e => e.DetailedSchoolTypeId)
                    .HasColumnName("DetailedSchoolTypeID")
                    .HasComment("Вид по чл. 38 (детайлен)");

                entity.Property(e => e.FinancialSchoolTypeId)
                    .HasColumnName("FinancialSchoolTypeID")
                    .HasComment("Източник на финансиране");

                entity.Property(e => e.IsFinalized).HasComment("Финализирана");

                entity.Property(e => e.LocalAreaId)
                    .HasColumnName("LocalAreaID")
                    .HasComment("Код на район (основен адрес)");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024)
                    .HasComment("Наименование");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.TownId)
                    .HasColumnName("TownID")
                    .HasComment("Код на града (основен адрес)");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.HasOne(d => d.BaseSchoolType)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.BaseSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionSchoolYear_BaseSchoolType");

                entity.HasOne(d => d.BudgetingSchoolType)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.BudgetingSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionSchoolYear_BudgetingSchoolType");

                entity.HasOne(d => d.Country)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.CountryId)
                    .HasConstraintName("FK_InstitutionSchoolYear_Country");

                entity.HasOne(d => d.DetailedSchoolType)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.DetailedSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionSchoolYear_DetailedSchoolType");

                entity.HasOne(d => d.FinancialSchoolType)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.FinancialSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionSchoolYear_FinancialSchoolType");

                entity.HasOne(d => d.LocalArea)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.LocalAreaId)
                    .HasConstraintName("FK_InstitutionSchoolYear_LocalArea");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionSchoolYear_CurrentYear");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_InstitutionSchoolYear_SysUser");

                entity.HasOne(d => d.Town)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.TownId)
                    .HasConstraintName("FK_InstitutionSchoolYear_Town");
            });

            modelBuilder.Entity<InternationalMobility>(entity =>
            {
                entity.ToTable("InternationalMobility", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.MainObjectives)
                    .IsRequired()
                    .HasMaxLength(2000);

                entity.Property(e => e.Project)
                    .IsRequired()
                    .HasMaxLength(1000);

                entity.Property(e => e.ReceivingInstitution)
                    .IsRequired()
                    .HasMaxLength(1000);

                entity.HasOne(d => d.Country)
                    .WithMany(p => p.InternationalMobilities)
                    .HasForeignKey(d => d.CountryId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalMobility_Country_Country");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.InternationalMobilityCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalMobility_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.InternationalMobilityModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_InternationalMobility_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.InternationalMobilities)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalMobility_Student");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.InternationalMobilities)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalMobility_SchoolYear");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.InternationalMobilities)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_InternationalMobility_InstitutionSchoolYear");
            });

            modelBuilder.Entity<InternationalMobilityDocument>(entity =>
            {
                entity.ToTable("InternationalMobilityDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.InternationalMobilityDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalMobilityDocument_Document");

                entity.HasOne(d => d.InternationalMobility)
                    .WithMany(p => p.InternationalMobilityDocuments)
                    .HasForeignKey(d => d.InternationalMobilityId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalMobilityDocument_InternationalMobility");
            });

            modelBuilder.Entity<InternationalProtection>(entity =>
            {
                entity.ToTable("InternationalProtection", "student");

                entity.Property(e => e.DocDate).HasColumnType("date");

                entity.Property(e => e.DocNumber).HasMaxLength(50);

                entity.Property(e => e.ValidFrom).HasColumnType("date");

                entity.Property(e => e.ValidTo).HasColumnType("date");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.InternationalProtections)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalProtection_Person");
            });

            modelBuilder.Entity<Itlevel>(entity =>
            {
                entity.ToTable("ITLevel", "document");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Language>(entity =>
            {
                entity.ToTable("Language", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<LocalArea>(entity =>
            {
                entity.ToTable("LocalArea", "location");

                entity.Property(e => e.LocalAreaId)
                    .ValueGeneratedNever()
                    .HasColumnName("LocalAreaID");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.HasOne(d => d.TownCodeNavigation)
                    .WithMany(p => p.LocalAreas)
                    .HasForeignKey(d => d.TownCode)
                    .HasConstraintName("FK_LocalArea_Town");
            });

            modelBuilder.Entity<LodEvaluationGeneral>(entity =>
            {
                entity.ToTable("LodEvaluationGeneral", "student");

                entity.HasIndex(e => e.PersonId, "IX_LodEvaluationGeneral_PersonId");

                entity.HasIndex(e => e.StudentClassId, "IX_LodEvaluationGeneral_StudentClassId");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((1))");

                entity.Property(e => e.IsSelfEduForm).HasColumnName("isSelfEduForm");

                entity.Property(e => e.MajorCourse1).HasMaxLength(255);

                entity.Property(e => e.MajorCourse2).HasMaxLength(255);

                entity.Property(e => e.MajorCourse3).HasMaxLength(255);

                entity.Property(e => e.MajorCourse4).HasMaxLength(255);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodEvaluationGeneralCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationGeneral_Person_CreatedBySysUserId");

                entity.HasOne(d => d.LodEvaluationsResult)
                    .WithMany(p => p.LodEvaluationGenerals)
                    .HasForeignKey(d => d.LodEvaluationsResultId)
                    .HasConstraintName("FK_LodEvaluationGeneral_LodEvaluationsResult");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodEvaluationGeneralModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodEvaluationGeneral_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodEvaluationGenerals)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationGeneral_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodEvaluationGenerals)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationGeneral_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodEvaluationGenerals)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodEvaluationGeneral_StudentClass");
            });

            modelBuilder.Entity<LodEvaluationSectionAb>(entity =>
            {
                entity.ToTable("LodEvaluationSectionAB", "student");

                entity.HasIndex(e => e.PersonId, "IX_LodEvaluationSectionAB_PersonId");

                entity.HasIndex(e => e.StudentClassId, "IX_LodEvaluationSectionAB_StudentClassId");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((1))");

                entity.Property(e => e.SectionAfinalGrade).HasColumnName("SectionAFinalGrade");

                entity.Property(e => e.SectionAfirstTermGrade).HasColumnName("SectionAFirstTermGrade");

                entity.Property(e => e.SectionAhours).HasColumnName("SectionAHours");

                entity.Property(e => e.SectionAsecondTermGrade).HasColumnName("SectionASecondTermGrade");

                entity.Property(e => e.SectionAsession1Grade).HasColumnName("SectionASession1Grade");

                entity.Property(e => e.SectionAsession2Grade).HasColumnName("SectionASession2Grade");

                entity.Property(e => e.SectionAsession3Grade).HasColumnName("SectionASession3Grade");

                entity.Property(e => e.SectionBfinalGrade).HasColumnName("SectionBFinalGrade");

                entity.Property(e => e.SectionBfirstTermGrade).HasColumnName("SectionBFirstTermGrade");

                entity.Property(e => e.SectionBhours).HasColumnName("SectionBHours");

                entity.Property(e => e.SectionBsecondTermGrade).HasColumnName("SectionBSecondTermGrade");

                entity.Property(e => e.SectionBsession1Grade).HasColumnName("SectionBSession1Grade");

                entity.Property(e => e.SectionBsession2Grade).HasColumnName("SectionBSession2Grade");

                entity.Property(e => e.SectionBsession3Grade).HasColumnName("SectionBSession3Grade");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodEvaluationSectionAbCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionAB_Person_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodEvaluationSectionAbModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodEvaluationSectionAB_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodEvaluationSectionAbs)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionAB_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodEvaluationSectionAbs)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionAB_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodEvaluationSectionAbs)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodEvaluationSectionAb_StudentClass");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.LodEvaluationSectionAbs)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionAB_Subject");
            });

            modelBuilder.Entity<LodEvaluationSectionG>(entity =>
            {
                entity.ToTable("LodEvaluationSectionG", "student");

                entity.HasIndex(e => e.PersonId, "IX_LodEvaluationSectionG_PersonId");

                entity.HasIndex(e => e.StudentClassId, "IX_LodEvaluationSectionG_StudentClassId");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((1))");

                entity.Property(e => e.IsSelfEduForm).HasColumnName("isSelfEduForm");

                entity.Property(e => e.SectionGfinalGrade).HasColumnName("SectionGFinalGrade");

                entity.Property(e => e.SectionGfirstTermGrade).HasColumnName("SectionGFirstTermGrade");

                entity.Property(e => e.SectionGhours).HasColumnName("SectionGHours");

                entity.Property(e => e.SectionGsecondTermGrade).HasColumnName("SectionGSecondTermGrade");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodEvaluationSectionGCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionG_Person_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodEvaluationSectionGModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodEvaluationSectionG_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodEvaluationSectionGs)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionG_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodEvaluationSectionGs)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionG_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodEvaluationSectionGs)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodEvaluationSectionG_StudentClass");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.LodEvaluationSectionGs)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionG_Subject");
            });

            modelBuilder.Entity<LodEvaluationSectionV>(entity =>
            {
                entity.ToTable("LodEvaluationSectionV", "student");

                entity.HasIndex(e => e.PersonId, "IX_LodEvaluationSectionV_PersonId");

                entity.HasIndex(e => e.StudentClassId, "IX_LodEvaluationSectionV_StudentClassId");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((1))");

                entity.Property(e => e.SectionVfinalGrade).HasColumnName("SectionVFinalGrade");

                entity.Property(e => e.SectionVfirstTermGrade).HasColumnName("SectionVFirstTermGrade");

                entity.Property(e => e.SectionVhours).HasColumnName("SectionVHours");

                entity.Property(e => e.SectionVsecondTermGrade).HasColumnName("SectionVSecondTermGrade");

                entity.Property(e => e.SectionVsession1Grade).HasColumnName("SectionVSession1Grade");

                entity.Property(e => e.SectionVsession2Grade).HasColumnName("SectionVSession2Grade");

                entity.Property(e => e.SectionVsession3Grade).HasColumnName("SectionVSession3Grade");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodEvaluationSectionVCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionV_Person_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodEvaluationSectionVModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodEvaluationSectionV_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodEvaluationSectionVs)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionV_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodEvaluationSectionVs)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionV_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodEvaluationSectionVs)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodEvaluationSectionV_StudentClass");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.LodEvaluationSectionVs)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionV_Subject");
            });

            modelBuilder.Entity<LodEvaluationsResult>(entity =>
            {
                entity.ToTable("LodEvaluationsResult", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<LodFinalizationSignatory>(entity =>
            {
                entity.ToTable("LodFinalizationSignatory", "student");

                entity.Property(e => e.Activity).IsRequired();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.LodfinalizationId).HasColumnName("LODFinalizationId");

                entity.Property(e => e.Reason).HasMaxLength(1000);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodFinalizationSignatories)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFinalizationSignatory_Creator_SysUser");

                entity.HasOne(d => d.Lodfinalization)
                    .WithMany(p => p.LodFinalizationSignatories)
                    .HasForeignKey(d => d.LodfinalizationId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LODFinalizationSignatory_LODFinalization");

                entity.HasOne(d => d.SysRole)
                    .WithMany(p => p.LodFinalizationSignatories)
                    .HasForeignKey(d => d.SysRoleId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LODFinalizationSignatory_SysRole");
            });

            modelBuilder.Entity<LodFirstGradeEvaluation>(entity =>
            {
                entity.ToTable("LodFirstGradeEvaluation", "student");

                entity.HasIndex(e => e.PersonId, "IX_LodFirstGradeEvaluation_PersonId");

                entity.HasIndex(e => e.StudentClassId, "IX_LodFirstGradeEvaluation_StudentClassId");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((1))");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodFirstGradeEvaluationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_Person_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodFirstGradeEvaluationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodFirstGradeEvaluations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodFirstGradeEvaluations)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodFirstGradeEvaluations)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_StudentClass");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.LodFirstGradeEvaluations)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_Subject");
            });

            modelBuilder.Entity<LodFirstGradeResult>(entity =>
            {
                entity.ToTable("LodFirstGradeResult", "student");

                entity.HasIndex(e => e.PersonId, "IX_LodFirstGradeResult_PersonId");

                entity.HasIndex(e => e.StudentClassId, "IX_LodFirstGradeResult_StudentClassId");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodFirstGradeResultCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeResult_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodFirstGradeResultModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodFirstGradeResult_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodFirstGradeResults)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeResult_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodFirstGradeResults)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeResult_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodFirstGradeResults)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodFirstGradeResult_StudentClass");
            });

            modelBuilder.Entity<LodSelfEduFormEvaluation>(entity =>
            {
                entity.ToTable("LodSelfEduFormEvaluation", "student");

                entity.HasIndex(e => e.PersonId, "IX_LodSelfEduFormEvaluation_PersonId");

                entity.HasIndex(e => e.StudentClassId, "IX_LodSelfEduFormEvaluation_StudentClassId");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((1))");

                entity.Property(e => e.SectionAfinalGrade).HasColumnName("SectionAFinalGrade");

                entity.Property(e => e.SectionAhours).HasColumnName("SectionAHours");

                entity.Property(e => e.SectionAsession0Grade).HasColumnName("SectionASession0Grade");

                entity.Property(e => e.SectionAsession1Grade).HasColumnName("SectionASession1Grade");

                entity.Property(e => e.SectionAsession2Grade).HasColumnName("SectionASession2Grade");

                entity.Property(e => e.SectionAsession3Grade).HasColumnName("SectionASession3Grade");

                entity.Property(e => e.SectionBfinalGrade).HasColumnName("SectionBFinalGrade");

                entity.Property(e => e.SectionBhours).HasColumnName("SectionBHours");

                entity.Property(e => e.SectionBsession0Grade).HasColumnName("SectionBSession0Grade");

                entity.Property(e => e.SectionBsession1Grade).HasColumnName("SectionBSession1Grade");

                entity.Property(e => e.SectionBsession2Grade).HasColumnName("SectionBSession2Grade");

                entity.Property(e => e.SectionBsession3Grade).HasColumnName("SectionBSession3Grade");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodSelfEduFormEvaluationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_Person_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodSelfEduFormEvaluationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodSelfEduFormEvaluations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodSelfEduFormEvaluations)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodSelfEduFormEvaluations)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_StudentClass");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.LodSelfEduFormEvaluations)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_Subject");
            });

            modelBuilder.Entity<Lodfinalization>(entity =>
            {
                entity.ToTable("LODFinalization", "student");

                entity.ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("LODFinalizationHistory", "student");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.HasIndex(e => new { e.PersonId, e.SchoolYear }, "AK_PersonId_SchoolYear")
                    .IsUnique();

                entity.HasIndex(e => new { e.PersonId, e.SchoolYear }, "IX_LODFinalization_PersonId_SchoolYear");

                entity.HasIndex(e => new { e.SchoolYear, e.IsFinalized }, "IX_LODFinalization_SchoolYear_IsFinalized");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodfinalizationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LODFinalization_Creator_SysUser");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.Lodfinalizations)
                    .HasForeignKey(d => d.DocumentId)
                    .HasConstraintName("FK_LODFinalization_Document");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodfinalizationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LODFinalization_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Lodfinalizations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LODFinalization_Person");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.Lodfinalizations)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_Lodfinalization_StudentClass");
            });

            modelBuilder.Entity<Message>(entity =>
            {
                entity.ToTable("Message", "student");

                entity.HasIndex(e => e.ReceiverId, "IX_Message_ReceiverId");

                entity.Property(e => e.Contents).IsRequired();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Subject)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.MessageCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Message_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.MessageModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Message_Updater_SysUser");

                entity.HasOne(d => d.Receiver)
                    .WithMany(p => p.MessageReceivers)
                    .HasForeignKey(d => d.ReceiverId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Message_Receiver_SysUser");

                entity.HasOne(d => d.Sender)
                    .WithMany(p => p.MessageSenders)
                    .HasForeignKey(d => d.SenderId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Message_Sender_SysUser");
            });

            modelBuilder.Entity<MessageAttachment>(entity =>
            {
                entity.ToTable("MessageAttachment", "student");

                entity.HasIndex(e => e.MessageId, "IX_MessageAttachment_MessageId");

                entity.Property(e => e.ContentType).HasMaxLength(255);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.FileName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.MessageAttachmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_MessageAttachment_Creator_SysUser");

                entity.HasOne(d => d.Message)
                    .WithMany(p => p.MessageAttachments)
                    .HasForeignKey(d => d.MessageId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_MessageAttachmentDocument_Message");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.MessageAttachmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_MessageAttachment_Updater_SysUser");
            });

            modelBuilder.Entity<Ministry>(entity =>
            {
                entity.ToTable("Ministry", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.NameDe)
                    .HasMaxLength(255)
                    .HasColumnName("NameDE");

                entity.Property(e => e.NameEn)
                    .HasMaxLength(255)
                    .HasColumnName("NameEN");

                entity.Property(e => e.NameFr)
                    .HasMaxLength(255)
                    .HasColumnName("NameFR");

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Month>(entity =>
            {
                entity.ToTable("Month", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Municipality>(entity =>
            {
                entity.ToTable("Municipality", "location");

                entity.Property(e => e.MunicipalityId)
                    .ValueGeneratedNever()
                    .HasColumnName("MunicipalityID");

                entity.Property(e => e.Code)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.RegionId).HasColumnName("RegionID");

                entity.HasOne(d => d.Region)
                    .WithMany(p => p.Municipalities)
                    .HasForeignKey(d => d.RegionId)
                    .HasConstraintName("FK_Municipality_Region");
            });

            modelBuilder.Entity<Nkrtype>(entity =>
            {
                entity.ToTable("NKRType", "document");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Note>(entity =>
            {
                entity.ToTable("Note", "student");

                entity.Property(e => e.Content).IsRequired();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.IssueDate).HasColumnType("date");

                entity.Property(e => e.Title)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.NoteCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Note_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.NoteModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Note_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Notes)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Note_Person");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Notes)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_Note_InstitutionSchoolYear");
            });

            modelBuilder.Entity<NoteDocument>(entity =>
            {
                entity.ToTable("NoteDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.NoteDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_NoteDocument_Document");

                entity.HasOne(d => d.Note)
                    .WithMany(p => p.NoteDocuments)
                    .HasForeignKey(d => d.NoteId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_NoteDocument_Note");
            });

            modelBuilder.Entity<Orestype>(entity =>
            {
                entity.ToTable("ORESType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<OriginalDiploma>(entity =>
            {
                entity.ToTable("OriginalDiploma", "document");

                entity.HasIndex(e => e.DiplomaId, "IX_OriginalDiploma_DiplomaId");

                entity.HasIndex(e => e.DiplomaId, "UQ__Original__048740513A7612B5")
                    .IsUnique();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.EducationType).HasMaxLength(100);

                entity.Property(e => e.InstituionRegion).HasMaxLength(50);

                entity.Property(e => e.InstitutionDistrict).HasMaxLength(50);

                entity.Property(e => e.InstitutionMunicipality).HasMaxLength(50);

                entity.Property(e => e.InstitutionName).HasMaxLength(255);

                entity.Property(e => e.InstitutionTown).HasMaxLength(50);

                entity.Property(e => e.Number).HasMaxLength(50);

                entity.Property(e => e.Qualification).HasMaxLength(100);

                entity.Property(e => e.RegDate).HasColumnType("date");

                entity.Property(e => e.RegNumber1).HasMaxLength(50);

                entity.Property(e => e.RegNumber2).HasMaxLength(50);

                entity.Property(e => e.Series).HasMaxLength(50);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.OriginalDiplomaCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OriginalDiploma_Creator_SysUser");

                entity.HasOne(d => d.Diploma)
                    .WithOne(p => p.OriginalDiplomaNavigation)
                    .HasForeignKey<OriginalDiploma>(d => d.DiplomaId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OriginalDiploma_Diploma");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.OriginalDiplomaModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Originaliploma_Updater_SysUser");
            });

            modelBuilder.Entity<OtherDocument>(entity =>
            {
                entity.ToTable("OtherDocument", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DeliveryDate).HasColumnType("date");

                entity.Property(e => e.Description).HasMaxLength(400);

                entity.Property(e => e.FactoryNumber).HasMaxLength(50);

                entity.Property(e => e.InstitutionName).HasMaxLength(1000);

                entity.Property(e => e.IssueDate).HasColumnType("date");

                entity.Property(e => e.RegNumber).HasMaxLength(400);

                entity.Property(e => e.RegNumberTotal).HasMaxLength(400);

                entity.Property(e => e.Series).HasMaxLength(50);

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.OtherDocuments)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherDocument_BasicDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.OtherDocuments)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherDocument_Creator_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.OtherDocuments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherDocument_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.OtherDocuments)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherDocument_SchoolYear");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.OtherDocuments)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_OtherDocument_InstitutionSchoolYear");
            });

            modelBuilder.Entity<OtherDocumentDocument>(entity =>
            {
                entity.ToTable("OtherDocumentDocument", "student");

                entity.HasIndex(e => e.OtherDocumentId, "IX_OtherDocumentDocument_OtherDocumentId");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.OtherDocumentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherDocumentDocument_Document");

                entity.HasOne(d => d.OtherDocument)
                    .WithMany(p => p.OtherDocumentDocuments)
                    .HasForeignKey(d => d.OtherDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherDocumentDocument_OtherDocument");
            });

            modelBuilder.Entity<OtherInstitution>(entity =>
            {
                entity.ToTable("OtherInstitution", "student");

                entity.HasIndex(e => new { e.InstitutionId, e.PersonId }, "IX_OtherInstitution_InstitutionId_PersonId");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ModifyDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.Reason).HasMaxLength(2048);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.OtherInstitutionCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherInstitution_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.OtherInstitutionModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_OtherInstitution_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.OtherInstitutions)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherInstitution_Person");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.OtherInstitutions)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_OtherInstitution_InstitutionSchoolYear");
            });

            modelBuilder.Entity<ParentChildSchoolBookAccess>(entity =>
            {
                entity.ToTable("ParentChildSchoolBookAccess");

                entity.HasIndex(e => new { e.ParentId, e.ChildId }, "ChildIDParentIDUniqueConstraint")
                    .IsUnique();

                entity.Property(e => e.ParentChildSchoolBookAccessId).HasColumnName("ParentChildSchoolBookAccessID");

                entity.Property(e => e.ChildId).HasColumnName("ChildID");

                entity.Property(e => e.HasAccess).HasDefaultValueSql("((0))");

                entity.Property(e => e.ParentId).HasColumnName("ParentID");

                entity.HasOne(d => d.Child)
                    .WithMany(p => p.ParentChildSchoolBookAccessChildren)
                    .HasForeignKey(d => d.ChildId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ParentChildSchoolBookAccess_Child_Person");

                entity.HasOne(d => d.Parent)
                    .WithMany(p => p.ParentChildSchoolBookAccessParents)
                    .HasForeignKey(d => d.ParentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ParentChildSchoolBookAccess_Parent_Person");
            });

            modelBuilder.Entity<Participation>(entity =>
            {
                entity.ToTable("Participation", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidForStudent)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Person>(entity =>
            {
                entity.ToTable("Person");

                entity.HasComment("Персонал, ученици, родители - ")
                    .ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("PersonHistory", "core");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.HasIndex(e => e.PersonalId, "UQ_Person_PersonalID")
                    .IsUnique()
                    .HasFilter("([PersonalID] IS NOT NULL)");

                entity.Property(e => e.PersonId)
                    .HasColumnName("PersonID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.AzureId)
                    .HasMaxLength(100)
                    .IsUnicode(false)
                    .HasColumnName("AzureID");

                entity.Property(e => e.BirthDate)
                    .HasColumnType("date")
                    .HasComment("Дата на раждане");

                entity.Property(e => e.BirthPlace).HasMaxLength(255);

                entity.Property(e => e.BirthPlaceCountry).HasComment("Месторождение - Държава");

                entity.Property(e => e.BirthPlaceTownId)
                    .HasColumnName("BirthPlaceTownID")
                    .HasComment("Месторождение - населено място");

                entity.Property(e => e.CurrentAddress)
                    .HasMaxLength(2048)
                    .HasComment("Настоящ адрес");

                entity.Property(e => e.CurrentTownId)
                    .HasColumnName("CurrentTownID")
                    .HasComment("Настоящ адрес - населено място");

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Име");

                entity.Property(e => e.Gender).HasComment("Пол");

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Фамилия");

                entity.Property(e => e.MiddleName)
                    .HasMaxLength(255)
                    .HasComment("Презиме");

                entity.Property(e => e.NationalityId)
                    .HasColumnName("NationalityID")
                    .HasComment("Гражданство");

                entity.Property(e => e.PermanentAddress)
                    .HasMaxLength(2048)
                    .HasComment("Постоянен адрес");

                entity.Property(e => e.PermanentTownId)
                    .HasColumnName("PermanentTownID")
                    .HasComment("Постоянен адрес - населено мяс");

                entity.Property(e => e.PersonalId)
                    .HasMaxLength(255)
                    .HasColumnName("PersonalID")
                    .HasComment("ЕГН/ЛНЧ/Личен номер на чуждене");

                entity.Property(e => e.PersonalIdtype)
                    .HasColumnName("PersonalIDType")
                    .HasComment("Вид идентификатор");

                entity.Property(e => e.PublicEduNumber).HasComment("Личен образователен номер");

                entity.Property(e => e.SchoolBooksCodesId)
                    .HasMaxLength(10)
                    .IsUnicode(false)
                    .HasColumnName("SchoolBooksCodesID");

                entity.HasOne(d => d.BirthPlaceCountryNavigation)
                    .WithMany(p => p.PersonBirthPlaceCountryNavigations)
                    .HasForeignKey(d => d.BirthPlaceCountry)
                    .HasConstraintName("FK_Person_Country_BirthPlace");

                entity.HasOne(d => d.BirthPlaceTown)
                    .WithMany(p => p.PersonBirthPlaceTowns)
                    .HasForeignKey(d => d.BirthPlaceTownId)
                    .HasConstraintName("FK_Person_Town_BirthPlace");

                entity.HasOne(d => d.CurrentTown)
                    .WithMany(p => p.PersonCurrentTowns)
                    .HasForeignKey(d => d.CurrentTownId)
                    .HasConstraintName("FK_Person_Town_Current");

                entity.HasOne(d => d.GenderNavigation)
                    .WithMany(p => p.People)
                    .HasForeignKey(d => d.Gender)
                    .HasConstraintName("FK_Person_Gender");

                entity.HasOne(d => d.Nationality)
                    .WithMany(p => p.PersonNationalities)
                    .HasForeignKey(d => d.NationalityId)
                    .HasConstraintName("FK_Person_Country");

                entity.HasOne(d => d.PermanentTown)
                    .WithMany(p => p.PersonPermanentTowns)
                    .HasForeignKey(d => d.PermanentTownId)
                    .HasConstraintName("FK_Person_Town_Permanent");

                entity.HasOne(d => d.PersonalIdtypeNavigation)
                    .WithMany(p => p.People)
                    .HasForeignKey(d => d.PersonalIdtype)
                    .HasConstraintName("FK_Person_PersonalIDType");
            });

            modelBuilder.Entity<PersonalDevelopmentAdditionalSupportType>(entity =>
            {
                entity.ToTable("PersonalDevelopmentAdditionalSupportType", "student");

                entity.Property(e => e.Information).HasMaxLength(2000);

                entity.HasOne(d => d.AdditionalSupportType)
                    .WithMany(p => p.PersonalDevelopmentAdditionalSupportTypes)
                    .HasForeignKey(d => d.AdditionalSupportTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentAdditionalSupportType_AdditionalSupportType");

                entity.HasOne(d => d.PersonalDevelopmentSupport)
                    .WithMany(p => p.PersonalDevelopmentAdditionalSupportTypes)
                    .HasForeignKey(d => d.PersonalDevelopmentSupportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentAdditionalSupportType_PersonalDevelopmentSupport");
            });

            modelBuilder.Entity<PersonalDevelopmentCommonSupportType>(entity =>
            {
                entity.ToTable("PersonalDevelopmentCommonSupportType", "student");

                entity.Property(e => e.Information).HasMaxLength(2000);

                entity.HasOne(d => d.CommonSupportType)
                    .WithMany(p => p.PersonalDevelopmentCommonSupportTypes)
                    .HasForeignKey(d => d.CommonSupportTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentCommonSupportType_CommonSupportType");

                entity.HasOne(d => d.PersonalDevelopmentSupport)
                    .WithMany(p => p.PersonalDevelopmentCommonSupportTypes)
                    .HasForeignKey(d => d.PersonalDevelopmentSupportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentCommonSupportType_PersonalDevelopmentSupport");
            });

            modelBuilder.Entity<PersonalDevelopmentDocument>(entity =>
            {
                entity.ToTable("PersonalDevelopmentDocument", "student");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.PersonalDevelopmentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentDocument_Document");

                entity.HasOne(d => d.PersonalDevelopmentSupport)
                    .WithMany(p => p.PersonalDevelopmentDocuments)
                    .HasForeignKey(d => d.PersonalDevelopmentSupportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentDocument_PersonalDevelopmentSupport");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.PersonalDevelopmentDocuments)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_PersonalDevelopmentDocument_SysUser");
            });

            modelBuilder.Entity<PersonalDevelopmentEarlyEvaluationReason>(entity =>
            {
                entity.ToTable("PersonalDevelopmentEarlyEvaluationReason", "student");

                entity.Property(e => e.Information).HasMaxLength(2000);

                entity.HasOne(d => d.EarlyEvaluationReason)
                    .WithMany(p => p.PersonalDevelopmentEarlyEvaluationReasons)
                    .HasForeignKey(d => d.EarlyEvaluationReasonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentEarlyEvaluationReason_EarlyEvaluationReason");

                entity.HasOne(d => d.PersonalDevelopmentSupport)
                    .WithMany(p => p.PersonalDevelopmentEarlyEvaluationReasons)
                    .HasForeignKey(d => d.PersonalDevelopmentSupportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentEarlyEvaluationReason_PersonalDevelopmentSupport");
            });

            modelBuilder.Entity<PersonalDevelopmentSupport>(entity =>
            {
                entity.ToTable("PersonalDevelopmentSupport", "student");

                entity.HasIndex(e => new { e.SchoolYear, e.PersonId, e.StudentTypeId, e.SupportPeriodTypeId }, "UQ_PersonalDevelopmentSupport")
                    .IsUnique();

                entity.Property(e => e.AdditionalModulesNeededForNonBulgarianSpeakingInfo).HasMaxLength(2000);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((8))");

                entity.Property(e => e.EarlyEvaluationAndEducationalRiskInfo).HasMaxLength(2000);

                entity.Property(e => e.EvaluationConclusionInfo).HasMaxLength(2000);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.PersonalDevelopmentSupportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentSupport_Person_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.PersonalDevelopmentSupportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_PersonalDevelopmentSupport_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.PersonalDevelopmentSupports)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentSupport_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.PersonalDevelopmentSupports)
                    .HasPrincipalKey(p => p.TempCurrentYearId)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentSupport_SchoolYear");

                entity.HasOne(d => d.StudentType)
                    .WithMany(p => p.PersonalDevelopmentSupports)
                    .HasForeignKey(d => d.StudentTypeId)
                    .HasConstraintName("FK_PersonalDevelopmentSupport_StudentType");

                entity.HasOne(d => d.SupportPeriodType)
                    .WithMany(p => p.PersonalDevelopmentSupports)
                    .HasForeignKey(d => d.SupportPeriodTypeId)
                    .HasConstraintName("FK_PersonalDevelopmentSupport_SupportPeriod");
            });

            modelBuilder.Entity<PersonalIdtype>(entity =>
            {
                entity.ToTable("PersonalIDType", "noms");

                entity.Property(e => e.PersonalIdtypeId)
                    .ValueGeneratedNever()
                    .HasColumnName("PersonalIDTypeID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Position>(entity =>
            {
                entity.ToTable("Position");

                entity.Property(e => e.PositionId).HasColumnName("PositionID");

                entity.Property(e => e.Description)
                    .IsRequired()
                    .HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SysRoleId).HasColumnName("SysRoleID");

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");

                entity.HasOne(d => d.SysRole)
                    .WithMany(p => p.Positions)
                    .HasForeignKey(d => d.SysRoleId)
                    .HasConstraintName("FK_Position_SysRole");
            });

            modelBuilder.Entity<PreSchoolEvaluation>(entity =>
            {
                entity.ToTable("PreSchoolEvaluation", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.PreSchoolEvaluations)
                    .HasForeignKey(d => d.BasicClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PreSchoolEvaluation_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.PreSchoolEvaluationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PreSchoolEvaluation_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.PreSchoolEvaluationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_PreSchoolEvaluation_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.PreSchoolEvaluations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PreSchoolEvaluation_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.PreSchoolEvaluations)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PreSchoolEvaluation_SchoolYear");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.PreSchoolEvaluations)
                    .HasForeignKey(d => d.SubjectId)
                    .HasConstraintName("FK_PreSchoolEvaluation_Subject");
            });

            modelBuilder.Entity<PreSchoolReadiness>(entity =>
            {
                entity.ToTable("PreSchoolReadiness", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.PreSchoolReadinessCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PreSchoolReadiness_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.PreSchoolReadinessModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_PreSchool_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.PreSchoolReadinesses)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PreSchoolReadiness_Person");
            });

            modelBuilder.Entity<PrintTemplate>(entity =>
            {
                entity.ToTable("PrintTemplate", "document");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1000);

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.PrintTemplates)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PrintTemplate_BasicDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.PrintTemplateCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PrintTemplate_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.PrintTemplateModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_PrintTemplate_Updater_SysUser");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.PrintTemplates)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_PrintTemplate_Institution");
            });

            modelBuilder.Entity<ProfileClass>(entity =>
            {
                entity.ToTable("ProfileClass", "inst_year");

                entity.HasIndex(e => e.ClassId, "IX_ProfileClass_ClassID");

                entity.HasIndex(e => e.ParentClassId, "IX_ProfileClass_ParentClassID");

                entity.Property(e => e.ProfileClassId).HasColumnName("ProfileClassID");

                entity.Property(e => e.ClassId).HasColumnName("ClassID");

                entity.Property(e => e.ParentClassId).HasColumnName("ParentClassID");

                entity.Property(e => e.ProfSubjId).HasColumnName("ProfSubjID");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.ValidTo).HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))");

                entity.HasOne(d => d.Class)
                    .WithMany(p => p.ProfileClassClasses)
                    .HasForeignKey(d => d.ClassId)
                    .HasConstraintName("FK_ProfileClassClass");

                entity.HasOne(d => d.ParentClass)
                    .WithMany(p => p.ProfileClassParentClasses)
                    .HasForeignKey(d => d.ParentClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ProfileClassParentClass");

                entity.HasOne(d => d.ProfSubj)
                    .WithMany(p => p.ProfileClasses)
                    .HasForeignKey(d => d.ProfSubjId)
                    .HasConstraintName("FK_ProfileClassProfSubj");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.ProfileClasses)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ProfileClassCurrentYear");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.ProfileClasses)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_ProfileClassSysUser");
            });

            modelBuilder.Entity<ReasonForEqualizationType>(entity =>
            {
                entity.ToTable("ReasonForEqualizationType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Recognition>(entity =>
            {
                entity.ToTable("Recognition", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DiplomaDate).HasColumnType("date");

                entity.Property(e => e.DiplomaNumber).HasMaxLength(100);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(1000);

                entity.Property(e => e.OrderDate).HasColumnType("date");

                entity.Property(e => e.OrderNumber).HasMaxLength(100);

                entity.Property(e => e.RuoDocumentDate).HasColumnType("date");

                entity.Property(e => e.RuoDocumentNumber).HasMaxLength(100);

                entity.Property(e => e.SppooprofessionId).HasColumnName("SPPOOProfessionId");

                entity.Property(e => e.SppoospecialityId).HasColumnName("SPPOOSpecialityId");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.Recognitions)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_Recognition_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.RecognitionCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Recognition_Creator_SysUser");

                entity.HasOne(d => d.EducationLevel)
                    .WithMany(p => p.Recognitions)
                    .HasForeignKey(d => d.EducationLevelId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Recognition_RecognitionEducationLevel");

                entity.HasOne(d => d.InstitutionCountry)
                    .WithMany(p => p.Recognitions)
                    .HasForeignKey(d => d.InstitutionCountryId)
                    .HasConstraintName("FK_Recognition_InstitutionCountry");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.RecognitionModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Recognition_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Recognitions)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Recognition_Student");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.Recognitions)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Recognition_SchoolYear");
            });

            modelBuilder.Entity<RecognitionDocument>(entity =>
            {
                entity.ToTable("RecognitionDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.RecognitionDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RecognitionDocument_Document");

                entity.HasOne(d => d.Recognition)
                    .WithMany(p => p.RecognitionDocuments)
                    .HasForeignKey(d => d.RecognitionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RecognitionDocument_Recognition");
            });

            modelBuilder.Entity<RecognitionEducationLevel>(entity =>
            {
                entity.ToTable("RecognitionEducationLevel", "student");

                entity.HasIndex(e => e.Name, "AK_RecognitionEducationLevel_Name")
                    .IsUnique();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<RecognitionEqualization>(entity =>
            {
                entity.ToTable("RecognitionEqualization", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ExamDate).HasColumnType("date");

                entity.Property(e => e.ExamFinalDate).HasColumnType("date");

                entity.Property(e => e.Grade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.OriginalGrade).HasMaxLength(100);

                entity.Property(e => e.OriginalSubject).HasMaxLength(400);

                entity.Property(e => e.Position).HasDefaultValueSql("((1))");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.RecognitionEqualizations)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_RecognitionEqualization_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.RecognitionEqualizationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RecognitionEqualization_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.RecognitionEqualizationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_RecognitionEqualization_Updater_SysUser");

                entity.HasOne(d => d.Recognition)
                    .WithMany(p => p.RecognitionEqualizations)
                    .HasForeignKey(d => d.RecognitionId)
                    .HasConstraintName("FK_RecognitionEqualization_Recognition");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.RecognitionEqualizations)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RecognitionEqualization_Subject");
            });

            modelBuilder.Entity<Region>(entity =>
            {
                entity.ToTable("Region", "location");

                entity.Property(e => e.RegionId)
                    .ValueGeneratedNever()
                    .HasColumnName("RegionID");

                entity.Property(e => e.Code)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);
            });

            modelBuilder.Entity<RegisterLeftForAbroad>(entity =>
            {
                entity.ToTable("RegisterLeftForAbroad", "student");

                entity.Property(e => e.BirthDate).HasColumnType("date");

                entity.Property(e => e.EventDate).HasColumnType("date");

                entity.Property(e => e.FullName)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(200);

                entity.Property(e => e.PersonalId)
                    .IsRequired()
                    .HasMaxLength(20);
            });

            modelBuilder.Entity<RelativeChild>(entity =>
            {
                entity.HasKey(e => new { e.RelativeId, e.ChildId, e.RelativeTypeId });

                entity.ToTable("RelativeChild");

                entity.Property(e => e.RelativeId).HasColumnName("RelativeID");

                entity.Property(e => e.ChildId).HasColumnName("ChildID");

                entity.Property(e => e.RelativeTypeId).HasColumnName("RelativeTypeID");
            });

            modelBuilder.Entity<RelativeHistory>(entity =>
            {
                entity.HasNoKey();

                entity.ToTable("RelativeHistory");

                entity.HasIndex(e => new { e.ValidTo, e.ValidFrom }, "ix_RelativeHistory")
                    .IsClustered();

                entity.Property(e => e.Description)
                    .IsRequired()
                    .HasMaxLength(2048);

                entity.Property(e => e.Email).HasMaxLength(255);

                entity.Property(e => e.Notes).HasMaxLength(4000);

                entity.Property(e => e.PersonId).HasColumnName("PersonID");

                entity.Property(e => e.PhoneNumber).HasMaxLength(255);

                entity.Property(e => e.RelativeId).HasColumnName("RelativeID");

                entity.Property(e => e.WorkStatusId).HasColumnName("WorkStatusID");
            });

            modelBuilder.Entity<RelocationDocument>(entity =>
            {
                entity.ToTable("RelocationDocument", "student");

                entity.HasIndex(e => e.CurrentStudentClassId, "IX_RelocationDocument_CurrentStudentClass");

                entity.HasIndex(e => e.PersonId, "IX_RelocationDocument_PersonId");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DischargeDate).HasColumnType("date");

                entity.Property(e => e.NoteDate).HasColumnType("date");

                entity.Property(e => e.NoteNumber)
                    .IsRequired()
                    .HasMaxLength(20);

                entity.Property(e => e.RuoorderDate)
                    .HasColumnType("date")
                    .HasColumnName("RUOOrderDate");

                entity.Property(e => e.RuoorderNumber)
                    .HasMaxLength(20)
                    .HasColumnName("RUOOrderNumber");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.RelocationDocumentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocument_Creator_SysUser");

                entity.HasOne(d => d.CurrentStudentClass)
                    .WithMany(p => p.RelocationDocuments)
                    .HasForeignKey(d => d.CurrentStudentClassId)
                    .HasConstraintName("FK_RelocationDocument_StudentClass");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.RelocationDocumentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_RelocationDocument_Updater_SysUserd");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.RelocationDocuments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocument_Person");

                entity.HasOne(d => d.RelocationReasonType)
                    .WithMany(p => p.RelocationDocuments)
                    .HasForeignKey(d => d.RelocationReasonTypeId)
                    .HasConstraintName("FK_RelocationDocument_DischargeReasonType");

                entity.HasOne(d => d.HostInstitution)
                    .WithMany(p => p.RelocationDocumentHostInstitutions)
                    .HasForeignKey(d => new { d.HostInstitutionId, d.HostInstitutionSchoolYear })
                    .HasConstraintName("FK_RelocationDocument_InstitutionSchoolYear_HostInstitution");

                entity.HasOne(d => d.SendingInstitution)
                    .WithMany(p => p.RelocationDocumentSendingInstitutions)
                    .HasForeignKey(d => new { d.SendingInstitutionId, d.SendingInstitutionSchoolYear })
                    .HasConstraintName("FK_RelocationDocument_InstitutionSchoolYear_SendingInstitution");
            });

            modelBuilder.Entity<RelocationDocumentCurrentTermGrade>(entity =>
            {
                entity.ToTable("RelocationDocumentCurrentTermGrades", "student");

                entity.HasIndex(e => e.RelocationDocumentId, "IX_RelocationDocumentCurrentTermGrades_RelocationDocumentId");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.CurriculumId).HasColumnName("CurriculumID");

                entity.Property(e => e.CurriculumPartId).HasColumnName("CurriculumPartID");

                entity.Property(e => e.Grades).HasMaxLength(2048);

                entity.Property(e => e.SubjectId).HasColumnName("SubjectID");

                entity.Property(e => e.SubjectName)
                    .IsRequired()
                    .HasMaxLength(2048);

                entity.Property(e => e.SubjectTypeId).HasColumnName("SubjectTypeID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.RelocationDocumentCurrentTermGradeCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocumentCurrentTermGrades_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.RelocationDocumentCurrentTermGradeModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_RelocationDocumentCurrentTermGrades_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.RelocationDocumentCurrentTermGrades)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocumentCurrentTermGrades_Person");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.RelocationDocumentCurrentTermGrades)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocumentCurrentTermGrades_RelocationDocument");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.RelocationDocumentCurrentTermGrades)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocumentCurrentTermGrades_InstitutionSchoolYear");
            });

            modelBuilder.Entity<RelocationDocumentDocument>(entity =>
            {
                entity.ToTable("RelocationDocumentDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.RelocationDocumentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocumentDocument_Document");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.RelocationDocumentDocuments)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocumentDocument_RelocationDocument");
            });

            modelBuilder.Entity<RepeaterReason>(entity =>
            {
                entity.ToTable("RepeaterReason", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ResourceSupport>(entity =>
            {
                entity.ToTable("ResourceSupport", "student");

                entity.HasComment("Данни за РП")
                    .ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("ResourceSupportHistory", "student");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.HasIndex(e => e.ResourceSupportReportId, "IX_ResourceSupportDocument_ResourceSupportReportId");

                entity.HasIndex(e => e.AdditionalPersonalDevelopmentSupportItemId, "IX_ResourceSupport_AdditionalPersonalDevelopmentSupportItemId");

                entity.HasIndex(e => e.ResourceSupportReportId, "IX_ResourceSupport_ResourceSupportReportId");

                entity.Property(e => e.Id).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.ResourceSupportReportId).HasComment("Връзка документ за насочване з");

                entity.Property(e => e.ResourceSupportTypeId).HasComment("Вид на РП");

                entity.HasOne(d => d.ResourceSupportReport)
                    .WithMany(p => p.ResourceSupports)
                    .HasForeignKey(d => d.ResourceSupportReportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupport_ResourceSupportReport");

                entity.HasOne(d => d.ResourceSupportType)
                    .WithMany(p => p.ResourceSupports)
                    .HasForeignKey(d => d.ResourceSupportTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupport_ResourceSupportType");
            });

            modelBuilder.Entity<ResourceSupportDocument>(entity =>
            {
                entity.ToTable("ResourceSupportDocument", "student");

                entity.HasIndex(e => e.ResourceSupporReportId, "IX_ResourceSupportDocument_ResourceSupporReportId");

                entity.Property(e => e.Description).HasMaxLength(2000);

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.ResourceSupportDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportDocument_Document");

                entity.HasOne(d => d.ResourceSupporReport)
                    .WithMany(p => p.ResourceSupportDocuments)
                    .HasForeignKey(d => d.ResourceSupporReportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportDocument_ResourceSupportReport");
            });

            modelBuilder.Entity<ResourceSupportReport>(entity =>
            {
                entity.ToTable("ResourceSupportReport", "student");

                entity.HasComment("РП - данни за документите за н")
                    .ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("ResourceSupportReportlHistory", "student");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.HasIndex(e => e.PersonId, "IX_ResourceSupportReport_PersonId");

                entity.Property(e => e.Id).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.PersonId).HasComment("Връзка към човек");

                entity.Property(e => e.ReportDate)
                    .HasColumnType("date")
                    .HasComment("Дата на документа");

                entity.Property(e => e.ReportNumber)
                    .IsRequired()
                    .HasMaxLength(100)
                    .HasComment("Номер на документа за насочван");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.ResourceSupportReports)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportReport_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.ResourceSupportReports)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportReport_SchoolYear");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.ResourceSupportReports)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_ResourceSupportReport_SysUser");
            });

            modelBuilder.Entity<ResourceSupportSpecialist>(entity =>
            {
                entity.ToTable("ResourceSupportSpecialist", "student");

                entity.HasComment("РП - данни за специалистите, к")
                    .ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("ResourceSupportSpecialistHistory", "student");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.HasIndex(e => e.ResourceSupportId, "IX_ResourceSupportSpecialist_ResourceSupportReportId");

                entity.Property(e => e.Id).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.Name)
                    .HasMaxLength(200)
                    .HasComment("Име на специалиста");

                entity.Property(e => e.OrganizationName)
                    .HasMaxLength(200)
                    .HasComment("Организация-име");

                entity.Property(e => e.OrganizationType)
                    .HasMaxLength(200)
                    .HasComment("Организация-вид");

                entity.Property(e => e.ResourceSupportId).HasComment("Връзка към документ за ресурсн");

                entity.Property(e => e.ResourceSupportSpecialistTypeId).HasComment("Вид специалист");

                entity.Property(e => e.SpecialistType)
                    .HasMaxLength(200)
                    .HasComment("Вид специалист");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.WorkPlaceId)
                    .HasDefaultValueSql("((1))")
                    .HasComment("Работи в");

                entity.HasOne(d => d.ResourceSupport)
                    .WithMany(p => p.ResourceSupportSpecialists)
                    .HasForeignKey(d => d.ResourceSupportId)
                    .HasConstraintName("FK_ResourceSupportSpecialist_Support");

                entity.HasOne(d => d.ResourceSupportSpecialistType)
                    .WithMany(p => p.ResourceSupportSpecialists)
                    .HasForeignKey(d => d.ResourceSupportSpecialistTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportSpecialist_Type");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.ResourceSupportSpecialists)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_ResourceSupportSpecialist_SysUser");

                entity.HasOne(d => d.WorkPlace)
                    .WithMany(p => p.ResourceSupportSpecialists)
                    .HasForeignKey(d => d.WorkPlaceId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportSpecialistWorkPlace");
            });

            modelBuilder.Entity<ResourceSupportSpecialistType>(entity =>
            {
                entity.ToTable("ResourceSupportSpecialistType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ResourceSupportSpecialistWorkPlace>(entity =>
            {
                entity.ToTable("ResourceSupportSpecialistWorkPlace", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ResourceSupportType>(entity =>
            {
                entity.ToTable("ResourceSupportType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Sanction>(entity =>
            {
                entity.ToTable("Sanction", "student");

                entity.Property(e => e.CancelOrderNumber).HasMaxLength(100);

                entity.Property(e => e.CancelReason).HasMaxLength(1000);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.OrderNumber)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.RuoOrderNumber).HasMaxLength(100);

                entity.Property(e => e.StartDate).HasColumnType("date");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SanctionCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SanctionModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Sanction_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Sanctions)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_Student");

                entity.HasOne(d => d.SanctionType)
                    .WithMany(p => p.Sanctions)
                    .HasForeignKey(d => d.SanctionTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_SanctionType");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.Sanctions)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_SchoolYear");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Sanctions)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_Sanction_InstitutionSchoolYear");
            });

            modelBuilder.Entity<SanctionDocument>(entity =>
            {
                entity.ToTable("SanctionDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.SanctionDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SanctionDocument_Document");

                entity.HasOne(d => d.Sanction)
                    .WithMany(p => p.SanctionDocuments)
                    .HasForeignKey(d => d.SanctionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SanctionDocument_Sanction");
            });

            modelBuilder.Entity<SanctionType>(entity =>
            {
                entity.ToTable("SanctionType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ScholarshipAmount>(entity =>
            {
                entity.ToTable("ScholarshipAmount", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ScholarshipFinancingOrgan>(entity =>
            {
                entity.ToTable("ScholarshipFinancingOrgan", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ScholarshipStudent>(entity =>
            {
                entity.ToTable("ScholarshipStudent", "student");

                entity.HasComment("Ученици - стипендии")
                    .ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("ScholarshipStudentTemporalHistory", "student");
        ttb
            .HasPeriodStart("StartSysTime")
            .HasColumnName("StartSysTime");
        ttb
            .HasPeriodEnd("EndSysTime")
            .HasColumnName("EndSysTime");
    }
));

                entity.HasIndex(e => e.PersonId, "IX_ScholarshipStudent_PersonId");

                entity.HasIndex(e => e.StudentClassId, "IX_ScholarshipStudent_StudentClassId");

                entity.Property(e => e.Id).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.AltAmountRate)
                    .HasColumnType("numeric(20, 10)")
                    .HasComputedColumnSql("(case when [Currency]='BGN' then round([AmountRate]/(1.955830),(6)) else round([AmountRate]/(0.511292),(6)) end)", true);

                entity.Property(e => e.AltCurrency)
                    .IsRequired()
                    .HasMaxLength(3)
                    .IsUnicode(false)
                    .HasComputedColumnSql("(case when [Currency]='BGN' then 'EUR' else 'BGN' end)", true);

                entity.Property(e => e.AmountRate)
                    .HasColumnType("decimal(6, 2)")
                    .HasComment("Стипендия - сума");

                entity.Property(e => e.CommissionDate).HasColumnType("date");

                entity.Property(e => e.CommissionNumber).HasMaxLength(200);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.Currency)
                    .IsRequired()
                    .HasMaxLength(3)
                    .IsUnicode(false)
                    .HasDefaultValueSql("('BGN')");

                entity.Property(e => e.Description)
                    .HasMaxLength(1000)
                    .HasComment("Бележки");

                entity.Property(e => e.FinancingOrganId).HasComment("Финансиращ орган");

                entity.Property(e => e.InstitutionId).HasComment("Код на институцията");

                entity.Property(e => e.OrderDate)
                    .HasColumnType("date")
                    .HasComment("Дата на заповедта");

                entity.Property(e => e.OrderNumber)
                    .HasMaxLength(100)
                    .HasComment("Номер на заповедта");

                entity.Property(e => e.Periodicity).HasComment("Период, за който е отпусната");

                entity.Property(e => e.PersonId).HasComment("Уникален идентификатор на лице");

                entity.Property(e => e.ScholarshipAmountId)
                    .HasColumnName("ScholarshipAmountID")
                    .HasComment("Код на размера на стипендията");

                entity.Property(e => e.ScholarshipTypeId).HasComment("Код на вида стипендия");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.StudentClassId)
                    .HasColumnName("StudentClassID")
                    .HasComment("Уникален идентификатор на учен");

                entity.Property(e => e.ValidFrom)
                    .HasColumnType("datetime")
                    .HasDefaultValueSql("(getdate())");

                entity.Property(e => e.ValidTo).HasColumnType("date");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ScholarshipStudentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ScholarshipStudent_Creator_SysUser");

                entity.HasOne(d => d.FinancingOrgan)
                    .WithMany(p => p.ScholarshipStudents)
                    .HasForeignKey(d => d.FinancingOrganId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_FinancingOrgan_ScholarshipStudent");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ScholarshipStudentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ScholarshipStudent_Updater_SysUserd");

                entity.HasOne(d => d.ScholarshipAmount)
                    .WithMany(p => p.ScholarshipStudents)
                    .HasForeignKey(d => d.ScholarshipAmountId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ScholarshipStudent_ScholarshipAmount");

                entity.HasOne(d => d.ScholarshipType)
                    .WithMany(p => p.ScholarshipStudents)
                    .HasForeignKey(d => d.ScholarshipTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ScholarshipStudent_ScholarshipType");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.ScholarshipStudents)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_ScholarshipStudent_StudentClassId");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.ScholarshipStudents)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_ScholarshipStudent_InstitutionSchoolYear");
            });

            modelBuilder.Entity<ScholarshipStudentDocument>(entity =>
            {
                entity.ToTable("ScholarshipStudentDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.ScholarshipStudentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ScholarshipStudentDocument_Document");

                entity.HasOne(d => d.ScholarshipStudent)
                    .WithMany(p => p.ScholarshipStudentDocuments)
                    .HasForeignKey(d => d.ScholarshipStudentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ScholarshipStudentDocument_Scholarship");
            });

            modelBuilder.Entity<ScholarshipType>(entity =>
            {
                entity.ToTable("ScholarshipType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<SchoolTypeLodAccess>(entity =>
            {
                entity.ToTable("SchoolTypeLodAccess", "student");

                entity.ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("SchoolTypeLodAccessHistory", "student");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.HasIndex(e => new { e.DetailedSchoolTypeId, e.IsLodAccessAllowed }, "IX_SchoolTypeLodAccess_DetailedSchoolTypeId_isLodAccessAllowed");

                entity.Property(e => e.IsLodAccessAllowed).HasColumnName("isLodAccessAllowed");

                entity.HasOne(d => d.DetailedSchoolType)
                    .WithMany(p => p.SchoolTypeLodAccesses)
                    .HasForeignKey(d => d.DetailedSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SchoolTypeLodAccess_DetailedSchoolType");
            });

            modelBuilder.Entity<SelfGovernment>(entity =>
            {
                entity.ToTable("SelfGovernment", "student");

                entity.ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("SelfGovernmentTemporalHistory", "student");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.HasIndex(e => new { e.SchoolYear, e.StaffPositionId }, "IX_SelfGovernment_SchoolYear_StaffPositionID");

                entity.Property(e => e.AdditionalInformation).HasMaxLength(2048);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ExternalId)
                    .HasMaxLength(100)
                    .HasColumnName("ExternalID");

                entity.Property(e => e.ParticipationAdditionalInformation).HasMaxLength(2048);

                entity.Property(e => e.StaffPositionId).HasColumnName("StaffPositionID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SelfGovernmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SelfGovernment_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SelfGovernmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_SelfGovernment_Updater_SysUser");

                entity.HasOne(d => d.Participation)
                    .WithMany(p => p.SelfGovernments)
                    .HasForeignKey(d => d.ParticipationId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SelfGovernment_Participation");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.SelfGovernments)
                    .HasForeignKey(d => d.PersonId)
                    .HasConstraintName("FK_SelfGovernment_Student");

                entity.HasOne(d => d.Position)
                    .WithMany(p => p.SelfGovernments)
                    .HasForeignKey(d => d.PositionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SelfGovernment_SelfGovernmentPosition");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.SelfGovernments)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_SelfGovernment_StudentClass");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.SelfGovernments)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_SelfGovernment_InstitutionSchoolYear");
            });

            modelBuilder.Entity<SelfGovernmentPosition>(entity =>
            {
                entity.ToTable("SelfGovernmentPosition", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<SpecialEquipment>(entity =>
            {
                entity.ToTable("SpecialEquipment", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.StudentClassId).HasColumnName("StudentClassID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SpecialEquipmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialEquipment_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SpecialEquipmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_SpecialEquipment_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.SpecialEquipments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialEquipment_Student");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.SpecialEquipments)
                    .HasForeignKey(d => d.StudentClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialEquipment_StudentClassId");
            });

            modelBuilder.Entity<SpecialNeed>(entity =>
            {
                entity.ToTable("SpecialNeeds", "student");

                entity.HasComment("СОП")
                    .ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("SpecialNeedsTemporalHistory", "student");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.HasIndex(e => new { e.SpecialNeedsYearId, e.SpecialNeedsTypeId, e.SpecialNeedsSubTypeId }, "UQ_SpecialNeedsYear")
                    .IsUnique();

                entity.Property(e => e.Id).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId)
                    .HasColumnName("CreatedBySysUserID")
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.SpecialNeedsSubTypeId).HasComment("Вид СОП - детайлен");

                entity.Property(e => e.SpecialNeedsTypeId).HasComment("Вид СОП");

                entity.Property(e => e.SpecialNeedsYearId).HasComment("Връзка с SpecialNeedsType");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SpecialNeedCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeeds_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SpecialNeedModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_SpecialNeeds_Updater_SysUserd");

                entity.HasOne(d => d.SpecialNeedsSubType)
                    .WithMany(p => p.SpecialNeeds)
                    .HasForeignKey(d => d.SpecialNeedsSubTypeId)
                    .HasConstraintName("FK_SpecialNeeds_SpecialNeedsSubType");

                entity.HasOne(d => d.SpecialNeedsType)
                    .WithMany(p => p.SpecialNeeds)
                    .HasForeignKey(d => d.SpecialNeedsTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeeds_SpecialNeedsType");

                entity.HasOne(d => d.SpecialNeedsYear)
                    .WithMany(p => p.SpecialNeeds)
                    .HasForeignKey(d => d.SpecialNeedsYearId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeeds_SpecialNeedsYear");
            });

            modelBuilder.Entity<SpecialNeedsSubType>(entity =>
            {
                entity.ToTable("SpecialNeedsSubType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");

                entity.HasOne(d => d.SpecialNeedsType)
                    .WithMany(p => p.SpecialNeedsSubTypes)
                    .HasForeignKey(d => d.SpecialNeedsTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeedsSubType_SpecialNeedsType");
            });

            modelBuilder.Entity<SpecialNeedsType>(entity =>
            {
                entity.ToTable("SpecialNeedsType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<SpecialNeedsYear>(entity =>
            {
                entity.ToTable("SpecialNeedsYear", "student");

                entity.HasComment("СОП - година")
                    .ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("SpecialNeedsYearTemporalHistory", "student");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.HasIndex(e => new { e.PersonId, e.SchoolYear }, "IX_SpecialNeedsYear_PersonId_SchoolYear");

                entity.Property(e => e.Id).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ExternalId)
                    .HasMaxLength(100)
                    .HasColumnName("ExternalID");

                entity.Property(e => e.HasSuportiveEnvironment).HasComment("не се използва");

                entity.Property(e => e.PersonId).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.SupportiveEnvironment)
                    .HasMaxLength(1000)
                    .HasComment("не се използва");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SpecialNeedsYearCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeedsYear_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SpecialNeedsYearModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_SpecialNeedsYear_Updater_SysUserd");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.SpecialNeedsYears)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeedsYear_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.SpecialNeedsYears)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeedsYear_SchoolYear");
            });

            modelBuilder.Entity<SpecialNeedsYearAttachment>(entity =>
            {
                entity.ToTable("SpecialNeedsYearAttachment", "student");

                entity.HasIndex(e => e.SpecialNeedsYearId, "IX_SpecialNeedsYearAttachment_SpecialNeedsYearId");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.SpecialNeedsYearAttachments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeedsYearAttachment_Document");

                entity.HasOne(d => d.SpecialNeedsYear)
                    .WithMany(p => p.SpecialNeedsYearAttachments)
                    .HasForeignKey(d => d.SpecialNeedsYearId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeedsYearAttachment_SpecialNeedsYear");
            });

            modelBuilder.Entity<Student>(entity =>
            {
                entity.HasKey(e => e.PersonId);

                entity.ToTable("Student", "student");

                entity.HasComment("Ученици - допълнителни данни");

                entity.Property(e => e.PersonId)
                    .ValueGeneratedNever()
                    .HasColumnName("PersonID")
                    .HasComment("Връзка ученик");

                entity.Property(e => e.Email)
                    .HasMaxLength(100)
                    .HasComment("Е-мейл");

                entity.Property(e => e.FamilyEducationWeight)
                    .HasColumnType("decimal(18, 2)")
                    .HasComment("Коефициент на пазара на труда ");

                entity.Property(e => e.FamilyWorkStatusWeight)
                    .HasColumnType("decimal(18, 2)")
                    .HasComment("Коефициент на образователния с");

                entity.Property(e => e.Gpname)
                    .HasMaxLength(255)
                    .HasColumnName("GPName")
                    .HasComment("Име на личния лекар");

                entity.Property(e => e.Gpphone)
                    .HasMaxLength(255)
                    .HasColumnName("GPPhone")
                    .HasComment("Телефон на личния лекар");

                entity.Property(e => e.HasParentConsent).HasComment("Родителите са дали съгласие да");

                entity.Property(e => e.HomePhone)
                    .HasMaxLength(100)
                    .HasComment("Домашен телефон");

                entity.Property(e => e.LivesWithFosterFamily).HasComment("Живее в общежитие, център за з");

                entity.Property(e => e.MobilePhone)
                    .HasMaxLength(100)
                    .HasComment("Мобилен телефон");

                entity.Property(e => e.NativeLanguageId).HasComment("Език на семейната среда");

                entity.Property(e => e.RepresentedByTheMajor).HasComment("Детето се представлява от кмет");

                entity.Property(e => e.UserManagementIntegrationResult)
                    .HasMaxLength(4000)
                    .HasComment("Резултат от интеграция");

                entity.Property(e => e.WorkPhone)
                    .HasMaxLength(100)
                    .HasComment("Служебен телефон");

                entity.HasOne(d => d.NativeLanguage)
                    .WithMany(p => p.Students)
                    .HasForeignKey(d => d.NativeLanguageId)
                    .HasConstraintName("FK_Student_Language");

                entity.HasOne(d => d.Person)
                    .WithOne(p => p.Student)
                    .HasForeignKey<Student>(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Student_Person");
            });

            modelBuilder.Entity<StudentClass>(entity =>
            {
                entity.ToTable("StudentClass", "student");

                entity.HasComment("деца/ученици, записани в класо")
                    .ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("StudentClassTemporalHistory", "student");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.HasIndex(e => new { e.SchoolYear, e.ClassId, e.PersonId }, "AK_StudentClass_SchoolYear_ClassId_PersonId")
                    .IsUnique()
                    .HasFilter("([IsNotPresentForm]<>(1))");

                entity.HasIndex(e => new { e.SchoolYear, e.IsCurrent }, "IX_StudentCLass_SchoolYear_IsCurrent");

                entity.HasIndex(e => new { e.ClassId, e.IsCurrent }, "IX_StudentClass_ClassId_IsCurrent");

                entity.HasIndex(e => e.DischargeDocumentId, "IX_StudentClass_DischargeDocument");

                entity.HasIndex(e => e.FromStudentClassId, "IX_StudentClass_FromStudentClass");

                entity.HasIndex(e => e.IsCurrent, "IX_StudentClass_IsCurrent");

                entity.HasIndex(e => e.IsCurrent, "IX_StudentClass_IsCurrent_EnvCharacteristics_Opt");

                entity.HasIndex(e => new { e.IsCurrent, e.InstitutionId }, "IX_StudentClass_IsCurrent_InstitutionId");

                entity.HasIndex(e => new { e.IsCurrent, e.PositionId }, "IX_StudentClass_IsCurrent_Position");

                entity.HasIndex(e => e.PersonId, "IX_StudentClass_PersonId");

                entity.HasIndex(e => e.RelocationDocumentId, "IX_StudentClass_RelocationDocument");

                entity.HasIndex(e => e.SchoolYear, "IX_StudentClass_SchoolYear");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassId }, "IX_StudentClass_SchoolYear_ClassId");

                entity.HasIndex(e => new { e.SchoolYear, e.InstitutionId }, "IX_StudentClass_SchoolYear_InstitutionId");

                entity.HasIndex(e => new { e.SchoolYear, e.IsCurrent }, "IX_test");

                entity.HasIndex(e => e.AdmissionDocumentId, "ix_StudentClass_AdmissionDocument");

                entity.Property(e => e.Id)
                    .HasColumnName("ID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.AdmissionDocumentId).HasComment("Документ за записване в инстит");

                entity.Property(e => e.BasicClassId)
                    .HasDefaultValueSql("((1))")
                    .HasComment("Идентификатор на випуска (възр");

                entity.Property(e => e.ClassId).HasComment("Уникален идентификатор на пара");

                entity.Property(e => e.ClassNumber).HasComment("Номер в класа");

                entity.Property(e => e.ClassTypeId)
                    .HasDefaultValueSql("((1))")
                    .HasComment("Вид на паралелката/групата");

                entity.Property(e => e.CommuterTypeId).HasComment("Пътуващ");

                entity.Property(e => e.DischargeDate).HasColumnType("date");

                entity.Property(e => e.DischargeDocumentId).HasComment("Документ за отписване");

                entity.Property(e => e.DischargeReasonId).HasComment("Причина за отписване");

                entity.Property(e => e.EnrollmentDate)
                    .HasDefaultValueSql("(getdate())")
                    .HasComment("Дата на записване в класа/груп");

                entity.Property(e => e.EntryDate).HasColumnType("date");

                entity.Property(e => e.ExternalId)
                    .HasMaxLength(100)
                    .HasColumnName("ExternalID");

                entity.Property(e => e.FromStudentClassId).HasComment("Идентификатор на клас, от койт");

                entity.Property(e => e.HasSuportiveEnvironment).HasDefaultValueSql("((0))");

                entity.Property(e => e.InstitutionId).HasComment("Код на институцията");

                entity.Property(e => e.IsCurrent).HasComment("Маркер дали детето е записано ");

                entity.Property(e => e.IsForSubmissionToNra)
                    .HasColumnName("IsForSubmissionToNRA")
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер дали детето/ченикът се ");

                entity.Property(e => e.IsFtacoutsourced).HasColumnName("IsFTACOutsourced");

                entity.Property(e => e.IsHourlyOrganization)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер за \"Почасова организаци");

                entity.Property(e => e.IsIndividualCurriculum)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер за \"Индивидуален учебен");

                entity.Property(e => e.IsNotPresentForm).HasDefaultValueSql("((0))");

                entity.Property(e => e.NewClassId).HasColumnName("newClassId");

                entity.Property(e => e.OrestypeId)
                    .HasColumnName("ORESTypeId")
                    .HasComment("Тип ОРЕС");

                entity.Property(e => e.PersonId).HasComment("Уникален идентификатор на лице");

                entity.Property(e => e.PositionId)
                    .HasDefaultValueSql("((3))")
                    .HasComment("Позиция в институцията");

                entity.Property(e => e.RelocationDocumentId).HasComment("Документ за преместване");

                entity.Property(e => e.RepeaterId).HasComment("Повторно записан");

                entity.Property(e => e.SchoolYear).HasComment("Уникален идентификатор на учеб");

                entity.Property(e => e.Status).HasComment("Статус на ученика в класа/груп");

                entity.Property(e => e.StudentEduFormId).HasComment("Форма на обучение");

                entity.Property(e => e.StudentSpecialityId).HasComment("Специалност на ученика");

                entity.Property(e => e.SupportiveEnvironment).HasMaxLength(1000);

                entity.HasOne(d => d.AdmissionDocument)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.AdmissionDocumentId)
                    .HasConstraintName("FK_StudentClass_AdmissionDocument");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.BasicClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClass_BasicClass");

                entity.HasOne(d => d.Class)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.ClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClass_ClassGroup");

                entity.HasOne(d => d.CommuterType)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.CommuterTypeId)
                    .HasConstraintName("FK_StudentClass_CommuterType");

                entity.HasOne(d => d.DischargeDocument)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.DischargeDocumentId)
                    .HasConstraintName("FK_StudentClass_DischargeDocument");

                entity.HasOne(d => d.DischargeReason)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.DischargeReasonId)
                    .HasConstraintName("FK_StudentClass_DischargeReasonType");

                entity.HasOne(d => d.FromStudentClass)
                    .WithMany(p => p.InverseFromStudentClass)
                    .HasForeignKey(d => d.FromStudentClassId)
                    .HasConstraintName("FK_StudentClass_FromStudentClassId_Self");

                entity.HasOne(d => d.Orestype)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.OrestypeId)
                    .HasConstraintName("FK_StudentClass_ORESType");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClass_Student");

                entity.HasOne(d => d.Position)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.PositionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClass_PositionId");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .HasConstraintName("FK_StudentClass_RelocationDocument");

                entity.HasOne(d => d.Repeater)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.RepeaterId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Student_RepeaterReason");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClass_InstitutionSchoolYear");
            });

            modelBuilder.Entity<StudentClassHistory>(entity =>
            {
                entity.ToTable("StudentClassHistory", "student");

                entity.HasIndex(e => e.AdmissionDocumentId, "IX_StudentClassHistory_AdmissionDocumentId");

                entity.HasIndex(e => e.CreateDate, "IX_StudentClassHistory_CreateDate");

                entity.HasIndex(e => e.FromStudentClassId, "IX_StudentClassHistory_FromStudentClass");

                entity.HasIndex(e => e.StudentClassId, "IX_StudentClassHistory_StudentClassId");

                entity.Property(e => e.Id).HasColumnName("ID");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.IsForSubmissionToNra).HasColumnName("IsForSubmissionToNRA");

                entity.Property(e => e.IsFtacoutsourced).HasColumnName("IsFTACOutsourced");

                entity.Property(e => e.OrestypeId).HasColumnName("ORESTypeId");

                entity.Property(e => e.SupportiveEnvironment).HasMaxLength(1000);

                entity.HasOne(d => d.AdmissionDocument)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.AdmissionDocumentId)
                    .HasConstraintName("FK_StudentClassHistory_AdmissionDocument");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.BasicClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_BasicClass");

                entity.HasOne(d => d.Class)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.ClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_ClassGroup");

                entity.HasOne(d => d.CommuterType)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.CommuterTypeId)
                    .HasConstraintName("FK_StudentClassHistory_CommuterType");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.StudentClassHistoryCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_Creator_SysUser");

                entity.HasOne(d => d.DischargeDocument)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.DischargeDocumentId)
                    .HasConstraintName("FK_StudentClassHistory_DischargeDocument");

                entity.HasOne(d => d.DischargeReason)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.DischargeReasonId)
                    .HasConstraintName("FK_StudentClassHistory_DischargeReasonType");

                entity.HasOne(d => d.FromStudentClass)
                    .WithMany(p => p.StudentClassHistoryFromStudentClasses)
                    .HasForeignKey(d => d.FromStudentClassId)
                    .HasConstraintName("FK_StudentClassHistory_FromStudentClassId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.StudentClassHistoryModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_StudentClassHistory_Updater_SysUserd");

                entity.HasOne(d => d.Orestype)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.OrestypeId)
                    .HasConstraintName("FK_StudentClassHistory_ORESType");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_Student");

                entity.HasOne(d => d.Position)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.PositionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_PositionId");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .HasConstraintName("FK_StudentClassHistory_RelocationDocument");

                entity.HasOne(d => d.Repeater)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.RepeaterId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_RepeaterReason");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.StudentClassHistoryStudentClasses)
                    .HasForeignKey(d => d.StudentClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_StudentClass");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_InstitutionSchoolYear");
            });

            modelBuilder.Entity<StudentEvaluation>(entity =>
            {
                entity.ToTable("StudentEvaluation", "student");

                entity.HasOne(d => d.AnnualEvaluationNavigation)
                    .WithMany(p => p.StudentEvaluationAnnualEvaluationNavigations)
                    .HasForeignKey(d => d.AnnualEvaluation)
                    .HasConstraintName("FK_StudentEvaluation_Annual_Grade");

                entity.HasOne(d => d.DischargeDocument)
                    .WithMany(p => p.StudentEvaluations)
                    .HasForeignKey(d => d.DischargeDocumentId)
                    .OnDelete(DeleteBehavior.Cascade)
                    .HasConstraintName("FK_StudentEvaluation_DischargeDocument");

                entity.HasOne(d => d.FirstTermEvaluationNavigation)
                    .WithMany(p => p.StudentEvaluationFirstTermEvaluationNavigations)
                    .HasForeignKey(d => d.FirstTermEvaluation)
                    .HasConstraintName("FK_StudentEvaluation_Term1_Grade");

                entity.HasOne(d => d.OneYearAgoEvaluationNavigation)
                    .WithMany(p => p.StudentEvaluationOneYearAgoEvaluationNavigations)
                    .HasForeignKey(d => d.OneYearAgoEvaluation)
                    .HasConstraintName("FK_StudentEvaluation_1YearAgo_Grade");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.StudentEvaluations)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .OnDelete(DeleteBehavior.Cascade)
                    .HasConstraintName("FK_StudentEvaluation_RelocationDocument");

                entity.HasOne(d => d.SecondTermEvaluationNavigation)
                    .WithMany(p => p.StudentEvaluationSecondTermEvaluationNavigations)
                    .HasForeignKey(d => d.SecondTermEvaluation)
                    .HasConstraintName("FK_StudentEvaluation_Term2_Grade");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.StudentEvaluations)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentEvaluation_Subject");

                entity.HasOne(d => d.TwoYearsAgoEvaluationNavigation)
                    .WithMany(p => p.StudentEvaluationTwoYearsAgoEvaluationNavigations)
                    .HasForeignKey(d => d.TwoYearsAgoEvaluation)
                    .HasConstraintName("FK_StudentEvaluation_2YearAgo_Grade");
            });

            modelBuilder.Entity<StudentType>(entity =>
            {
                entity.ToTable("StudentType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Subject>(entity =>
            {
                entity.ToTable("Subject", "inst_nom");

                entity.Property(e => e.SubjectId).HasColumnName("SubjectID");

                entity.Property(e => e.NameDe)
                    .HasMaxLength(255)
                    .HasColumnName("NameDE");

                entity.Property(e => e.NameEn)
                    .HasMaxLength(255)
                    .HasColumnName("NameEN");

                entity.Property(e => e.NameFr)
                    .HasMaxLength(255)
                    .HasColumnName("NameFR");

                entity.Property(e => e.SubjectName).HasMaxLength(255);

                entity.Property(e => e.SubjectNameShort).HasMaxLength(255);
            });

            modelBuilder.Entity<SupportPeriod>(entity =>
            {
                entity.ToTable("SupportPeriod", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<SysRole>(entity =>
            {
                entity.ToTable("SysRole");

                entity.HasIndex(e => e.Name, "UQ_SysRole")
                    .IsUnique();

                entity.Property(e => e.SysRoleId).HasColumnName("SysRoleID");

                entity.Property(e => e.Description)
                    .IsRequired()
                    .HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<SysUser>(entity =>
            {
                entity.ToTable("SysUser");

                entity.HasComment("Потребители")
                    .ToTable(tb => tb.IsTemporal(ttb =>
    {
        ttb.UseHistoryTable("SysUserHistory", "core");
        ttb
            .HasPeriodStart("ValidFrom")
            .HasColumnName("ValidFrom");
        ttb
            .HasPeriodEnd("ValidTo")
            .HasColumnName("ValidTo");
    }
));

                entity.HasIndex(e => e.PersonId, "uqOneToOneSysUserPersonByCondition")
                    .IsUnique()
                    .HasFilter("([DeletedOn] IS NULL)");

                entity.HasIndex(e => e.Username, "uqSysUserUsername")
                    .IsUnique()
                    .HasFilter("([DeletedOn] IS NULL)");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Уникален идентификатор");

                entity.Property(e => e.InitialPassword).HasMaxLength(255);

                entity.Property(e => e.IsAzureSynced).HasColumnName("isAzureSynced");

                entity.Property(e => e.IsAzureUser)
                    .IsRequired()
                    .HasDefaultValueSql("('FALSE')");

                entity.Property(e => e.Password)
                    .HasMaxLength(255)
                    .HasComment("Парола");

                entity.Property(e => e.PersonId)
                    .HasColumnName("PersonID")
                    .HasDefaultValueSql("((-1))");

                entity.Property(e => e.Username)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Потребителско име");

                entity.HasOne(d => d.Person)
                    .WithOne(p => p.SysUser)
                    .HasForeignKey<SysUser>(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SysUser_Person");
            });

            modelBuilder.Entity<SysUserSysRole>(entity =>
            {
                entity.HasNoKey();

                entity.ToTable("SysUserSysRole");

                entity.HasIndex(e => e.SysUserId, "IX_SysUserSysRole_SysUserID");

                entity.Property(e => e.BudgetingInstitutionId).HasColumnName("BudgetingInstitutionID");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.MunicipalityId).HasColumnName("MunicipalityID");

                entity.Property(e => e.RegionId).HasColumnName("RegionID");

                entity.Property(e => e.SysRoleId).HasColumnName("SysRoleID");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.HasOne(d => d.BudgetingInstitution)
                    .WithMany()
                    .HasForeignKey(d => d.BudgetingInstitutionId)
                    .HasConstraintName("FK_SysUserSysRole_BudgetingInstitution");

                entity.HasOne(d => d.Institution)
                    .WithMany()
                    .HasForeignKey(d => d.InstitutionId)
                    .HasConstraintName("FK_SysUserSysRole_Institution");

                entity.HasOne(d => d.Municipality)
                    .WithMany()
                    .HasForeignKey(d => d.MunicipalityId)
                    .HasConstraintName("FK_SysUserSysRole_Municipality");

                entity.HasOne(d => d.Region)
                    .WithMany()
                    .HasForeignKey(d => d.RegionId)
                    .HasConstraintName("FK_SysUserSysRole_Region");

                entity.HasOne(d => d.SysRole)
                    .WithMany()
                    .HasForeignKey(d => d.SysRoleId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SysUserSysRole_SysRole");

                entity.HasOne(d => d.SysUser)
                    .WithMany()
                    .HasForeignKey(d => d.SysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SysUserSysRole_SysUser");
            });

            modelBuilder.Entity<SystemUserMessage>(entity =>
            {
                entity.HasNoKey();

                entity.ToTable("SystemUserMessage");

                entity.Property(e => e.EndDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.Roles).IsRequired();

                entity.Property(e => e.StartDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.SystemUserMessageId)
                    .ValueGeneratedOnAdd()
                    .HasColumnName("SystemUserMessageID");

                entity.Property(e => e.Title)
                    .HasMaxLength(255)
                    .IsUnicode(false);
            });

            modelBuilder.Entity<Template>(entity =>
            {
                entity.ToTable("Template", "document");

                entity.Property(e => e.CommissionOrderNumber).HasMaxLength(50);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Deputy).HasMaxLength(255);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Principal).HasMaxLength(255);

                entity.Property(e => e.TmpDocTemplateId).HasColumnName("tmp_DocTemplateID");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.Templates)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_Template_BasicClass");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.Templates)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Template_BasicDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.TemplateCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Template_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.TemplateModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Template_ModifiedSysUser");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Templates)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_Template_InstitutionSchoolYear");
            });

            modelBuilder.Entity<TemplateSubject>(entity =>
            {
                entity.ToTable("TemplateSubject", "document");

                entity.HasIndex(e => e.ParentId, "IX_TemplateSubject_ParentId");

                entity.HasIndex(e => e.TemplateId, "IX_TemplateSubject_TemplateId");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.FlLevel).HasMaxLength(255);

                entity.Property(e => e.FlSubjectName).HasMaxLength(255);

                entity.Property(e => e.Grade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.GradeCategory).HasDefaultValueSql("((1))");

                entity.Property(e => e.GradeText).HasMaxLength(100);

                entity.Property(e => e.Nvopoints)
                    .HasColumnType("decimal(7, 3)")
                    .HasColumnName("NVOPoints");

                entity.Property(e => e.SubjectName).HasMaxLength(255);

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.TemplateSubjects)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_TemplateSubject_BasicClass");

                entity.HasOne(d => d.BasicDocumentPart)
                    .WithMany(p => p.TemplateSubjects)
                    .HasForeignKey(d => d.BasicDocumentPartId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_TemplateSubject_BasicDocumentPart");

                entity.HasOne(d => d.BasicDocumentSubject)
                    .WithMany(p => p.TemplateSubjects)
                    .HasForeignKey(d => d.BasicDocumentSubjectId)
                    .OnDelete(DeleteBehavior.SetNull)
                    .HasConstraintName("FK_TemplateSubject_BasicDocumentSubject");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.TemplateSubjectCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_TemplateSubject_Creator");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.TemplateSubjectModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_TemplateSubject_Updater");

                entity.HasOne(d => d.Parent)
                    .WithMany(p => p.InverseParent)
                    .HasForeignKey(d => d.ParentId)
                    .HasConstraintName("FK_TemplateSubject_Parent");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.TemplateSubjects)
                    .HasForeignKey(d => d.SubjectId)
                    .HasConstraintName("FK_TemplateSubject_Subject");

                entity.HasOne(d => d.Template)
                    .WithMany(p => p.TemplateSubjects)
                    .HasForeignKey(d => d.TemplateId)
                    .HasConstraintName("FK_TemplateSubject_Template");
            });

            modelBuilder.Entity<Town>(entity =>
            {
                entity.ToTable("Town", "location");

                entity.Property(e => e.TownId)
                    .ValueGeneratedNever()
                    .HasColumnName("TownID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Latitude).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.Longtitude).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.MunicipalityId).HasColumnName("MunicipalityID");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.Type)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.HasOne(d => d.Municipality)
                    .WithMany(p => p.Towns)
                    .HasForeignKey(d => d.MunicipalityId)
                    .HasConstraintName("FK_Town_Municipality");
            });

            modelBuilder.Entity<Uierror>(entity =>
            {
                entity.HasKey(e => new { e.CreateDate, e.Id });

                entity.ToTable("UIError", "logs");

                entity.Property(e => e.Id).ValueGeneratedOnAdd();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Ipaddress)
                    .HasMaxLength(100)
                    .HasColumnName("IPAddress");

                entity.Property(e => e.Message).IsRequired();

                entity.HasOne(d => d.AuditModule)
                    .WithMany(p => p.Uierrors)
                    .HasForeignKey(d => d.AuditModuleId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_UIError_AuditModuleId");
            });

            modelBuilder.Entity<Validation>(entity =>
            {
                entity.ToTable("Validation", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ExamDate).HasColumnType("date");

                entity.Property(e => e.FinalGrade).HasColumnType("decimal(3, 2)");

                entity.Property(e => e.FinalGradeText)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.ProtocolDate).HasColumnType("date");

                entity.Property(e => e.ProtocolNumber)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.Validations)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_Validation_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ValidationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Validation_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ValidationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Validation_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Validations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Validation_Student");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.Validations)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Validation_Subject");
            });

            modelBuilder.Entity<ValidationDocument>(entity =>
            {
                entity.ToTable("ValidationDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.ValidationDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ValidationDocument_Document");

                entity.HasOne(d => d.Validation)
                    .WithMany(p => p.ValidationDocuments)
                    .HasForeignKey(d => d.ValidationId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ValidationDocument_Validation");
            });

            modelBuilder.HasSequence<int>("AbsenceIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("AdditionalActivityIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("AttendanceIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("BlobContentsIdSequence", "blobs").StartsAt(1000);

            modelBuilder.HasSequence<int>("BlobsIdSequence", "blobs").StartsAt(1000);

            modelBuilder.HasSequence<int>("ClassBookIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ClassBookPrintIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ExamDutyProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ExamIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ExamResultProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ExamResultsBookRecordIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("FirstGradeResultIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("GradeChangeExamsAdmProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("GradeIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("GradeResultIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("GraduationThesisDefenseProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("HighSchoolCertificateProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("IndividualWorkIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("LiableBookRecordIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("MainBookRecordIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("MissingTopicsReportIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("MissingTopicsReportItemIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("NoteIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("NvoExamDutyProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("OffDayIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ParentMeetingIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("PgResultIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("PublicationIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("QualificationAcquisitionProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("QualificationExamResultProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("QueueMessageIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("RegBookCertificateDuplicateIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("RegBookCertificateIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("RegBookQualificationDuplicateIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("RegBookQualificationIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("RemarkIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SanctionIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ScheduleIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ScheduleLessonIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SchoolYearDateInfoIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ShiftIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SkillsCheckExamDutyProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SkillsCheckExamResultProtocolEvaluatorIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SkillsCheckExamResultProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SpbsBookRecordIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("StateExamDutyProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("StateExamsAdmProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SupportActivityIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SupportDifficultyIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SupportIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("TeacherAbsenceIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("TopicDplrIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("TopicIdSequence", "school_books").StartsAt(100000);

            OnModelCreatingPartial(modelBuilder);
        }

        partial void OnModelCreatingPartial(ModelBuilder modelBuilder);
    }
}