<p-fieldset legend="Инситуции за създаване">
  <div class="grid fluid">
    <div class="col-12">
      <p-card>
        <p-toolbar styleClass="col-mb-4">
          <ng-template pTemplate="left">
            <button pButton type="button" icon="bi bi-plus-lg" iconPos="left" aria-label="Add" (click)="addInstitution()"></button>
          </ng-template>
        </p-toolbar>
        <p-table #miTable [columns]="cols" [value]="misToCreate$ | async" [responsive]="true"
        >
          <ng-template pTemplate="header" let-columns>
            <tr>
              <th *ngFor="let col of columns">{{ col.header }}</th>
              <th>Действия</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex" let-columns="columns">
            <tr [pSelectableRow]="rowData">
              <td *ngFor="let col of columns">{{ rowData[col.field] }}</td>
              <td>
                <div class="row row-cols-1">
                  <div class="btn-group" role="group">
                    <i type="button"
                      class="bi bi-eye-fill avatar  rounded-circle me-2" 
                      aria-label="Edit" (click)="editInstitution(rowData, rowIndex)"
                    ></i>
                    <i type="button"
                      class="bi bi-trash-fill avatar rounded-circle me-2"
                      aria-label="Delete" (click)="removeInstitution(rowData)"
                    ></i>
                  </div>
                </div>
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage" let-columns>
            <tr>
              <td [attr.colspan]="columns.length">Няма записи</td>
            </tr>
          </ng-template>
        </p-table>
      </p-card>
    </div>

    <div class="col-12">
      <app-stepper-actions
        [showBack]="true"
        [backLabel]="'Назад'"
        [backRouterLink]="['..', 'mi-to-delete']"
        [showForward]="true"
        [forwardLabel]="'Напред'"
        [forwardRouterLink]="['..', 'ri-document']"
        [disableForward]="(misToCreate$ | async).length < 2"
        [disableForwardButtonTooltip]="'Моля създайте поне две институции.'"
        [showSubmit]="false"
      ></app-stepper-actions>
    </div></div
></p-fieldset>
