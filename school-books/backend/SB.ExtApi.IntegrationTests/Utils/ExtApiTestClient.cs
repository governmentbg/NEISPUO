//----------------------
// <auto-generated>
//     Generated using the NSwag toolchain v13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0)) (http://NSwag.org)
// </auto-generated>
//----------------------

#pragma warning disable 108 // Disable "CS0108 '{derivedDto}.ToJson()' hides inherited member '{dtoBase}.ToJson()'. Use the new keyword if hiding was intended."
#pragma warning disable 114 // Disable "CS0114 '{derivedDto}.RaisePropertyChanged(String)' hides inherited member 'dtoBase.RaisePropertyChanged(String)'. To make the current member override that implementation, add the override keyword. Otherwise add the new keyword."
#pragma warning disable 472 // Disable "CS0472 The result of the expression is always 'false' since a value of type 'Int32' is never equal to 'null' of type 'Int32?'
#pragma warning disable 612 // Disable "CS0612 '...' is obsolete"
#pragma warning disable 1573 // Disable "CS1573 Parameter '...' has no matching param tag in the XML comment for ...
#pragma warning disable 1591 // Disable "CS1591 Missing XML comment for publicly visible type or member ..."
#pragma warning disable 8073 // Disable "CS8073 The result of the expression is always 'false' since a value of type 'T' is never equal to 'null' of type 'T?'"
#pragma warning disable 3016 // Disable "CS3016 Arrays as attribute arguments is not CLS-compliant"
#pragma warning disable 8603 // Disable "CS8603 Possible null reference return"

namespace SB.ExtApi.IntegrationTests
{
    using System = global::System;

    [System.CodeDom.Compiler.GeneratedCode("NSwag", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ExtApiTestClient 
    {
        private string _baseUrl = "http://localhost:5200/api/v1";
        private System.Net.Http.HttpClient _httpClient;
        private System.Lazy<Newtonsoft.Json.JsonSerializerSettings> _settings;

        public ExtApiTestClient(System.Net.Http.HttpClient httpClient)
        {
            _httpClient = httpClient;
            _settings = new System.Lazy<Newtonsoft.Json.JsonSerializerSettings>(CreateSerializerSettings);
        }

        private Newtonsoft.Json.JsonSerializerSettings CreateSerializerSettings()
        {
            var settings = new Newtonsoft.Json.JsonSerializerSettings();
            UpdateJsonSerializerSettings(settings);
            return settings;
        }

        public string BaseUrl
        {
            get { return _baseUrl; }
            set { _baseUrl = value; }
        }

        protected Newtonsoft.Json.JsonSerializerSettings JsonSerializerSettings { get { return _settings.Value; } }

        partial void UpdateJsonSerializerSettings(Newtonsoft.Json.JsonSerializerSettings settings);

        partial void PrepareRequest(System.Net.Http.HttpClient client, System.Net.Http.HttpRequestMessage request, string url);
        partial void PrepareRequest(System.Net.Http.HttpClient client, System.Net.Http.HttpRequestMessage request, System.Text.StringBuilder urlBuilder);
        partial void ProcessResponse(System.Net.Http.HttpClient client, System.Net.Http.HttpResponseMessage response);

        /// <summary>
        /// Връща всички отсъствия за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<AbsenceDO>> ClassBooksAbsencesGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksAbsencesGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички отсъствия за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<AbsenceDO>> ClassBooksAbsencesGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/absences");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<AbsenceDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава ново отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksAbsencesPostAsync(int schoolYear, int institutionId, int classBookId, AbsenceDO absence)
        {
            return ClassBooksAbsencesPostAsync(schoolYear, institutionId, classBookId, absence, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава ново отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksAbsencesPostAsync(int schoolYear, int institutionId, int classBookId, AbsenceDO absence, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (absence == null)
                throw new System.ArgumentNullException("absence");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/absences");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(absence, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="absenceId">Идентификатор на отсъствието</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksAbsencesDeleteAsync(int schoolYear, int institutionId, int classBookId, int absenceId)
        {
            return ClassBooksAbsencesDeleteAsync(schoolYear, institutionId, classBookId, absenceId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="absenceId">Идентификатор на отсъствието</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksAbsencesDeleteAsync(int schoolYear, int institutionId, int classBookId, int absenceId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (absenceId == null)
                throw new System.ArgumentNullException("absenceId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/absences/{absenceId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{absenceId}", System.Uri.EscapeDataString(ConvertToString(absenceId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Извинява отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="absenceId">Идентификатор на отсъствието</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksAbsencesExcuseAsync(int schoolYear, int institutionId, int classBookId, int absenceId, ExcusedReasonDO excusedReason)
        {
            return ClassBooksAbsencesExcuseAsync(schoolYear, institutionId, classBookId, absenceId, excusedReason, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Извинява отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="absenceId">Идентификатор на отсъствието</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksAbsencesExcuseAsync(int schoolYear, int institutionId, int classBookId, int absenceId, ExcusedReasonDO excusedReason, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (absenceId == null)
                throw new System.ArgumentNullException("absenceId");

            if (excusedReason == null)
                throw new System.ArgumentNullException("excusedReason");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/absences/excuse/{absenceId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{absenceId}", System.Uri.EscapeDataString(ConvertToString(absenceId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(excusedReason, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички допълнителни дейности за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<AdditionalActivityDO>> ClassBooksAdditionalActivitiesGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksAdditionalActivitiesGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички допълнителни дейности за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<AdditionalActivityDO>> ClassBooksAdditionalActivitiesGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/additionalActivities");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<AdditionalActivityDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нова допълнителна дейност
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksAdditionalActivitiesPostAsync(int schoolYear, int institutionId, int classBookId, AdditionalActivityDO additionalActivity)
        {
            return ClassBooksAdditionalActivitiesPostAsync(schoolYear, institutionId, classBookId, additionalActivity, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нова допълнителна дейност
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksAdditionalActivitiesPostAsync(int schoolYear, int institutionId, int classBookId, AdditionalActivityDO additionalActivity, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (additionalActivity == null)
                throw new System.ArgumentNullException("additionalActivity");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/additionalActivities");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(additionalActivity, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява допълнителна дейност
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="additionalActivityId">Идентификатор на допълнителната дейност</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksAdditionalActivitiesPutAsync(int schoolYear, int institutionId, int classBookId, int additionalActivityId, AdditionalActivityDO additionalActivity)
        {
            return ClassBooksAdditionalActivitiesPutAsync(schoolYear, institutionId, classBookId, additionalActivityId, additionalActivity, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява допълнителна дейност
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="additionalActivityId">Идентификатор на допълнителната дейност</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksAdditionalActivitiesPutAsync(int schoolYear, int institutionId, int classBookId, int additionalActivityId, AdditionalActivityDO additionalActivity, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (additionalActivityId == null)
                throw new System.ArgumentNullException("additionalActivityId");

            if (additionalActivity == null)
                throw new System.ArgumentNullException("additionalActivity");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/additionalActivities/{additionalActivityId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{additionalActivityId}", System.Uri.EscapeDataString(ConvertToString(additionalActivityId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(additionalActivity, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива допълнителна дейност
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="additionalActivityId">Идентификатор на допълнителната дейност</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksAdditionalActivitiesDeleteAsync(int schoolYear, int institutionId, int classBookId, int additionalActivityId)
        {
            return ClassBooksAdditionalActivitiesDeleteAsync(schoolYear, institutionId, classBookId, additionalActivityId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива допълнителна дейност
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="additionalActivityId">Идентификатор на допълнителната дейност</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksAdditionalActivitiesDeleteAsync(int schoolYear, int institutionId, int classBookId, int additionalActivityId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (additionalActivityId == null)
                throw new System.ArgumentNullException("additionalActivityId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/additionalActivities/{additionalActivityId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{additionalActivityId}", System.Uri.EscapeDataString(ConvertToString(additionalActivityId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички присъствия за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<AttendanceDO>> ClassBooksAttendancesGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksAttendancesGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички присъствия за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<AttendanceDO>> ClassBooksAttendancesGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/attendances");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<AttendanceDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава ново присъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksAttendancesPostAsync(int schoolYear, int institutionId, int classBookId, AttendanceDO attendance)
        {
            return ClassBooksAttendancesPostAsync(schoolYear, institutionId, classBookId, attendance, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава ново присъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksAttendancesPostAsync(int schoolYear, int institutionId, int classBookId, AttendanceDO attendance, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (attendance == null)
                throw new System.ArgumentNullException("attendance");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/attendances");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(attendance, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива присъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="attendanceId">Идентификатор на присъствието</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksAttendancesDeleteAsync(int schoolYear, int institutionId, int classBookId, int attendanceId)
        {
            return ClassBooksAttendancesDeleteAsync(schoolYear, institutionId, classBookId, attendanceId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива присъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="attendanceId">Идентификатор на присъствието</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksAttendancesDeleteAsync(int schoolYear, int institutionId, int classBookId, int attendanceId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (attendanceId == null)
                throw new System.ArgumentNullException("attendanceId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/attendances/{attendanceId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{attendanceId}", System.Uri.EscapeDataString(ConvertToString(attendanceId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Извинява присъствие от вид неизвинено отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="attendanceId">Идентификатор на присъствието</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksAttendancesExcuseAsync(int schoolYear, int institutionId, int classBookId, int attendanceId, ExcusedReasonDO excusedReason)
        {
            return ClassBooksAttendancesExcuseAsync(schoolYear, institutionId, classBookId, attendanceId, excusedReason, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Извинява присъствие от вид неизвинено отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="attendanceId">Идентификатор на присъствието</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksAttendancesExcuseAsync(int schoolYear, int institutionId, int classBookId, int attendanceId, ExcusedReasonDO excusedReason, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (attendanceId == null)
                throw new System.ArgumentNullException("attendanceId");

            if (excusedReason == null)
                throw new System.ArgumentNullException("excusedReason");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/attendances/excuse/{attendanceId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{attendanceId}", System.Uri.EscapeDataString(ConvertToString(attendanceId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(excusedReason, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички контролни/класни за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<ExamDO>> ClassBooksExamsGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksExamsGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички контролни/класни за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<ExamDO>> ClassBooksExamsGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/exams");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<ExamDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нова контролна/класна работа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksExamsPostAsync(int schoolYear, int institutionId, int classBookId, ExamDO exam)
        {
            return ClassBooksExamsPostAsync(schoolYear, institutionId, classBookId, exam, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нова контролна/класна работа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksExamsPostAsync(int schoolYear, int institutionId, int classBookId, ExamDO exam, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (exam == null)
                throw new System.ArgumentNullException("exam");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/exams");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(exam, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява контролна/класна работа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="examId">Идентификатор на контролната/класната работа</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksExamsPutAsync(int schoolYear, int institutionId, int classBookId, int examId, ExamDO exam)
        {
            return ClassBooksExamsPutAsync(schoolYear, institutionId, classBookId, examId, exam, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява контролна/класна работа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="examId">Идентификатор на контролната/класната работа</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksExamsPutAsync(int schoolYear, int institutionId, int classBookId, int examId, ExamDO exam, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (examId == null)
                throw new System.ArgumentNullException("examId");

            if (exam == null)
                throw new System.ArgumentNullException("exam");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/exams/{examId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{examId}", System.Uri.EscapeDataString(ConvertToString(examId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(exam, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива контролна/класна работа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="examId">Идентификатор на контролната/класната работа</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksExamsDeleteAsync(int schoolYear, int institutionId, int classBookId, int examId)
        {
            return ClassBooksExamsDeleteAsync(schoolYear, institutionId, classBookId, examId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива контролна/класна работа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="examId">Идентификатор на контролната/класната работа</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksExamsDeleteAsync(int schoolYear, int institutionId, int classBookId, int examId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (examId == null)
                throw new System.ArgumentNullException("examId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/exams/{examId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{examId}", System.Uri.EscapeDataString(ConvertToString(examId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички обекти от вид "oбщ годишен успех за първи клас" за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<FirstGradeResultDO>> ClassBooksFirstGradeResultsGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksFirstGradeResultsGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички обекти от вид "oбщ годишен успех за първи клас" за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<FirstGradeResultDO>> ClassBooksFirstGradeResultsGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/firstGradeResults");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<FirstGradeResultDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нов oбщ годишен успех за първи клас
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksFirstGradeResultsPostAsync(int schoolYear, int institutionId, int classBookId, FirstGradeResultDO firstGradeResult)
        {
            return ClassBooksFirstGradeResultsPostAsync(schoolYear, institutionId, classBookId, firstGradeResult, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нов oбщ годишен успех за първи клас
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksFirstGradeResultsPostAsync(int schoolYear, int institutionId, int classBookId, FirstGradeResultDO firstGradeResult, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (firstGradeResult == null)
                throw new System.ArgumentNullException("firstGradeResult");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/firstGradeResults");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(firstGradeResult, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява oбщ годишен успех за първи клас
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="firstGradeResultId">Идентификатор на обекта</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksFirstGradeResultsPutAsync(int schoolYear, int institutionId, int classBookId, int firstGradeResultId, FirstGradeResultDO firstGradeResult)
        {
            return ClassBooksFirstGradeResultsPutAsync(schoolYear, institutionId, classBookId, firstGradeResultId, firstGradeResult, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява oбщ годишен успех за първи клас
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="firstGradeResultId">Идентификатор на обекта</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksFirstGradeResultsPutAsync(int schoolYear, int institutionId, int classBookId, int firstGradeResultId, FirstGradeResultDO firstGradeResult, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (firstGradeResultId == null)
                throw new System.ArgumentNullException("firstGradeResultId");

            if (firstGradeResult == null)
                throw new System.ArgumentNullException("firstGradeResult");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/firstGradeResults/{firstGradeResultId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{firstGradeResultId}", System.Uri.EscapeDataString(ConvertToString(firstGradeResultId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(firstGradeResult, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива oбщ годишен успех за първи клас
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="firstGradeResultId">Идентификатор на обекта</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksFirstGradeResultsDeleteAsync(int schoolYear, int institutionId, int classBookId, int firstGradeResultId)
        {
            return ClassBooksFirstGradeResultsDeleteAsync(schoolYear, institutionId, classBookId, firstGradeResultId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива oбщ годишен успех за първи клас
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="firstGradeResultId">Идентификатор на обекта</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksFirstGradeResultsDeleteAsync(int schoolYear, int institutionId, int classBookId, int firstGradeResultId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (firstGradeResultId == null)
                throw new System.ArgumentNullException("firstGradeResultId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/firstGradeResults/{firstGradeResultId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{firstGradeResultId}", System.Uri.EscapeDataString(ConvertToString(firstGradeResultId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички обекти от вид "годишен резултат" за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<GradeResultDO>> ClassBooksGradeResultsGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksGradeResultsGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички обекти от вид "годишен резултат" за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<GradeResultDO>> ClassBooksGradeResultsGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/gradeResults");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<GradeResultDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нов годишен резултат
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksGradeResultsPostAsync(int schoolYear, int institutionId, int classBookId, GradeResultDO gradeResult)
        {
            return ClassBooksGradeResultsPostAsync(schoolYear, institutionId, classBookId, gradeResult, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нов годишен резултат
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksGradeResultsPostAsync(int schoolYear, int institutionId, int classBookId, GradeResultDO gradeResult, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (gradeResult == null)
                throw new System.ArgumentNullException("gradeResult");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/gradeResults");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(gradeResult, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява годишен резултат
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="gradeResultId">Идентификатор на обекта</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksGradeResultsPutAsync(int schoolYear, int institutionId, int classBookId, int gradeResultId, GradeResultDO gradeResult)
        {
            return ClassBooksGradeResultsPutAsync(schoolYear, institutionId, classBookId, gradeResultId, gradeResult, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява годишен резултат
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="gradeResultId">Идентификатор на обекта</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksGradeResultsPutAsync(int schoolYear, int institutionId, int classBookId, int gradeResultId, GradeResultDO gradeResult, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (gradeResultId == null)
                throw new System.ArgumentNullException("gradeResultId");

            if (gradeResult == null)
                throw new System.ArgumentNullException("gradeResult");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/gradeResults/{gradeResultId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{gradeResultId}", System.Uri.EscapeDataString(ConvertToString(gradeResultId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(gradeResult, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива годишен резултат
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="gradeResultId">Идентификатор на обекта</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksGradeResultsDeleteAsync(int schoolYear, int institutionId, int classBookId, int gradeResultId)
        {
            return ClassBooksGradeResultsDeleteAsync(schoolYear, institutionId, classBookId, gradeResultId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива годишен резултат
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="gradeResultId">Идентификатор на обекта</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksGradeResultsDeleteAsync(int schoolYear, int institutionId, int classBookId, int gradeResultId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (gradeResultId == null)
                throw new System.ArgumentNullException("gradeResultId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/gradeResults/{gradeResultId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{gradeResultId}", System.Uri.EscapeDataString(ConvertToString(gradeResultId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички оценки за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<GradeDO>> ClassBooksGradesGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksGradesGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички оценки за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<GradeDO>> ClassBooksGradesGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/grades");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<GradeDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нова оценка
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksGradesPostAsync(int schoolYear, int institutionId, int classBookId, GradeDO grade)
        {
            return ClassBooksGradesPostAsync(schoolYear, institutionId, classBookId, grade, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нова оценка
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksGradesPostAsync(int schoolYear, int institutionId, int classBookId, GradeDO grade, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (grade == null)
                throw new System.ArgumentNullException("grade");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/grades");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(grade, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива оценка
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="gradeId">Идентификатор на оценката</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksGradesDeleteAsync(int schoolYear, int institutionId, int classBookId, int gradeId)
        {
            return ClassBooksGradesDeleteAsync(schoolYear, institutionId, classBookId, gradeId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива оценка
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="gradeId">Идентификатор на оценката</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksGradesDeleteAsync(int schoolYear, int institutionId, int classBookId, int gradeId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (gradeId == null)
                throw new System.ArgumentNullException("gradeId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/grades/{gradeId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{gradeId}", System.Uri.EscapeDataString(ConvertToString(gradeId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички индивидуални работи за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<IndividualWorkDO>> ClassBooksIndividualWorksGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksIndividualWorksGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички индивидуални работи за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<IndividualWorkDO>> ClassBooksIndividualWorksGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/individualWorks");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<IndividualWorkDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нова индивидуална работа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksIndividualWorksPostAsync(int schoolYear, int institutionId, int classBookId, IndividualWorkDO individualWork)
        {
            return ClassBooksIndividualWorksPostAsync(schoolYear, institutionId, classBookId, individualWork, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нова индивидуална работа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksIndividualWorksPostAsync(int schoolYear, int institutionId, int classBookId, IndividualWorkDO individualWork, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (individualWork == null)
                throw new System.ArgumentNullException("individualWork");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/individualWorks");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(individualWork, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява индивидуална работа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="individualWorkId">Идентификатор на индивидуалната работа</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksIndividualWorksPutAsync(int schoolYear, int institutionId, int classBookId, int individualWorkId, IndividualWorkDO individualWork)
        {
            return ClassBooksIndividualWorksPutAsync(schoolYear, institutionId, classBookId, individualWorkId, individualWork, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява индивидуална работа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="individualWorkId">Идентификатор на индивидуалната работа</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksIndividualWorksPutAsync(int schoolYear, int institutionId, int classBookId, int individualWorkId, IndividualWorkDO individualWork, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (individualWorkId == null)
                throw new System.ArgumentNullException("individualWorkId");

            if (individualWork == null)
                throw new System.ArgumentNullException("individualWork");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/individualWorks/{individualWorkId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{individualWorkId}", System.Uri.EscapeDataString(ConvertToString(individualWorkId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(individualWork, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива индивидуална работа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="individualWorkId">Идентификатор на индивидуалната работа</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksIndividualWorksDeleteAsync(int schoolYear, int institutionId, int classBookId, int individualWorkId)
        {
            return ClassBooksIndividualWorksDeleteAsync(schoolYear, institutionId, classBookId, individualWorkId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива индивидуална работа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="individualWorkId">Идентификатор на индивидуалната работа</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksIndividualWorksDeleteAsync(int schoolYear, int institutionId, int classBookId, int individualWorkId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (individualWorkId == null)
                throw new System.ArgumentNullException("individualWorkId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/individualWorks/{individualWorkId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{individualWorkId}", System.Uri.EscapeDataString(ConvertToString(individualWorkId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички бележки за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<NoteDO>> ClassBooksNotesGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksNotesGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички бележки за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<NoteDO>> ClassBooksNotesGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/notes");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<NoteDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нова бележка
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksNotesPostAsync(int schoolYear, int institutionId, int classBookId, NoteDO note)
        {
            return ClassBooksNotesPostAsync(schoolYear, institutionId, classBookId, note, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нова бележка
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksNotesPostAsync(int schoolYear, int institutionId, int classBookId, NoteDO note, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (note == null)
                throw new System.ArgumentNullException("note");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/notes");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(note, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява бележка
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="noteId">Идентификатор на бележката</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksNotesPutAsync(int schoolYear, int institutionId, int classBookId, int noteId, NoteDO note)
        {
            return ClassBooksNotesPutAsync(schoolYear, institutionId, classBookId, noteId, note, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява бележка
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="noteId">Идентификатор на бележката</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksNotesPutAsync(int schoolYear, int institutionId, int classBookId, int noteId, NoteDO note, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (noteId == null)
                throw new System.ArgumentNullException("noteId");

            if (note == null)
                throw new System.ArgumentNullException("note");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/notes/{noteId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{noteId}", System.Uri.EscapeDataString(ConvertToString(noteId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(note, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива бележка
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="noteId">Идентификатор на бележката</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksNotesDeleteAsync(int schoolYear, int institutionId, int classBookId, int noteId)
        {
            return ClassBooksNotesDeleteAsync(schoolYear, institutionId, classBookId, noteId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива бележка
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="noteId">Идентификатор на бележката</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksNotesDeleteAsync(int schoolYear, int institutionId, int classBookId, int noteId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (noteId == null)
                throw new System.ArgumentNullException("noteId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/notes/{noteId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{noteId}", System.Uri.EscapeDataString(ConvertToString(noteId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички родителски срещи за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<ParentMeetingDO>> ClassBooksParentMeetingsGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksParentMeetingsGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички родителски срещи за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<ParentMeetingDO>> ClassBooksParentMeetingsGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/parentMeetings");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<ParentMeetingDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нова родителска среща
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksParentMeetingsPostAsync(int schoolYear, int institutionId, int classBookId, ParentMeetingDO parentMeeting)
        {
            return ClassBooksParentMeetingsPostAsync(schoolYear, institutionId, classBookId, parentMeeting, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нова родителска среща
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksParentMeetingsPostAsync(int schoolYear, int institutionId, int classBookId, ParentMeetingDO parentMeeting, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (parentMeeting == null)
                throw new System.ArgumentNullException("parentMeeting");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/parentMeetings");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(parentMeeting, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява родителска среща
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="parentMeetingId">Идентификатор на родителската среща</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksParentMeetingsPutAsync(int schoolYear, int institutionId, int classBookId, int parentMeetingId, ParentMeetingDO parentMeeting)
        {
            return ClassBooksParentMeetingsPutAsync(schoolYear, institutionId, classBookId, parentMeetingId, parentMeeting, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява родителска среща
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="parentMeetingId">Идентификатор на родителската среща</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksParentMeetingsPutAsync(int schoolYear, int institutionId, int classBookId, int parentMeetingId, ParentMeetingDO parentMeeting, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (parentMeetingId == null)
                throw new System.ArgumentNullException("parentMeetingId");

            if (parentMeeting == null)
                throw new System.ArgumentNullException("parentMeeting");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/parentMeetings/{parentMeetingId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{parentMeetingId}", System.Uri.EscapeDataString(ConvertToString(parentMeetingId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(parentMeeting, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива родителска среща
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="parentMeetingId">Идентификатор на родителската среща</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksParentMeetingsDeleteAsync(int schoolYear, int institutionId, int classBookId, int parentMeetingId)
        {
            return ClassBooksParentMeetingsDeleteAsync(schoolYear, institutionId, classBookId, parentMeetingId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива родителска среща
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="parentMeetingId">Идентификатор на родителската среща</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksParentMeetingsDeleteAsync(int schoolYear, int institutionId, int classBookId, int parentMeetingId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (parentMeetingId == null)
                throw new System.ArgumentNullException("parentMeetingId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/parentMeetings/{parentMeetingId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{parentMeetingId}", System.Uri.EscapeDataString(ConvertToString(parentMeetingId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички изяви за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<PerformanceDO>> ClassBooksPerformancesGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksPerformancesGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички изяви за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<PerformanceDO>> ClassBooksPerformancesGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/performances");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<PerformanceDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нова изява
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksPerformancesPostAsync(int schoolYear, int institutionId, int classBookId, PerformanceDO performance)
        {
            return ClassBooksPerformancesPostAsync(schoolYear, institutionId, classBookId, performance, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нова изява
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksPerformancesPostAsync(int schoolYear, int institutionId, int classBookId, PerformanceDO performance, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (performance == null)
                throw new System.ArgumentNullException("performance");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/performances");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(performance, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява изява
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="performanceId">Идентификатор на изявата</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksPerformancesPutAsync(int schoolYear, int institutionId, int classBookId, int performanceId, PerformanceDO performance)
        {
            return ClassBooksPerformancesPutAsync(schoolYear, institutionId, classBookId, performanceId, performance, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява изява
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="performanceId">Идентификатор на изявата</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksPerformancesPutAsync(int schoolYear, int institutionId, int classBookId, int performanceId, PerformanceDO performance, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (performanceId == null)
                throw new System.ArgumentNullException("performanceId");

            if (performance == null)
                throw new System.ArgumentNullException("performance");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/performances/{performanceId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{performanceId}", System.Uri.EscapeDataString(ConvertToString(performanceId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(performance, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива изява
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="performanceId">Идентификатор на изявата</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksPerformancesDeleteAsync(int schoolYear, int institutionId, int classBookId, int performanceId)
        {
            return ClassBooksPerformancesDeleteAsync(schoolYear, institutionId, classBookId, performanceId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива изява
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="performanceId">Идентификатор на изявата</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksPerformancesDeleteAsync(int schoolYear, int institutionId, int classBookId, int performanceId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (performanceId == null)
                throw new System.ArgumentNullException("performanceId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/performances/{performanceId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{performanceId}", System.Uri.EscapeDataString(ConvertToString(performanceId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички резултати от предучилищната подготовка по направления за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<PgResultDO>> ClassBooksPgResultsGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksPgResultsGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички резултати от предучилищната подготовка по направления за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<PgResultDO>> ClassBooksPgResultsGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/pgResults");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<PgResultDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нов резултат от предучилищната подготовка по направления
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksPgResultsPostAsync(int schoolYear, int institutionId, int classBookId, PgResultDO pgResult)
        {
            return ClassBooksPgResultsPostAsync(schoolYear, institutionId, classBookId, pgResult, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нов резултат от предучилищната подготовка по направления
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksPgResultsPostAsync(int schoolYear, int institutionId, int classBookId, PgResultDO pgResult, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (pgResult == null)
                throw new System.ArgumentNullException("pgResult");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/pgResults");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(pgResult, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява резултат от предучилищната подготовка по направления
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="pgResultId">Идентификатор на резултат от предучилищната подготовка по направления</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksPgResultsPutAsync(int schoolYear, int institutionId, int classBookId, int pgResultId, PgResultDO pgResult)
        {
            return ClassBooksPgResultsPutAsync(schoolYear, institutionId, classBookId, pgResultId, pgResult, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява резултат от предучилищната подготовка по направления
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="pgResultId">Идентификатор на резултат от предучилищната подготовка по направления</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksPgResultsPutAsync(int schoolYear, int institutionId, int classBookId, int pgResultId, PgResultDO pgResult, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (pgResultId == null)
                throw new System.ArgumentNullException("pgResultId");

            if (pgResult == null)
                throw new System.ArgumentNullException("pgResult");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/pgResults/{pgResultId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{pgResultId}", System.Uri.EscapeDataString(ConvertToString(pgResultId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(pgResult, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива резултат от предучилищната подготовка по направления
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="pgResultId">Идентификатор на резултат от предучилищната подготовка по направления</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksPgResultsDeleteAsync(int schoolYear, int institutionId, int classBookId, int pgResultId)
        {
            return ClassBooksPgResultsDeleteAsync(schoolYear, institutionId, classBookId, pgResultId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива резултат от предучилищната подготовка по направления
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="pgResultId">Идентификатор на резултат от предучилищната подготовка по направления</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksPgResultsDeleteAsync(int schoolYear, int institutionId, int classBookId, int pgResultId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (pgResultId == null)
                throw new System.ArgumentNullException("pgResultId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/pgResults/{pgResultId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{pgResultId}", System.Uri.EscapeDataString(ConvertToString(pgResultId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички отзиви за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<RemarkDO>> ClassBooksRemarksGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksRemarksGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички отзиви за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<RemarkDO>> ClassBooksRemarksGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/remarks");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<RemarkDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нов отзив
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksRemarksPostAsync(int schoolYear, int institutionId, int classBookId, RemarkDO remark)
        {
            return ClassBooksRemarksPostAsync(schoolYear, institutionId, classBookId, remark, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нов отзив
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksRemarksPostAsync(int schoolYear, int institutionId, int classBookId, RemarkDO remark, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (remark == null)
                throw new System.ArgumentNullException("remark");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/remarks");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(remark, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява отзив
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="remarkId">Идентификатор на отзива</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksRemarksPutAsync(int schoolYear, int institutionId, int classBookId, int remarkId, RemarkDO remark)
        {
            return ClassBooksRemarksPutAsync(schoolYear, institutionId, classBookId, remarkId, remark, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява отзив
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="remarkId">Идентификатор на отзива</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksRemarksPutAsync(int schoolYear, int institutionId, int classBookId, int remarkId, RemarkDO remark, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (remarkId == null)
                throw new System.ArgumentNullException("remarkId");

            if (remark == null)
                throw new System.ArgumentNullException("remark");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/remarks/{remarkId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{remarkId}", System.Uri.EscapeDataString(ConvertToString(remarkId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(remark, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива отзив
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="remarkId">Идентификатор на отзива</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksRemarksDeleteAsync(int schoolYear, int institutionId, int classBookId, int remarkId)
        {
            return ClassBooksRemarksDeleteAsync(schoolYear, institutionId, classBookId, remarkId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива отзив
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="remarkId">Идентификатор на отзива</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksRemarksDeleteAsync(int schoolYear, int institutionId, int classBookId, int remarkId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (remarkId == null)
                throw new System.ArgumentNullException("remarkId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/remarks/{remarkId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{remarkId}", System.Uri.EscapeDataString(ConvertToString(remarkId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички участия в РЕПЛР за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<ReplrParticipationDO>> ClassBooksReplrParticipationsGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksReplrParticipationsGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички участия в РЕПЛР за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<ReplrParticipationDO>> ClassBooksReplrParticipationsGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/replrParticipations");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<ReplrParticipationDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава новo участие в РЕПЛР
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksReplrParticipationsPostAsync(int schoolYear, int institutionId, int classBookId, ReplrParticipationDO replrParticipation)
        {
            return ClassBooksReplrParticipationsPostAsync(schoolYear, institutionId, classBookId, replrParticipation, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава новo участие в РЕПЛР
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksReplrParticipationsPostAsync(int schoolYear, int institutionId, int classBookId, ReplrParticipationDO replrParticipation, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (replrParticipation == null)
                throw new System.ArgumentNullException("replrParticipation");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/replrParticipations");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(replrParticipation, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява участие в РЕПЛР
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="replrParticipationId">Идентификатор на участието в РЕПЛР</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksReplrParticipationsPutAsync(int schoolYear, int institutionId, int classBookId, int replrParticipationId, ReplrParticipationDO replrParticipation)
        {
            return ClassBooksReplrParticipationsPutAsync(schoolYear, institutionId, classBookId, replrParticipationId, replrParticipation, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява участие в РЕПЛР
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="replrParticipationId">Идентификатор на участието в РЕПЛР</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksReplrParticipationsPutAsync(int schoolYear, int institutionId, int classBookId, int replrParticipationId, ReplrParticipationDO replrParticipation, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (replrParticipationId == null)
                throw new System.ArgumentNullException("replrParticipationId");

            if (replrParticipation == null)
                throw new System.ArgumentNullException("replrParticipation");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/replrParticipations/{replrParticipationId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{replrParticipationId}", System.Uri.EscapeDataString(ConvertToString(replrParticipationId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(replrParticipation, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива участие в РЕПЛР
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="replrParticipationId">Идентификатор на участието в РЕПЛР</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksReplrParticipationsDeleteAsync(int schoolYear, int institutionId, int classBookId, int replrParticipationId)
        {
            return ClassBooksReplrParticipationsDeleteAsync(schoolYear, institutionId, classBookId, replrParticipationId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива участие в РЕПЛР
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="replrParticipationId">Идентификатор на участието в РЕПЛР</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksReplrParticipationsDeleteAsync(int schoolYear, int institutionId, int classBookId, int replrParticipationId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (replrParticipationId == null)
                throw new System.ArgumentNullException("replrParticipationId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/replrParticipations/{replrParticipationId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{replrParticipationId}", System.Uri.EscapeDataString(ConvertToString(replrParticipationId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички санкции за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<SanctionDO>> ClassBooksSanctionsGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksSanctionsGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички санкции за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<SanctionDO>> ClassBooksSanctionsGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/sanctions");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<SanctionDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нова санкция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksSanctionsPostAsync(int schoolYear, int institutionId, int classBookId, SanctionDO sanction)
        {
            return ClassBooksSanctionsPostAsync(schoolYear, institutionId, classBookId, sanction, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нова санкция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksSanctionsPostAsync(int schoolYear, int institutionId, int classBookId, SanctionDO sanction, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (sanction == null)
                throw new System.ArgumentNullException("sanction");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/sanctions");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(sanction, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява санкция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="sanctionId">Идентификатор на санкцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksSanctionsPutAsync(int schoolYear, int institutionId, int classBookId, int sanctionId, SanctionDO sanction)
        {
            return ClassBooksSanctionsPutAsync(schoolYear, institutionId, classBookId, sanctionId, sanction, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява санкция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="sanctionId">Идентификатор на санкцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksSanctionsPutAsync(int schoolYear, int institutionId, int classBookId, int sanctionId, SanctionDO sanction, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (sanctionId == null)
                throw new System.ArgumentNullException("sanctionId");

            if (sanction == null)
                throw new System.ArgumentNullException("sanction");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/sanctions/{sanctionId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{sanctionId}", System.Uri.EscapeDataString(ConvertToString(sanctionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(sanction, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива санкция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="sanctionId">Идентификатор на санкцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksSanctionsDeleteAsync(int schoolYear, int institutionId, int classBookId, int sanctionId)
        {
            return ClassBooksSanctionsDeleteAsync(schoolYear, institutionId, classBookId, sanctionId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива санкция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="sanctionId">Идентификатор на санкцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksSanctionsDeleteAsync(int schoolYear, int institutionId, int classBookId, int sanctionId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (sanctionId == null)
                throw new System.ArgumentNullException("sanctionId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/sanctions/{sanctionId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{sanctionId}", System.Uri.EscapeDataString(ConvertToString(sanctionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички разписания за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<ScheduleDO>> ClassBooksSchedulesGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksSchedulesGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички разписания за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<ScheduleDO>> ClassBooksSchedulesGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/schedules");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<ScheduleDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава ново разписание
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на разписанието и всички занятия с техните идентификатори</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<ScheduleResultDO> ClassBooksSchedulesPostAsync(int schoolYear, int institutionId, int classBookId, ScheduleDO schedule)
        {
            return ClassBooksSchedulesPostAsync(schoolYear, institutionId, classBookId, schedule, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава ново разписание
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на разписанието и всички занятия с техните идентификатори</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<ScheduleResultDO> ClassBooksSchedulesPostAsync(int schoolYear, int institutionId, int classBookId, ScheduleDO schedule, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (schedule == null)
                throw new System.ArgumentNullException("schedule");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/schedules");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(schedule, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ScheduleResultDO>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява разписание
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="scheduleId">Идентификатор на разписание</param>
        /// <returns>Връща идентификатора на разписанието и всички занятия с техните идентификатори</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<ScheduleResultDO> ClassBooksSchedulesPutAsync(int schoolYear, int institutionId, int classBookId, int scheduleId, ScheduleDO schedule)
        {
            return ClassBooksSchedulesPutAsync(schoolYear, institutionId, classBookId, scheduleId, schedule, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява разписание
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="scheduleId">Идентификатор на разписание</param>
        /// <returns>Връща идентификатора на разписанието и всички занятия с техните идентификатори</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<ScheduleResultDO> ClassBooksSchedulesPutAsync(int schoolYear, int institutionId, int classBookId, int scheduleId, ScheduleDO schedule, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (scheduleId == null)
                throw new System.ArgumentNullException("scheduleId");

            if (schedule == null)
                throw new System.ArgumentNullException("schedule");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/schedules/{scheduleId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{scheduleId}", System.Uri.EscapeDataString(ConvertToString(scheduleId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(schedule, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ScheduleResultDO>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива разписание
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="scheduleId">Идентификатор на разписание</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksSchedulesDeleteAsync(int schoolYear, int institutionId, int classBookId, int scheduleId)
        {
            return ClassBooksSchedulesDeleteAsync(schoolYear, institutionId, classBookId, scheduleId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива разписание
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="scheduleId">Идентификатор на разписание</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksSchedulesDeleteAsync(int schoolYear, int institutionId, int classBookId, int scheduleId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (scheduleId == null)
                throw new System.ArgumentNullException("scheduleId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/schedules/{scheduleId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{scheduleId}", System.Uri.EscapeDataString(ConvertToString(scheduleId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Отделя избрани седмици в ново разписание. За разлика от редакцията на разписание, отделянето на седмици може
        /// <br/>да се направи и при наличие на свързани обекти (Оценки/Отсъствия/Теми) за занятията от разписанието.
        /// <br/>Идентификаторите на отделените занятия (ScheduleLessonId) не се променят след операцията, като всички
        /// <br/>свързани обекти (Оценки/Отсъствия/Теми) остават коректно свързани с отделеното разписание.
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="scheduleId">Идентификатор на разписание</param>
        /// <returns>Връща идентификатора на новото разписание, в което са преместени занятия за посочените седмици.</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksSchedulesSplitScheduleAsync(int schoolYear, int institutionId, int classBookId, int scheduleId, System.Collections.Generic.IEnumerable<ScheduleWeekDO> weeks)
        {
            return ClassBooksSchedulesSplitScheduleAsync(schoolYear, institutionId, classBookId, scheduleId, weeks, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Отделя избрани седмици в ново разписание. За разлика от редакцията на разписание, отделянето на седмици може
        /// <br/>да се направи и при наличие на свързани обекти (Оценки/Отсъствия/Теми) за занятията от разписанието.
        /// <br/>Идентификаторите на отделените занятия (ScheduleLessonId) не се променят след операцията, като всички
        /// <br/>свързани обекти (Оценки/Отсъствия/Теми) остават коректно свързани с отделеното разписание.
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="scheduleId">Идентификатор на разписание</param>
        /// <returns>Връща идентификатора на новото разписание, в което са преместени занятия за посочените седмици.</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksSchedulesSplitScheduleAsync(int schoolYear, int institutionId, int classBookId, int scheduleId, System.Collections.Generic.IEnumerable<ScheduleWeekDO> weeks, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (scheduleId == null)
                throw new System.ArgumentNullException("scheduleId");

            if (weeks == null)
                throw new System.ArgumentNullException("weeks");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/schedules/{scheduleId}/splitSchedule");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{scheduleId}", System.Uri.EscapeDataString(ConvertToString(scheduleId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(weeks, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички дейности по интереси на ученици за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<StudentActivitiesDO>> ClassBooksStudentActivitiesGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksStudentActivitiesGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички дейности по интереси на ученици за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<StudentActivitiesDO>> ClassBooksStudentActivitiesGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/studentActivities");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<StudentActivitiesDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява дейности по интереси за ученик в дневника
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="personId">Идентификатор на ученика</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksStudentActivitiesPutAsync(int schoolYear, int institutionId, int classBookId, int personId, StudentActivitiesDO studentActivities)
        {
            return ClassBooksStudentActivitiesPutAsync(schoolYear, institutionId, classBookId, personId, studentActivities, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява дейности по интереси за ученик в дневника
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="personId">Идентификатор на ученика</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksStudentActivitiesPutAsync(int schoolYear, int institutionId, int classBookId, int personId, StudentActivitiesDO studentActivities, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (personId == null)
                throw new System.ArgumentNullException("personId");

            if (studentActivities == null)
                throw new System.ArgumentNullException("studentActivities");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/studentActivities/{personId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{personId}", System.Uri.EscapeDataString(ConvertToString(personId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(studentActivities, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички пренесени отсъствия на ученици за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<StudentCarriedAbsencesDO>> ClassBooksStudentCarriedAbsencesGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksStudentCarriedAbsencesGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички пренесени отсъствия на ученици за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<StudentCarriedAbsencesDO>> ClassBooksStudentCarriedAbsencesGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/studentCarriedAbsences");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<StudentCarriedAbsencesDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява пренесените отсъствия на ученика в дневника
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="personId">Идентификатор на ученика</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksStudentCarriedAbsencesPutAsync(int schoolYear, int institutionId, int classBookId, int personId, StudentCarriedAbsencesDO studentCarriedAbsences)
        {
            return ClassBooksStudentCarriedAbsencesPutAsync(schoolYear, institutionId, classBookId, personId, studentCarriedAbsences, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява пренесените отсъствия на ученика в дневника
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="personId">Идентификатор на ученика</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksStudentCarriedAbsencesPutAsync(int schoolYear, int institutionId, int classBookId, int personId, StudentCarriedAbsencesDO studentCarriedAbsences, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (personId == null)
                throw new System.ArgumentNullException("personId");

            if (studentCarriedAbsences == null)
                throw new System.ArgumentNullException("studentCarriedAbsences");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/studentCarriedAbsences/{personId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{personId}", System.Uri.EscapeDataString(ConvertToString(personId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(studentCarriedAbsences, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички номера на ученици за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<StudentClassNumberDO>> ClassBooksStudentClassNumbersGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksStudentClassNumbersGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички номера на ученици за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<StudentClassNumberDO>> ClassBooksStudentClassNumbersGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/studentClassNumbers");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<StudentClassNumberDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява номера на ученика в дневника
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="personId">Идентификатор на ученика</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksStudentClassNumbersPutAsync(int schoolYear, int institutionId, int classBookId, int personId, StudentClassNumberDO studentClassNumber)
        {
            return ClassBooksStudentClassNumbersPutAsync(schoolYear, institutionId, classBookId, personId, studentClassNumber, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява номера на ученика в дневника
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="personId">Идентификатор на ученика</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksStudentClassNumbersPutAsync(int schoolYear, int institutionId, int classBookId, int personId, StudentClassNumberDO studentClassNumber, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (personId == null)
                throw new System.ArgumentNullException("personId");

            if (studentClassNumber == null)
                throw new System.ArgumentNullException("studentClassNumber");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/studentClassNumbers/{personId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{personId}", System.Uri.EscapeDataString(ConvertToString(personId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(studentClassNumber, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички ученици освободени по предмети за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<StudentGradelessCurriculumsDO>> ClassBooksStudentGradelessCurriculumsGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksStudentGradelessCurriculumsGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички ученици освободени по предмети за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<StudentGradelessCurriculumsDO>> ClassBooksStudentGradelessCurriculumsGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/studentGradelessCurriculums");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<StudentGradelessCurriculumsDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява освободен по предмети за ученик в дневника
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="personId">Идентификатор на ученика</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksStudentGradelessCurriculumsPutAsync(int schoolYear, int institutionId, int classBookId, int personId, StudentGradelessCurriculumsDO studentGradelessCurriculums)
        {
            return ClassBooksStudentGradelessCurriculumsPutAsync(schoolYear, institutionId, classBookId, personId, studentGradelessCurriculums, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява освободен по предмети за ученик в дневника
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="personId">Идентификатор на ученика</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksStudentGradelessCurriculumsPutAsync(int schoolYear, int institutionId, int classBookId, int personId, StudentGradelessCurriculumsDO studentGradelessCurriculums, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (personId == null)
                throw new System.ArgumentNullException("personId");

            if (studentGradelessCurriculums == null)
                throw new System.ArgumentNullException("studentGradelessCurriculums");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/studentGradelessCurriculums/{personId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{personId}", System.Uri.EscapeDataString(ConvertToString(personId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(studentGradelessCurriculums, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички ученици със СОП оценки по предмети за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<StudentSpecialNeedCurriculumsDO>> ClassBooksStudentSpecialNeedCurriculumsGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksStudentSpecialNeedCurriculumsGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички ученици със СОП оценки по предмети за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<StudentSpecialNeedCurriculumsDO>> ClassBooksStudentSpecialNeedCurriculumsGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/studentSpecialNeedCurriculums");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<StudentSpecialNeedCurriculumsDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява СОП оценки по предмети за ученик в дневника
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="personId">Идентификатор на ученика</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksStudentSpecialNeedCurriculumsPutAsync(int schoolYear, int institutionId, int classBookId, int personId, StudentSpecialNeedCurriculumsDO studentSpecialNeedCurriculums)
        {
            return ClassBooksStudentSpecialNeedCurriculumsPutAsync(schoolYear, institutionId, classBookId, personId, studentSpecialNeedCurriculums, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява СОП оценки по предмети за ученик в дневника
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="personId">Идентификатор на ученика</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksStudentSpecialNeedCurriculumsPutAsync(int schoolYear, int institutionId, int classBookId, int personId, StudentSpecialNeedCurriculumsDO studentSpecialNeedCurriculums, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (personId == null)
                throw new System.ArgumentNullException("personId");

            if (studentSpecialNeedCurriculums == null)
                throw new System.ArgumentNullException("studentSpecialNeedCurriculums");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/studentSpecialNeedCurriculums/{personId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{personId}", System.Uri.EscapeDataString(ConvertToString(personId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(studentSpecialNeedCurriculums, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички подкрепи за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<SupportDO>> ClassBooksSupportsGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksSupportsGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички подкрепи за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<SupportDO>> ClassBooksSupportsGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/supports");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<SupportDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нова подкрепа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksSupportsPostAsync(int schoolYear, int institutionId, int classBookId, SupportDO support)
        {
            return ClassBooksSupportsPostAsync(schoolYear, institutionId, classBookId, support, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нова подкрепа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksSupportsPostAsync(int schoolYear, int institutionId, int classBookId, SupportDO support, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (support == null)
                throw new System.ArgumentNullException("support");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/supports");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(support, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява подкрепа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="supportId">Идентификатор на подкрепата</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksSupportsPutAsync(int schoolYear, int institutionId, int classBookId, int supportId, SupportDO support)
        {
            return ClassBooksSupportsPutAsync(schoolYear, institutionId, classBookId, supportId, support, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява подкрепа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="supportId">Идентификатор на подкрепата</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksSupportsPutAsync(int schoolYear, int institutionId, int classBookId, int supportId, SupportDO support, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (supportId == null)
                throw new System.ArgumentNullException("supportId");

            if (support == null)
                throw new System.ArgumentNullException("support");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/supports/{supportId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{supportId}", System.Uri.EscapeDataString(ConvertToString(supportId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(support, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива подкрепа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="supportId">Идентификатор на подкрепата</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksSupportsDeleteAsync(int schoolYear, int institutionId, int classBookId, int supportId)
        {
            return ClassBooksSupportsDeleteAsync(schoolYear, institutionId, classBookId, supportId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива подкрепа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="supportId">Идентификатор на подкрепата</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksSupportsDeleteAsync(int schoolYear, int institutionId, int classBookId, int supportId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (supportId == null)
                throw new System.ArgumentNullException("supportId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/supports/{supportId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{supportId}", System.Uri.EscapeDataString(ConvertToString(supportId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички теми на часа за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<TopicDO>> ClassBooksTopicsGetAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksTopicsGetAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички теми на часа за даден дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<TopicDO>> ClassBooksTopicsGetAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/topics");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<TopicDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нова тема на часа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksTopicsPostAsync(int schoolYear, int institutionId, int classBookId, TopicDO topic)
        {
            return ClassBooksTopicsPostAsync(schoolYear, institutionId, classBookId, topic, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нова тема на часа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksTopicsPostAsync(int schoolYear, int institutionId, int classBookId, TopicDO topic, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (topic == null)
                throw new System.ArgumentNullException("topic");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/topics");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(topic, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива тема на часа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="topicId">Идентификатор на темата</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksTopicsDeleteAsync(int schoolYear, int institutionId, int classBookId, int topicId)
        {
            return ClassBooksTopicsDeleteAsync(schoolYear, institutionId, classBookId, topicId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива тема на часа
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <param name="topicId">Идентификатор на темата</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksTopicsDeleteAsync(int schoolYear, int institutionId, int classBookId, int topicId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            if (topicId == null)
                throw new System.ArgumentNullException("topicId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/topics/{topicId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{topicId}", System.Uri.EscapeDataString(ConvertToString(topicId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Добавя медицински бележки от Националната здравно информационна система (НЗИС/HIS)
        /// </summary>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task HisMedicalNoticesAsync(System.Collections.Generic.IEnumerable<HisMedicalNoticeDO> hisMedicalNotices)
        {
            return HisMedicalNoticesAsync(hisMedicalNotices, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Добавя медицински бележки от Националната здравно информационна система (НЗИС/HIS)
        /// </summary>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task HisMedicalNoticesAsync(System.Collections.Generic.IEnumerable<HisMedicalNoticeDO> hisMedicalNotices, System.Threading.CancellationToken cancellationToken)
        {
            if (hisMedicalNotices == null)
                throw new System.ArgumentNullException("hisMedicalNotices");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/hisMedicalNotices");

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(hisMedicalNotices, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Взима следващите "next" непрочетени медицински бележки. Параметъра "next" трябва да е в интервала [100, 10000].
        /// </summary>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<MedicalNoticeBatchDO> MedicalNoticesNextAsync(int next)
        {
            return MedicalNoticesNextAsync(next, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Взима следващите "next" непрочетени медицински бележки. Параметъра "next" трябва да е в интервала [100, 10000].
        /// </summary>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<MedicalNoticeBatchDO> MedicalNoticesNextAsync(int next, System.Threading.CancellationToken cancellationToken)
        {
            if (next == null)
                throw new System.ArgumentNullException("next");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/medicalNotices/next/{next}");
            urlBuilder_.Replace("{next}", System.Uri.EscapeDataString(ConvertToString(next, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<MedicalNoticeBatchDO>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Потвърждава, че са прочетени медицинските бележки с идентификатори medicalNoticeIds.
        /// </summary>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task MedicalNoticesAcknowledgeAsync(System.Collections.Generic.IEnumerable<int> medicalNoticeIds)
        {
            return MedicalNoticesAcknowledgeAsync(medicalNoticeIds, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Потвърждава, че са прочетени медицинските бележки с идентификатори medicalNoticeIds.
        /// </summary>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task MedicalNoticesAcknowledgeAsync(System.Collections.Generic.IEnumerable<int> medicalNoticeIds, System.Threading.CancellationToken cancellationToken)
        {
            if (medicalNoticeIds == null)
                throw new System.ArgumentNullException("medicalNoticeIds");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/medicalNotices/acknowledge");

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(medicalNoticeIds, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички дневници за дадена институция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<ClassBookDO>> ClassBooksGetAsync(int schoolYear, int institutionId)
        {
            return ClassBooksGetAsync(schoolYear, institutionId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички дневници за дадена институция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<ClassBookDO>> ClassBooksGetAsync(int schoolYear, int institutionId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<ClassBookDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нов дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classId">Идентификатор на паралелката/групата за която се създава дневника.
        /// <br/>            
        /// <br/>Нивото на ClassGroup, за което се създава дневника е:
        /// <br/> - Parent ниво (ParentClassId == null), ако паралелката не е слята (IsCombined == false)
        /// <br/> - Child ниво (ParentClassId != null), ако паралелката е слята (IsCombined == true)</param>
        /// <returns>Връща идентификатора на новосъздадения дневник</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksPostAsync(int schoolYear, int institutionId, int classId)
        {
            return ClassBooksPostAsync(schoolYear, institutionId, classId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нов дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classId">Идентификатор на паралелката/групата за която се създава дневника.
        /// <br/>            
        /// <br/>Нивото на ClassGroup, за което се създава дневника е:
        /// <br/> - Parent ниво (ParentClassId == null), ако паралелката не е слята (IsCombined == false)
        /// <br/> - Child ниво (ParentClassId != null), ако паралелката е слята (IsCombined == true)</param>
        /// <returns>Връща идентификатора на новосъздадения дневник</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksPostAsync(int schoolYear, int institutionId, int classId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classId == null)
                throw new System.ArgumentNullException("classId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(classId, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нови дневници
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classIds">Идентификатори на паралелките/групите (ClassGroup.ClassID), за които се създават дневниците.
        /// <br/>Групите (ClassGroup) трябва да са създадени предварително в списък образец 1/2/3 и техните ClassID-та
        /// <br/>се взимат от апито за данни за списък образец за ел. дневници (getcbdata).
        /// <br/>            
        /// <br/>Нивото на ClassGroup, за което се създава дневник е:
        /// <br/> - Parent ниво (ParentClassId == null), ако паралелката/групата не е слята (IsCombined == false)
        /// <br/> - По избор (parent или child), ако паралелката/групата е слята (IsCombined == true). По-често срещано
        /// <br/>   е да се създаде дневника на parent ниво, т.е. да е един общ за всички подгрупи.</param>
        /// <returns>Връща идентификаторите на новосъздадените дневници, в реда на подадените classIds.</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<int>> ClassBooksCreateClassBooksAsync(int schoolYear, int institutionId, System.Collections.Generic.IEnumerable<int> classIds)
        {
            return ClassBooksCreateClassBooksAsync(schoolYear, institutionId, classIds, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нови дневници
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classIds">Идентификатори на паралелките/групите (ClassGroup.ClassID), за които се създават дневниците.
        /// <br/>Групите (ClassGroup) трябва да са създадени предварително в списък образец 1/2/3 и техните ClassID-та
        /// <br/>се взимат от апито за данни за списък образец за ел. дневници (getcbdata).
        /// <br/>            
        /// <br/>Нивото на ClassGroup, за което се създава дневник е:
        /// <br/> - Parent ниво (ParentClassId == null), ако паралелката/групата не е слята (IsCombined == false)
        /// <br/> - По избор (parent или child), ако паралелката/групата е слята (IsCombined == true). По-често срещано
        /// <br/>   е да се създаде дневника на parent ниво, т.е. да е един общ за всички подгрупи.</param>
        /// <returns>Връща идентификаторите на новосъздадените дневници, в реда на подадените classIds.</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<int>> ClassBooksCreateClassBooksAsync(int schoolYear, int institutionId, System.Collections.Generic.IEnumerable<int> classIds, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classIds == null)
                throw new System.ArgumentNullException("classIds");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/createClassBooks");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(classIds, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<int>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksDeleteAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksDeleteAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksDeleteAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Приключва дневник
        /// </summary>
        /// <remarks>
        /// SignedClassBookPrintFile трябва да е PDF подписан с КЕП на директора.
        /// <br/>            
        /// <br/>Съдържанието на PDF-a се проверява единствено за наличието на валиден подпис.
        /// </remarks>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksFinalizeAsync(int schoolYear, int institutionId, int classBookId, FileParameter signedClassBookPrintFile)
        {
            return ClassBooksFinalizeAsync(schoolYear, institutionId, classBookId, signedClassBookPrintFile, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Приключва дневник
        /// </summary>
        /// <remarks>
        /// SignedClassBookPrintFile трябва да е PDF подписан с КЕП на директора.
        /// <br/>            
        /// <br/>Съдържанието на PDF-a се проверява единствено за наличието на валиден подпис.
        /// </remarks>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksFinalizeAsync(int schoolYear, int institutionId, int classBookId, FileParameter signedClassBookPrintFile, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/finalize");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var boundary_ = System.Guid.NewGuid().ToString();
                    var content_ = new System.Net.Http.MultipartFormDataContent(boundary_);
                    content_.Headers.Remove("Content-Type");
                    content_.Headers.TryAddWithoutValidation("Content-Type", "multipart/form-data; boundary=" + boundary_);

                    if (signedClassBookPrintFile != null)
                    {
                        var content_signedClassBookPrintFile_ = new System.Net.Http.StreamContent(signedClassBookPrintFile.Data);
                        if (!string.IsNullOrEmpty(signedClassBookPrintFile.ContentType))
                            content_signedClassBookPrintFile_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse(signedClassBookPrintFile.ContentType);
                        content_.Add(content_signedClassBookPrintFile_, "SignedClassBookPrintFile", signedClassBookPrintFile.FileName ?? "SignedClassBookPrintFile");
                    }
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Премахва приключването на дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ClassBooksUnfinalizeAsync(int schoolYear, int institutionId, int classBookId)
        {
            return ClassBooksUnfinalizeAsync(schoolYear, institutionId, classBookId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Премахва приключването на дневник
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="classBookId">Идентификатор на дневника</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ClassBooksUnfinalizeAsync(int schoolYear, int institutionId, int classBookId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookId == null)
                throw new System.ArgumentNullException("classBookId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/{classBookId}/unfinalize");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{classBookId}", System.Uri.EscapeDataString(ConvertToString(classBookId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Content = new System.Net.Http.StringContent(string.Empty, System.Text.Encoding.UTF8, "application/json");
                    request_.Method = new System.Net.Http.HttpMethod("POST");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нов дневник на Parent ниво и маркира дневниците на подгрупите му от Child ниво като невалидни (IsValid=0)
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <returns>Връща идентификатора (classBookId) на новосъздадения дневник</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ClassBooksCombineClassBooksAsync(int schoolYear, int institutionId, ClassBookCombineDO classBookCombine)
        {
            return ClassBooksCombineClassBooksAsync(schoolYear, institutionId, classBookCombine, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нов дневник на Parent ниво и маркира дневниците на подгрупите му от Child ниво като невалидни (IsValid=0)
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <returns>Връща идентификатора (classBookId) на новосъздадения дневник</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ClassBooksCombineClassBooksAsync(int schoolYear, int institutionId, ClassBookCombineDO classBookCombine, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookCombine == null)
                throw new System.ArgumentNullException("classBookCombine");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/combineClassBooks");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(classBookCombine, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Маркира дневник на Parent ниво като невалиден (IsValid=0) и създава нови дневници на подгрупите му на Child ниво
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <returns>Връща идентификаторите (classBookIds) на новосъздадените дневници</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<int>> ClassBooksSeparateClassBooksAsync(int schoolYear, int institutionId, ClassBookSeparateDO classBookSeparate)
        {
            return ClassBooksSeparateClassBooksAsync(schoolYear, institutionId, classBookSeparate, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Маркира дневник на Parent ниво като невалиден (IsValid=0) и създава нови дневници на подгрупите му на Child ниво
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <returns>Връща идентификаторите (classBookIds) на новосъздадените дневници</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<int>> ClassBooksSeparateClassBooksAsync(int schoolYear, int institutionId, ClassBookSeparateDO classBookSeparate, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (classBookSeparate == null)
                throw new System.ArgumentNullException("classBookSeparate");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/classBooks/separateClassBooks");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(classBookSeparate, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<int>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички неучебни периоди за дадена институция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<OffDayDO>> OffDaysGetAsync(int schoolYear, int institutionId)
        {
            return OffDaysGetAsync(schoolYear, institutionId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички неучебни периоди за дадена институция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<OffDayDO>> OffDaysGetAsync(int schoolYear, int institutionId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/offDays");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<OffDayDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нов неучебен период
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> OffDaysPostAsync(int schoolYear, int institutionId, OffDayDO offDay)
        {
            return OffDaysPostAsync(schoolYear, institutionId, offDay, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нов неучебен период
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> OffDaysPostAsync(int schoolYear, int institutionId, OffDayDO offDay, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (offDay == null)
                throw new System.ArgumentNullException("offDay");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/offDays");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(offDay, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява неучебен период
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="offDayId">Идентификатор на неучебния период</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task OffDaysPutAsync(int schoolYear, int institutionId, int offDayId, OffDayDO offDay)
        {
            return OffDaysPutAsync(schoolYear, institutionId, offDayId, offDay, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява неучебен период
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="offDayId">Идентификатор на неучебния период</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task OffDaysPutAsync(int schoolYear, int institutionId, int offDayId, OffDayDO offDay, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (offDayId == null)
                throw new System.ArgumentNullException("offDayId");

            if (offDay == null)
                throw new System.ArgumentNullException("offDay");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/offDays/{offDayId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{offDayId}", System.Uri.EscapeDataString(ConvertToString(offDayId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(offDay, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива неучебен период
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="offDayId">Идентификатор на неучебния период</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task OffDaysDeleteAsync(int schoolYear, int institutionId, int offDayId)
        {
            return OffDaysDeleteAsync(schoolYear, institutionId, offDayId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива неучебен период
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="offDayId">Идентификатор на неучебния период</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task OffDaysDeleteAsync(int schoolYear, int institutionId, int offDayId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (offDayId == null)
                throw new System.ArgumentNullException("offDayId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/offDays/{offDayId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{offDayId}", System.Uri.EscapeDataString(ConvertToString(offDayId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички настройки на учебната година за дадена институция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<SchoolYearDateInfoDO>> SchoolYearDateInfosGetAsync(int schoolYear, int institutionId)
        {
            return SchoolYearDateInfosGetAsync(schoolYear, institutionId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички настройки на учебната година за дадена институция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<SchoolYearDateInfoDO>> SchoolYearDateInfosGetAsync(int schoolYear, int institutionId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/schoolYearDateInfos");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<SchoolYearDateInfoDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нови настройки на учебната година
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> SchoolYearDateInfosPostAsync(int schoolYear, int institutionId, SchoolYearDateInfoDO schoolYearDateInfo)
        {
            return SchoolYearDateInfosPostAsync(schoolYear, institutionId, schoolYearDateInfo, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нови настройки на учебната година
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> SchoolYearDateInfosPostAsync(int schoolYear, int institutionId, SchoolYearDateInfoDO schoolYearDateInfo, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (schoolYearDateInfo == null)
                throw new System.ArgumentNullException("schoolYearDateInfo");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/schoolYearDateInfos");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(schoolYearDateInfo, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява настройки на учебната година
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="schoolYearDateInfoId">Идентификатор на настройките на учебната година</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task SchoolYearDateInfosPutAsync(int schoolYear, int institutionId, int schoolYearDateInfoId, SchoolYearDateInfoDO schoolYearDateInfo)
        {
            return SchoolYearDateInfosPutAsync(schoolYear, institutionId, schoolYearDateInfoId, schoolYearDateInfo, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява настройки на учебната година
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="schoolYearDateInfoId">Идентификатор на настройките на учебната година</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task SchoolYearDateInfosPutAsync(int schoolYear, int institutionId, int schoolYearDateInfoId, SchoolYearDateInfoDO schoolYearDateInfo, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (schoolYearDateInfoId == null)
                throw new System.ArgumentNullException("schoolYearDateInfoId");

            if (schoolYearDateInfo == null)
                throw new System.ArgumentNullException("schoolYearDateInfo");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/schoolYearDateInfos/{schoolYearDateInfoId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{schoolYearDateInfoId}", System.Uri.EscapeDataString(ConvertToString(schoolYearDateInfoId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(schoolYearDateInfo, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива настройки на учебната година
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="schoolYearDateInfoId">Идентификатор на настройките на учебната година</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task SchoolYearDateInfosDeleteAsync(int schoolYear, int institutionId, int schoolYearDateInfoId)
        {
            return SchoolYearDateInfosDeleteAsync(schoolYear, institutionId, schoolYearDateInfoId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива настройки на учебната година
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="schoolYearDateInfoId">Идентификатор на настройките на учебната година</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task SchoolYearDateInfosDeleteAsync(int schoolYear, int institutionId, int schoolYearDateInfoId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (schoolYearDateInfoId == null)
                throw new System.ArgumentNullException("schoolYearDateInfoId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/schoolYearDateInfos/{schoolYearDateInfoId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{schoolYearDateInfoId}", System.Uri.EscapeDataString(ConvertToString(schoolYearDateInfoId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички смени за дадена институция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<ShiftDO>> ShiftsGetAsync(int schoolYear, int institutionId)
        {
            return ShiftsGetAsync(schoolYear, institutionId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички смени за дадена институция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<ShiftDO>> ShiftsGetAsync(int schoolYear, int institutionId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/shifts");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<ShiftDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава нова смяна
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> ShiftsPostAsync(int schoolYear, int institutionId, ShiftDO shift)
        {
            return ShiftsPostAsync(schoolYear, institutionId, shift, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава нова смяна
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> ShiftsPostAsync(int schoolYear, int institutionId, ShiftDO shift, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (shift == null)
                throw new System.ArgumentNullException("shift");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/shifts");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(shift, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява смяна
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="shiftId">Идентификатор на смяната</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ShiftsPutAsync(int schoolYear, int institutionId, int shiftId, ShiftDO shift)
        {
            return ShiftsPutAsync(schoolYear, institutionId, shiftId, shift, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява смяна
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="shiftId">Идентификатор на смяната</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ShiftsPutAsync(int schoolYear, int institutionId, int shiftId, ShiftDO shift, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (shiftId == null)
                throw new System.ArgumentNullException("shiftId");

            if (shift == null)
                throw new System.ArgumentNullException("shift");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/shifts/{shiftId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{shiftId}", System.Uri.EscapeDataString(ConvertToString(shiftId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(shift, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива смяна
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="shiftId">Идентификатор на смяната</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task ShiftsDeleteAsync(int schoolYear, int institutionId, int shiftId)
        {
            return ShiftsDeleteAsync(schoolYear, institutionId, shiftId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива смяна
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="shiftId">Идентификатор на смяната</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task ShiftsDeleteAsync(int schoolYear, int institutionId, int shiftId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (shiftId == null)
                throw new System.ArgumentNullException("shiftId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/shifts/{shiftId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{shiftId}", System.Uri.EscapeDataString(ConvertToString(shiftId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Връща всички учителски отсъствия за дадена институция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<System.Collections.Generic.ICollection<TeacherAbsenceDO>> TeacherAbsencesGetAsync(int schoolYear, int institutionId)
        {
            return TeacherAbsencesGetAsync(schoolYear, institutionId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Връща всички учителски отсъствия за дадена институция
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<System.Collections.Generic.ICollection<TeacherAbsenceDO>> TeacherAbsencesGetAsync(int schoolYear, int institutionId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/teacherAbsences");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("GET");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<System.Collections.Generic.ICollection<TeacherAbsenceDO>>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Създава ново учителско отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task<int> TeacherAbsencesPostAsync(int schoolYear, int institutionId, TeacherAbsenceDO teacherAbsence)
        {
            return TeacherAbsencesPostAsync(schoolYear, institutionId, teacherAbsence, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Създава ново учителско отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <returns>Връща идентификатора на новосъздадения обект</returns>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task<int> TeacherAbsencesPostAsync(int schoolYear, int institutionId, TeacherAbsenceDO teacherAbsence, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (teacherAbsence == null)
                throw new System.ArgumentNullException("teacherAbsence");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/teacherAbsences");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(teacherAbsence, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("POST");
                    request_.Headers.Accept.Add(System.Net.Http.Headers.MediaTypeWithQualityHeaderValue.Parse("application/json"));

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<int>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            return objectResponse_.Object;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Обновява учителско отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="teacherAbsenceId">Идентификатор на учителското отсъствие</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task TeacherAbsencesPutAsync(int schoolYear, int institutionId, int teacherAbsenceId, TeacherAbsenceDO teacherAbsence)
        {
            return TeacherAbsencesPutAsync(schoolYear, institutionId, teacherAbsenceId, teacherAbsence, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Обновява учителско отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="teacherAbsenceId">Идентификатор на учителското отсъствие</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task TeacherAbsencesPutAsync(int schoolYear, int institutionId, int teacherAbsenceId, TeacherAbsenceDO teacherAbsence, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (teacherAbsenceId == null)
                throw new System.ArgumentNullException("teacherAbsenceId");

            if (teacherAbsence == null)
                throw new System.ArgumentNullException("teacherAbsence");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/teacherAbsences/{teacherAbsenceId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{teacherAbsenceId}", System.Uri.EscapeDataString(ConvertToString(teacherAbsenceId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    var json_ = Newtonsoft.Json.JsonConvert.SerializeObject(teacherAbsence, _settings.Value);
                    var content_ = new System.Net.Http.StringContent(json_);
                    content_.Headers.ContentType = System.Net.Http.Headers.MediaTypeHeaderValue.Parse("application/json");
                    request_.Content = content_;
                    request_.Method = new System.Net.Http.HttpMethod("PUT");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        /// <summary>
        /// Изтрива учителско отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="teacherAbsenceId">Идентификатор на учителското отсъствие</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual System.Threading.Tasks.Task TeacherAbsencesDeleteAsync(int schoolYear, int institutionId, int teacherAbsenceId)
        {
            return TeacherAbsencesDeleteAsync(schoolYear, institutionId, teacherAbsenceId, System.Threading.CancellationToken.None);
        }

        /// <param name="cancellationToken">A cancellation token that can be used by other objects or threads to receive notice of cancellation.</param>
        /// <summary>
        /// Изтрива учителско отсъствие
        /// </summary>
        /// <param name="schoolYear">Учебна година</param>
        /// <param name="institutionId">Идентификатор на институцията</param>
        /// <param name="teacherAbsenceId">Идентификатор на учителското отсъствие</param>
        /// <exception cref="ApiException">A server side error occurred.</exception>
        public virtual async System.Threading.Tasks.Task TeacherAbsencesDeleteAsync(int schoolYear, int institutionId, int teacherAbsenceId, System.Threading.CancellationToken cancellationToken)
        {
            if (schoolYear == null)
                throw new System.ArgumentNullException("schoolYear");

            if (institutionId == null)
                throw new System.ArgumentNullException("institutionId");

            if (teacherAbsenceId == null)
                throw new System.ArgumentNullException("teacherAbsenceId");

            var urlBuilder_ = new System.Text.StringBuilder();
            urlBuilder_.Append(BaseUrl != null ? BaseUrl.TrimEnd('/') : "").Append("/{schoolYear}/{institutionId}/teacherAbsences/{teacherAbsenceId}");
            urlBuilder_.Replace("{schoolYear}", System.Uri.EscapeDataString(ConvertToString(schoolYear, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{institutionId}", System.Uri.EscapeDataString(ConvertToString(institutionId, System.Globalization.CultureInfo.InvariantCulture)));
            urlBuilder_.Replace("{teacherAbsenceId}", System.Uri.EscapeDataString(ConvertToString(teacherAbsenceId, System.Globalization.CultureInfo.InvariantCulture)));

            var client_ = _httpClient;
            var disposeClient_ = false;
            try
            {
                using (var request_ = new System.Net.Http.HttpRequestMessage())
                {
                    request_.Method = new System.Net.Http.HttpMethod("DELETE");

                    PrepareRequest(client_, request_, urlBuilder_);

                    var url_ = urlBuilder_.ToString();
                    request_.RequestUri = new System.Uri(url_, System.UriKind.RelativeOrAbsolute);

                    PrepareRequest(client_, request_, url_);

                    var response_ = await client_.SendAsync(request_, System.Net.Http.HttpCompletionOption.ResponseHeadersRead, cancellationToken).ConfigureAwait(false);
                    var disposeResponse_ = true;
                    try
                    {
                        var headers_ = System.Linq.Enumerable.ToDictionary(response_.Headers, h_ => h_.Key, h_ => h_.Value);
                        if (response_.Content != null && response_.Content.Headers != null)
                        {
                            foreach (var item_ in response_.Content.Headers)
                                headers_[item_.Key] = item_.Value;
                        }

                        ProcessResponse(client_, response_);

                        var status_ = (int)response_.StatusCode;
                        if (status_ == 200)
                        {
                            return;
                        }
                        else
                        if (status_ == 400)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 409)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        if (status_ == 508)
                        {
                            var objectResponse_ = await ReadObjectResponseAsync<ValidationErrorResponse>(response_, headers_, cancellationToken).ConfigureAwait(false);
                            if (objectResponse_.Object == null)
                            {
                                throw new ApiException("Response was null which was not expected.", status_, objectResponse_.Text, headers_, null);
                            }
                            throw new ApiException<ValidationErrorResponse>("A server side error occurred.", status_, objectResponse_.Text, headers_, objectResponse_.Object, null);
                        }
                        else
                        {
                            var responseData_ = response_.Content == null ? null : await response_.Content.ReadAsStringAsync().ConfigureAwait(false);
                            throw new ApiException("The HTTP status code of the response was not expected (" + status_ + ").", status_, responseData_, headers_, null);
                        }
                    }
                    finally
                    {
                        if (disposeResponse_)
                            response_.Dispose();
                    }
                }
            }
            finally
            {
                if (disposeClient_)
                    client_.Dispose();
            }
        }

        protected struct ObjectResponseResult<T>
        {
            public ObjectResponseResult(T responseObject, string responseText)
            {
                this.Object = responseObject;
                this.Text = responseText;
            }

            public T Object { get; }

            public string Text { get; }
        }

        public bool ReadResponseAsString { get; set; }

        protected virtual async System.Threading.Tasks.Task<ObjectResponseResult<T>> ReadObjectResponseAsync<T>(System.Net.Http.HttpResponseMessage response, System.Collections.Generic.IReadOnlyDictionary<string, System.Collections.Generic.IEnumerable<string>> headers, System.Threading.CancellationToken cancellationToken)
        {
            if (response == null || response.Content == null)
            {
                return new ObjectResponseResult<T>(default(T), string.Empty);
            }

            if (ReadResponseAsString)
            {
                var responseText = await response.Content.ReadAsStringAsync().ConfigureAwait(false);
                try
                {
                    var typedBody = Newtonsoft.Json.JsonConvert.DeserializeObject<T>(responseText, JsonSerializerSettings);
                    return new ObjectResponseResult<T>(typedBody, responseText);
                }
                catch (Newtonsoft.Json.JsonException exception)
                {
                    var message = "Could not deserialize the response body string as " + typeof(T).FullName + ".";
                    throw new ApiException(message, (int)response.StatusCode, responseText, headers, exception);
                }
            }
            else
            {
                try
                {
                    using (var responseStream = await response.Content.ReadAsStreamAsync().ConfigureAwait(false))
                    using (var streamReader = new System.IO.StreamReader(responseStream))
                    using (var jsonTextReader = new Newtonsoft.Json.JsonTextReader(streamReader))
                    {
                        var serializer = Newtonsoft.Json.JsonSerializer.Create(JsonSerializerSettings);
                        var typedBody = serializer.Deserialize<T>(jsonTextReader);
                        return new ObjectResponseResult<T>(typedBody, string.Empty);
                    }
                }
                catch (Newtonsoft.Json.JsonException exception)
                {
                    var message = "Could not deserialize the response body stream as " + typeof(T).FullName + ".";
                    throw new ApiException(message, (int)response.StatusCode, string.Empty, headers, exception);
                }
            }
        }

        private string ConvertToString(object value, System.Globalization.CultureInfo cultureInfo)
        {
            if (value == null)
            {
                return "";
            }

            if (value is System.Enum)
            {
                var name = System.Enum.GetName(value.GetType(), value);
                if (name != null)
                {
                    var field = System.Reflection.IntrospectionExtensions.GetTypeInfo(value.GetType()).GetDeclaredField(name);
                    if (field != null)
                    {
                        var attribute = System.Reflection.CustomAttributeExtensions.GetCustomAttribute(field, typeof(System.Runtime.Serialization.EnumMemberAttribute)) 
                            as System.Runtime.Serialization.EnumMemberAttribute;
                        if (attribute != null)
                        {
                            return attribute.Value != null ? attribute.Value : name;
                        }
                    }

                    var converted = System.Convert.ToString(System.Convert.ChangeType(value, System.Enum.GetUnderlyingType(value.GetType()), cultureInfo));
                    return converted == null ? string.Empty : converted;
                }
            }
            else if (value is bool) 
            {
                return System.Convert.ToString((bool)value, cultureInfo).ToLowerInvariant();
            }
            else if (value is byte[])
            {
                return System.Convert.ToBase64String((byte[]) value);
            }
            else if (value.GetType().IsArray)
            {
                var array = System.Linq.Enumerable.OfType<object>((System.Array) value);
                return string.Join(",", System.Linq.Enumerable.Select(array, o => ConvertToString(o, cultureInfo)));
            }

            var result = System.Convert.ToString(value, cultureInfo);
            return result == null ? "" : result;
        }
    }

    /// <summary>
    /// Отсъствие
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class AbsenceDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("absenceId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? AbsenceId { get; set; }

        /// <summary>
        /// Да не се използва, ще бъде премахнато в бъдеще.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? ClassId { get; set; }

        /// <summary>
        /// Уникален идентификатор на лицето за системата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Always)]
        public int PersonId { get; set; }

        /// <summary>
        /// Идентификатор на предмет от учебния план
        /// </summary>
        [Newtonsoft.Json.JsonProperty("curriculumId", Required = Newtonsoft.Json.Required.Always)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int CurriculumId { get; set; }

        /// <summary>
        /// Дата на отсъствието
        /// </summary>
        [Newtonsoft.Json.JsonProperty("date", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset Date { get; set; }

        /// <summary>
        /// Вид на отсъствието
        /// </summary>
        [Newtonsoft.Json.JsonProperty("type", Required = Newtonsoft.Json.Required.Always)]
        public AbsenceType Type { get; set; }

        /// <summary>
        /// Причини за отсъствието
        /// </summary>
        [Newtonsoft.Json.JsonProperty("excusedReason", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ExcusedReason { get; set; }

        /// <summary>
        /// Причини за отсъствието - забележка
        /// </summary>
        [Newtonsoft.Json.JsonProperty("excusedReasonComment", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        public string ExcusedReasonComment { get; set; }

        /// <summary>
        /// Идентификатор на часа от учебното разписание
        /// </summary>
        [Newtonsoft.Json.JsonProperty("scheduleLessonId", Required = Newtonsoft.Json.Required.Always)]
        public int ScheduleLessonId { get; set; }

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public enum AbsenceType
    {

        Late = 1,

        Unexcused = 2,

        Excused = 3,

        DplrAbsence = 4,

        DplrAttendance = 5,

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ValidationErrorResponse
    {
        [Newtonsoft.Json.JsonProperty("errors", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<string> Errors { get; set; } = new System.Collections.ObjectModel.Collection<string>();

        [Newtonsoft.Json.JsonProperty("errorMessages", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<string> ErrorMessages { get; set; } = new System.Collections.ObjectModel.Collection<string>();

        [Newtonsoft.Json.JsonProperty("sysErrorMessage", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public string SysErrorMessage { get; set; }

    }

    /// <summary>
    /// Причини за отсъствието
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ExcusedReasonDO
    {
        /// <summary>
        /// Причини за отсъствието
        /// </summary>
        [Newtonsoft.Json.JsonProperty("excusedReason", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ExcusedReason { get; set; }

        /// <summary>
        /// Причини за отсъствието - забележка
        /// </summary>
        [Newtonsoft.Json.JsonProperty("excusedReasonComment", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        public string ExcusedReasonComment { get; set; }

    }

    /// <summary>
    /// Допълнителна дейност
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class AdditionalActivityDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("additionalActivityId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? AdditionalActivityId { get; set; }

        /// <summary>
        /// Година на седмицата по ISO 8601
        /// </summary>
        [Newtonsoft.Json.JsonProperty("year", Required = Newtonsoft.Json.Required.Always)]
        public int Year { get; set; }

        /// <summary>
        /// Номер на седмицата по ISO 8601. Число от 1 до 53.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("weekNumber", Required = Newtonsoft.Json.Required.Always)]
        public int WeekNumber { get; set; }

        /// <summary>
        /// Тема
        /// </summary>
        [Newtonsoft.Json.JsonProperty("activity", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string Activity { get; set; }

    }

    /// <summary>
    /// Присъствие
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class AttendanceDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("attendanceId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? AttendanceId { get; set; }

        /// <summary>
        /// Да не се използва, ще бъде премахнато в бъдеще.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? ClassId { get; set; }

        /// <summary>
        /// Уникален идентификатор на лицето за системата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Always)]
        public int PersonId { get; set; }

        /// <summary>
        /// Дата на отсъствието
        /// </summary>
        [Newtonsoft.Json.JsonProperty("date", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset Date { get; set; }

        /// <summary>
        /// Вид на отсъствието
        /// </summary>
        [Newtonsoft.Json.JsonProperty("type", Required = Newtonsoft.Json.Required.Always)]
        public AttendanceType Type { get; set; }

        /// <summary>
        /// Причини за отсъствието
        /// </summary>
        [Newtonsoft.Json.JsonProperty("excusedReason", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ExcusedReason { get; set; }

        /// <summary>
        /// Причини за отсъствието - забележка
        /// </summary>
        [Newtonsoft.Json.JsonProperty("excusedReasonComment", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        public string ExcusedReasonComment { get; set; }

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public enum AttendanceType
    {

        Presence = 1,

        UnexcusedAbsence = 2,

        ExcusedAbsence = 3,

    }

    /// <summary>
    /// Класна/контролна работа
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ExamDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("examId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ExamId { get; set; }

        /// <summary>
        /// Вид на класната/контролната работа
        /// </summary>
        [Newtonsoft.Json.JsonProperty("type", Required = Newtonsoft.Json.Required.Always)]
        public BookExamType Type { get; set; }

        /// <summary>
        /// Идентификатор на предмет от учебния план
        /// </summary>
        [Newtonsoft.Json.JsonProperty("curriculumId", Required = Newtonsoft.Json.Required.Always)]
        public int CurriculumId { get; set; }

        /// <summary>
        /// Дата на класната/контролната работа
        /// </summary>
        [Newtonsoft.Json.JsonProperty("date", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset Date { get; set; }

        /// <summary>
        /// Описание
        /// </summary>
        [Newtonsoft.Json.JsonProperty("description", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        public string Description { get; set; }

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public enum BookExamType
    {

        ControlExam = 1,

        ClassExam = 2,

    }

    /// <summary>
    /// Общ годишен успех за първи клас
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class FirstGradeResultDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("firstGradeResultId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? FirstGradeResultId { get; set; }

        /// <summary>
        /// Да не се използва, ще бъде премахнато в бъдеще.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? ClassId { get; set; }

        /// <summary>
        /// Уникален идентификатор на лицето за системата.
        /// <br/>Не се използва при update.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Always)]
        public int PersonId { get; set; }

        /// <summary>
        /// Качествена оценка
        /// </summary>
        [Newtonsoft.Json.JsonProperty("qualitativeGrade", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public QualitativeGrade? QualitativeGrade { get; set; }

        /// <summary>
        /// СОП оценка
        /// </summary>
        [Newtonsoft.Json.JsonProperty("specialGrade", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public SpecialNeedsGrade? SpecialGrade { get; set; }

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public enum QualitativeGrade
    {

        Poor = 2,

        Fair = 3,

        Good = 4,

        VeryGood = 5,

        Excellent = 6,

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public enum SpecialNeedsGrade
    {

        HasDificulty = 1,

        DoingOk = 2,

        MeetsExpectations = 3,

    }

    /// <summary>
    /// Годишен резултат
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class GradeResultDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("gradeResultId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? GradeResultId { get; set; }

        /// <summary>
        /// Да не се използва, ще бъде премахнато в бъдеще.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? ClassId { get; set; }

        /// <summary>
        /// Уникален идентификатор на лицето за системата.
        /// <br/>Не се използва при update.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Always)]
        public int PersonId { get; set; }

        /// <summary>
        /// Годишен резултат
        /// </summary>
        [Newtonsoft.Json.JsonProperty("initialResultType", Required = Newtonsoft.Json.Required.Always)]
        public GradeResultType InitialResultType { get; set; }

        /// <summary>
        /// Поправителни сесии по предмети. Попълва се само ако годишния резултат е "Полага изпити".
        /// </summary>
        [Newtonsoft.Json.JsonProperty("retakeExamCurriculums", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<GradeResultCurriculumDO> RetakeExamCurriculums { get; set; } = new System.Collections.ObjectModel.Collection<GradeResultCurriculumDO>();

        /// <summary>
        /// Годишен резултат след сесиите. Попълва се само ако годишния резултат е "Полага изпити".
        /// </summary>
        [Newtonsoft.Json.JsonProperty("finalResultType", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public GradeResultType? FinalResultType { get; set; }

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public enum GradeResultType
    {

        CompletesGrade = 1,

        MustRetakeExams = 2,

        RepeatsGrade = 3,

    }

    /// <summary>
    /// Поправителни сесии по предмет
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class GradeResultCurriculumDO
    {
        /// <summary>
        /// Идентификатор на предмет от учебния план
        /// </summary>
        [Newtonsoft.Json.JsonProperty("curriculumId", Required = Newtonsoft.Json.Required.Always)]
        public int CurriculumId { get; set; }

        /// <summary>
        /// Оценка от 1ва сесия. Цяло число от 2 до 6.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("session1Grade", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? Session1Grade { get; set; }

        /// <summary>
        /// Неявил се на 1ва сесия
        /// </summary>
        [Newtonsoft.Json.JsonProperty("session1NoShow", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public bool? Session1NoShow { get; set; }

        /// <summary>
        /// Оценка от 2ра сесия. Цяло число от 2 до 6.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("session2Grade", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? Session2Grade { get; set; }

        /// <summary>
        /// Неявил се на 2ра сесия
        /// </summary>
        [Newtonsoft.Json.JsonProperty("session2NoShow", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public bool? Session2NoShow { get; set; }

        /// <summary>
        /// Оценка от допълнителна сесия. Цяло число от 2 до 6.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("session3Grade", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? Session3Grade { get; set; }

        /// <summary>
        /// Неявил се на допълнителна сесия
        /// </summary>
        [Newtonsoft.Json.JsonProperty("session3NoShow", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public bool? Session3NoShow { get; set; }

    }

    /// <summary>
    /// Оценка
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class GradeDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("gradeId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? GradeId { get; set; }

        /// <summary>
        /// Да не се използва, ще бъде премахнато в бъдеще.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? ClassId { get; set; }

        /// <summary>
        /// Уникален идентификатор на лицето за системата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Always)]
        public int PersonId { get; set; }

        /// <summary>
        /// Идентификатор на предмет от учебния план. При попълнено поле ScheduleLessonId, CurriculumId не е задължително.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("curriculumId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? CurriculumId { get; set; }

        /// <summary>
        /// Дата на оценката
        /// </summary>
        [Newtonsoft.Json.JsonProperty("date", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset Date { get; set; }

        /// <summary>
        /// Категория на оценката
        /// </summary>
        [Newtonsoft.Json.JsonProperty("category", Required = Newtonsoft.Json.Required.Always)]
        public GradeCategory Category { get; set; }

        /// <summary>
        /// Вид на оценката
        /// </summary>
        [Newtonsoft.Json.JsonProperty("type", Required = Newtonsoft.Json.Required.Always)]
        public GradeType Type { get; set; }

        /// <summary>
        /// Количествена оценка с точно два знака след десетичната запетая. Задължително за категория на оценката "Количествена".
        /// </summary>
        [Newtonsoft.Json.JsonProperty("decimalGrade", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public decimal? DecimalGrade { get; set; }

        /// <summary>
        /// Качествена оценка. Задължително за категория на оценката "Качествена".
        /// </summary>
        [Newtonsoft.Json.JsonProperty("qualitativeGrade", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public QualitativeGrade? QualitativeGrade { get; set; }

        /// <summary>
        /// СОП оценка. Задължително за категория на оценката "СОП".
        /// </summary>
        [Newtonsoft.Json.JsonProperty("specialGrade", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public SpecialNeedsGrade? SpecialGrade { get; set; }

        /// <summary>
        /// Коментар за оценката. Коментара е видим и за родителите/учениците!
        /// </summary>
        [Newtonsoft.Json.JsonProperty("comment", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        public string Comment { get; set; }

        /// <summary>
        /// Идентификатор на часа от учебното разписание.
        /// <br/>Задължителен за всички оценки освен тези с вид на оценката - Term(21)/Final(22)/OtherClass(98)/OtherSchool(99),
        /// <br/>за които това поле се игнорира.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("scheduleLessonId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ScheduleLessonId { get; set; }

        /// <summary>
        /// Учебен срок.
        /// <br/>При създаване опционално може да се посочи за кой учебен срок е оценката.
        /// <br/>Използва се само за вид на оценката - Term(21)/OtherClass(98)/OtherSchool(99),
        /// <br/>за останалите видове оценки това поле се игнорира.
        /// <br/>Ако не е попълнено, се взима учебния срок на датата на оценката.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("term", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public SchoolTerm? Term { get; set; }

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public enum GradeCategory
    {

        Decimal = 1,

        SpecialNeeds = 2,

        Qualitative = 3,

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public enum GradeType
    {

        General = 1,

        ControlExam = 2,

        ClassExam = 3,

        Test = 4,

        Homework = 5,

        EntryLevel = 11,

        ExitLevel = 12,

        Term = 21,

        Final = 22,

        OtherClass = 98,

        OtherSchool = 99,

        OtherClassTerm = 100,

        OtherSchoolTerm = 101,

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public enum SchoolTerm
    {

        TermOne = 1,

        TermTwo = 2,

    }

    /// <summary>
    /// Индивидуална работа
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class IndividualWorkDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("individualWorkId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? IndividualWorkId { get; set; }

        /// <summary>
        /// Да не се използва, ще бъде премахнато в бъдеще.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? ClassId { get; set; }

        /// <summary>
        /// Уникален идентификатор на лицето за системата.
        /// <br/>Не се използва при update.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Always)]
        public int PersonId { get; set; }

        /// <summary>
        /// Дата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("date", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset Date { get; set; }

        /// <summary>
        /// Проведена индивидуална работа с ученика
        /// </summary>
        [Newtonsoft.Json.JsonProperty("individualWorkActivity", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string IndividualWorkActivity { get; set; }

    }

    /// <summary>
    /// Бележка
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class NoteDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("noteId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? NoteId { get; set; }

        /// <summary>
        /// Описание
        /// </summary>
        [Newtonsoft.Json.JsonProperty("description", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string Description { get; set; }

        /// <summary>
        /// Бележката важи за всички ученици от групата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("isForAllStudents", Required = Newtonsoft.Json.Required.Always)]
        public bool IsForAllStudents { get; set; }

        /// <summary>
        /// Ученици, за които е бележката (PersonId-та на ученици). Попълва се ако "IsForAllStudents = false"
        /// </summary>
        [Newtonsoft.Json.JsonProperty("studentIds", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.Collections.Generic.ICollection<int> StudentIds { get; set; }

        /// <summary>
        /// Вместо този атрибут да се използва StudentIds !!!
        /// <br/>Оставено е за backwards compatibility. Да не се използва, ще бъде премахнато в бъдеще.
        /// <br/>Ученици, за които е бележката. Попълва се ако "IsForAllStudents = false"
        /// </summary>
        [Newtonsoft.Json.JsonProperty("students", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public System.Collections.Generic.ICollection<NoteStudentDO> Students { get; set; }

    }

    /// <summary>
    /// Ученик
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
    public partial class NoteStudentDO
    {
        /// <summary>
        /// Да не се използва, ще бъде премахнато в бъдеще.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? ClassId { get; set; }

        /// <summary>
        /// Уникален идентификатор на лицето за системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Always)]
        public int PersonId { get; set; }

    }

    /// <summary>
    /// Родителска среща
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ParentMeetingDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("parentMeetingId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ParentMeetingId { get; set; }

        /// <summary>
        /// Дата на родителската среща
        /// </summary>
        [Newtonsoft.Json.JsonProperty("date", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset Date { get; set; }

        /// <summary>
        /// Начален час във формат "ЧЧ:ММ"
        /// </summary>
        [Newtonsoft.Json.JsonProperty("startTime", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public string StartTime { get; set; }

        /// <summary>
        /// Място
        /// </summary>
        [Newtonsoft.Json.JsonProperty("location", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(100)]
        public string Location { get; set; }

        /// <summary>
        /// Тема
        /// </summary>
        [Newtonsoft.Json.JsonProperty("title", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(100)]
        public string Title { get; set; }

        /// <summary>
        /// Описание
        /// </summary>
        [Newtonsoft.Json.JsonProperty("description", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        public string Description { get; set; }

    }

    /// <summary>
    /// Изява
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class PerformanceDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("performanceId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? PerformanceId { get; set; }

        /// <summary>
        /// Вид на изявата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("performanceTypeId", Required = Newtonsoft.Json.Required.Always)]
        public int PerformanceTypeId { get; set; }

        /// <summary>
        /// Наименование
        /// </summary>
        [Newtonsoft.Json.JsonProperty("name", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(100)]
        public string Name { get; set; }

        /// <summary>
        /// Период на провеждане от
        /// </summary>
        [Newtonsoft.Json.JsonProperty("startDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset StartDate { get; set; }

        /// <summary>
        /// Период на провеждане до
        /// </summary>
        [Newtonsoft.Json.JsonProperty("endDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset EndDate { get; set; }

        /// <summary>
        /// Описание
        /// </summary>
        [Newtonsoft.Json.JsonProperty("description", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string Description { get; set; }

        /// <summary>
        /// Място на провеждане
        /// </summary>
        [Newtonsoft.Json.JsonProperty("location", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(100)]
        public string Location { get; set; }

        /// <summary>
        /// Получени награди от учениците
        /// </summary>
        [Newtonsoft.Json.JsonProperty("studentAwards", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string StudentAwards { get; set; }

    }

    /// <summary>
    /// Резултат от предучилищната подготовка по направления
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class PgResultDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("pgResultId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? PgResultId { get; set; }

        /// <summary>
        /// Да не се използва, ще бъде премахнато в бъдеще.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? ClassId { get; set; }

        /// <summary>
        /// Уникален идентификатор на лицето за системата.
        /// <br/>Не се използва при update.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Always)]
        public int PersonId { get; set; }

        /// <summary>
        /// Идентификатор на образователно направление(предмет) от номенклатурата Subject.
        /// <br/>Не се използва при update.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("subjectId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? SubjectId { get; set; }

        /// <summary>
        /// Идентификатор на образователно направление.
        /// <br/>Не се използва при update.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("curriculumId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? CurriculumId { get; set; }

        /// <summary>
        /// Секция "В началото на учебната година". Максимален размер - 10000 символа.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("startSchoolYearResult", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string StartSchoolYearResult { get; set; }

        /// <summary>
        /// Секция "В края на учебната година". Максимален размер - 10000 символа.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("endSchoolYearResult", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string EndSchoolYearResult { get; set; }

    }

    /// <summary>
    /// Отзив
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class RemarkDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("remarkId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? RemarkId { get; set; }

        /// <summary>
        /// Да не се използва, ще бъде премахнато в бъдеще.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? ClassId { get; set; }

        /// <summary>
        /// Уникален идентификатор на лицето за системата.
        /// <br/>Не се използва при update.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Always)]
        public int PersonId { get; set; }

        /// <summary>
        /// Идентификатор на предмет от учебния план.
        /// <br/>Не се използва при update.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("curriculumId", Required = Newtonsoft.Json.Required.Always)]
        public int CurriculumId { get; set; }

        /// <summary>
        /// Вид на отзива.
        /// <br/>Не се използва при update.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("type", Required = Newtonsoft.Json.Required.Always)]
        public RemarkType Type { get; set; }

        /// <summary>
        /// Дата на отзива
        /// </summary>
        [Newtonsoft.Json.JsonProperty("date", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset Date { get; set; }

        /// <summary>
        /// Описание
        /// </summary>
        [Newtonsoft.Json.JsonProperty("description", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        public string Description { get; set; }

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public enum RemarkType
    {

        Good = 1,

        Bad = 2,

    }

    /// <summary>
    /// Участие в РЕПЛР
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ReplrParticipationDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("replrParticipationId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ReplrParticipationId { get; set; }

        /// <summary>
        /// Вид на участието в РЕПЛР
        /// </summary>
        [Newtonsoft.Json.JsonProperty("replrParticipationTypeId", Required = Newtonsoft.Json.Required.Always)]
        public int ReplrParticipationTypeId { get; set; }

        /// <summary>
        /// Дата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("date", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset Date { get; set; }

        /// <summary>
        /// Тема
        /// </summary>
        [Newtonsoft.Json.JsonProperty("topic", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string Topic { get; set; }

        /// <summary>
        /// Присъстващи
        /// </summary>
        [Newtonsoft.Json.JsonProperty("attendees", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string Attendees { get; set; }

        /// <summary>
        /// Институция
        /// </summary>
        [Newtonsoft.Json.JsonProperty("instId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? InstId { get; set; }

    }

    /// <summary>
    /// Санкция
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class SanctionDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("sanctionId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? SanctionId { get; set; }

        /// <summary>
        /// Да не се използва, ще бъде премахнато в бъдеще.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? ClassId { get; set; }

        /// <summary>
        /// Уникален идентификатор на лицето за системата.
        /// <br/>Не се използва при update.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Always)]
        public int PersonId { get; set; }

        /// <summary>
        /// Вид на санкцията
        /// </summary>
        [Newtonsoft.Json.JsonProperty("type", Required = Newtonsoft.Json.Required.Always)]
        public int Type { get; set; }

        /// <summary>
        /// Номер на заповед
        /// </summary>
        [Newtonsoft.Json.JsonProperty("orderNumber", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(100)]
        public string OrderNumber { get; set; }

        /// <summary>
        /// Дата на заповед
        /// </summary>
        [Newtonsoft.Json.JsonProperty("orderDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset OrderDate { get; set; }

        /// <summary>
        /// Начална дата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("startDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset StartDate { get; set; }

        /// <summary>
        /// Крайна дата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("endDate", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.DateTimeOffset? EndDate { get; set; }

        /// <summary>
        /// Описание
        /// </summary>
        [Newtonsoft.Json.JsonProperty("description", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        public string Description { get; set; }

        /// <summary>
        /// Номер на заповед за отмяна
        /// </summary>
        [Newtonsoft.Json.JsonProperty("cancelOrderNumber", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(100)]
        public string CancelOrderNumber { get; set; }

        /// <summary>
        /// Дата на заповед за отмяна
        /// </summary>
        [Newtonsoft.Json.JsonProperty("cancelOrderDate", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.DateTimeOffset? CancelOrderDate { get; set; }

        /// <summary>
        /// Причина за заповедта за отмяна
        /// </summary>
        [Newtonsoft.Json.JsonProperty("cancelReason", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        public string CancelReason { get; set; }

        /// <summary>
        /// Номер на заповед на началника на РУО
        /// </summary>
        [Newtonsoft.Json.JsonProperty("ruoOrderNumber", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(100)]
        public string RuoOrderNumber { get; set; }

        /// <summary>
        /// Дата на заповед на началника на РУО
        /// </summary>
        [Newtonsoft.Json.JsonProperty("ruoOrderDate", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.DateTimeOffset? RuoOrderDate { get; set; }

    }

    /// <summary>
    /// Учебно разписание
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ScheduleDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("scheduleId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ScheduleId { get; set; }

        /// <summary>
        /// Разписанието е за ученик в индивидуална форма на обучение
        /// </summary>
        [Newtonsoft.Json.JsonProperty("isIndividualCurriculum", Required = Newtonsoft.Json.Required.Always)]
        public bool IsIndividualCurriculum { get; set; }

        /// <summary>
        /// Да не се използва, ще бъде премахнато в бъдеще.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? ClassId { get; set; }

        /// <summary>
        /// Уникален идентификатор на лицето за системата. Попълва се само когато разписанието е за ученик в ИУП.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? PersonId { get; set; }

        /// <summary>
        /// Учебен срок. Ако полето е null разписанието е за цялата учебна година.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("term", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public SchoolTerm? Term { get; set; }

        /// <summary>
        /// Начална дата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("startDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset StartDate { get; set; }

        /// <summary>
        /// Крайна дата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("endDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset EndDate { get; set; }

        /// <summary>
        /// Разписанието включва събота и неделя.
        /// <br/>- true - включва събота и неделя
        /// <br/>- false | null - не включва събота и неделя
        /// </summary>
        [Newtonsoft.Json.JsonProperty("includesWeekend", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public bool? IncludesWeekend { get; set; }

        /// <summary>
        /// Разписанието си върви със собствена смяна.
        /// <br/>- true - полетата AdhocShiftIsMultiday и AdhocShiftHours стават задължитени, а полето ShiftId се игнорира
        /// <br/>- false | null - полето ShiftId е задължително, а полетата AdhocShiftIsMultiday и AdhocShiftHours се игнорират
        /// </summary>
        [Newtonsoft.Json.JsonProperty("hasAdhocShift", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public bool? HasAdhocShift { get; set; }

        /// <summary>
        /// Собствената смяна е с различни режими за отделните дни. Задължително поле, когато HasAdhocShift=true.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("adhocShiftIsMultiday", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public bool? AdhocShiftIsMultiday { get; set; }

        /// <summary>
        /// Часове на собствената смяна. Задължително поле, когато HasAdhocShift=true.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("adhocShiftHours", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.Collections.Generic.ICollection<ScheduleAdhocShiftHourDO> AdhocShiftHours { get; set; }

        /// <summary>
        /// Учебна смяна. Задължително поле, когато HasAdhocShift=false.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("shiftId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ShiftId { get; set; }

        /// <summary>
        /// Седмиците, които разписанието обхваща
        /// </summary>
        [Newtonsoft.Json.JsonProperty("weeks", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<ScheduleWeekDO> Weeks { get; set; } = new System.Collections.ObjectModel.Collection<ScheduleWeekDO>();

        /// <summary>
        /// Учебно разписание по дни
        /// </summary>
        [Newtonsoft.Json.JsonProperty("days", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<ScheduleDayDO> Days { get; set; } = new System.Collections.ObjectModel.Collection<ScheduleDayDO>();

        /// <summary>
        /// Всички занятия от разписанието. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("lessons", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.Collections.Generic.ICollection<ScheduleLessonDO> Lessons { get; set; }

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ScheduleAdhocShiftHourDO
    {
        /// <summary>
        /// виж ShiftHourDO.Day
        /// </summary>
        [Newtonsoft.Json.JsonProperty("day", Required = Newtonsoft.Json.Required.Always)]
        public int Day { get; set; }

        /// <summary>
        /// виж ShiftHourDO.HourNumber
        /// </summary>
        [Newtonsoft.Json.JsonProperty("hourNumber", Required = Newtonsoft.Json.Required.Always)]
        public int HourNumber { get; set; }

        /// <summary>
        /// виж ShiftHourDO.StartTime
        /// </summary>
        [Newtonsoft.Json.JsonProperty("startTime", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public string StartTime { get; set; }

        /// <summary>
        /// виж ShiftHourDO.EndTime
        /// </summary>
        [Newtonsoft.Json.JsonProperty("endTime", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public string EndTime { get; set; }

    }

    /// <summary>
    /// Седмица от учебното разписание по ISO 8601 (виж https://en.wikipedia.org/wiki/ISO_week_date)
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ScheduleWeekDO
    {
        /// <summary>
        /// Година на седмицата по ISO 8601
        /// </summary>
        [Newtonsoft.Json.JsonProperty("year", Required = Newtonsoft.Json.Required.Always)]
        public int Year { get; set; }

        /// <summary>
        /// Номер на седмицата по ISO 8601. Число от 1 до 53.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("weekNumber", Required = Newtonsoft.Json.Required.Always)]
        public int WeekNumber { get; set; }

    }

    /// <summary>
    /// Ден от учебното разписание
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ScheduleDayDO
    {
        /// <summary>
        /// Ден от седмицата. Число от 1 (Понеделник) до 7 (Неделя).
        /// </summary>
        [Newtonsoft.Json.JsonProperty("day", Required = Newtonsoft.Json.Required.Always)]
        public int Day { get; set; }

        /// <summary>
        /// Дневно разписание по часове
        /// </summary>
        [Newtonsoft.Json.JsonProperty("hours", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<ScheduleHourDO> Hours { get; set; } = new System.Collections.ObjectModel.Collection<ScheduleHourDO>();

    }

    /// <summary>
    /// Час от учебното разписание
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ScheduleHourDO
    {
        /// <summary>
        /// Номер на часа отговарящ на смяната на разписанието
        /// </summary>
        [Newtonsoft.Json.JsonProperty("hourNumber", Required = Newtonsoft.Json.Required.Always)]
        public int HourNumber { get; set; }

        /// <summary>
        /// Идентификатори на предмети от учебния план за всяка група от часа
        /// </summary>
        [Newtonsoft.Json.JsonProperty("groupCurriculumIds", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public System.Collections.Generic.ICollection<int> GroupCurriculumIds { get; set; }

        /// <summary>
        /// Идентификатори на предмети от учебния план за всяка група от часа
        /// </summary>
        [Newtonsoft.Json.JsonProperty("groups", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.Collections.Generic.ICollection<ScheduleHourGroupDO> Groups { get; set; }

    }

    /// <summary>
    /// Групи от предмети и място на провеждане от учебния план за всяка група от часа
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ScheduleHourGroupDO
    {
        /// <summary>
        /// Идентификатор на предмет от учебния план
        /// </summary>
        [Newtonsoft.Json.JsonProperty("curriculumId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? CurriculumId { get; set; }

        /// <summary>
        /// Място на провеждане на часа
        /// </summary>
        [Newtonsoft.Json.JsonProperty("location", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public string Location { get; set; }

    }

    /// <summary>
    /// Занятие от учебното разписание
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ScheduleLessonDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("scheduleLessonId", Required = Newtonsoft.Json.Required.Always)]
        public int ScheduleLessonId { get; set; }

        /// <summary>
        /// Дата на занятието
        /// </summary>
        [Newtonsoft.Json.JsonProperty("date", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset Date { get; set; }

        /// <summary>
        /// Ден от седмицата. Число от 1 (Понеделник) до 5 (Петък).
        /// </summary>
        [Newtonsoft.Json.JsonProperty("day", Required = Newtonsoft.Json.Required.Always)]
        public int Day { get; set; }

        /// <summary>
        /// Номер на часа
        /// </summary>
        [Newtonsoft.Json.JsonProperty("hourNumber", Required = Newtonsoft.Json.Required.Always)]
        public int HourNumber { get; set; }

        /// <summary>
        /// Идентификатор на предмет от учебния план
        /// </summary>
        [Newtonsoft.Json.JsonProperty("curriculumId", Required = Newtonsoft.Json.Required.Always)]
        public int CurriculumId { get; set; }

    }

    /// <summary>
    /// Резултат от създаване/обновяване на учебно разписание
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ScheduleResultDO
    {
        /// <summary>
        /// Уникален идентификатор на учебното разписание
        /// </summary>
        [Newtonsoft.Json.JsonProperty("scheduleId", Required = Newtonsoft.Json.Required.Always)]
        public int ScheduleId { get; set; }

        /// <summary>
        /// Всички занятия от разписанието
        /// </summary>
        [Newtonsoft.Json.JsonProperty("lessons", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<ScheduleLessonDO> Lessons { get; set; } = new System.Collections.ObjectModel.Collection<ScheduleLessonDO>();

    }

    /// <summary>
    /// Дейности по интереси.
    /// <br/>Може да се добавя само за дневници:
    /// <br/>- 3-5 Дневник на група/подготвителна група
    /// <br/>- 3-14 Дневник I - III клас
    /// <br/>- 3-16 Дневник IV клас
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class StudentActivitiesDO
    {
        /// <summary>
        /// Уникален идентификатор на ученика. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? PersonId { get; set; }

        /// <summary>
        /// Дейности по интереси за ученика.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("activities", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        public string Activities { get; set; }

    }

    /// <summary>
    /// Пренесени отсъствия.
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class StudentCarriedAbsencesDO
    {
        /// <summary>
        /// Уникален идентификатор на ученика. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? PersonId { get; set; }

        /// <summary>
        /// Пренесени уважителни отсъствия за I срок.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("firstTermExcusedCount", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? FirstTermExcusedCount { get; set; }

        /// <summary>
        /// Пренесени неуважителни отсъствия за I срок.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("firstTermUnexcusedCount", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? FirstTermUnexcusedCount { get; set; }

        /// <summary>
        /// Пренесени закъснения за I срок.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("firstTermLateCount", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? FirstTermLateCount { get; set; }

        /// <summary>
        /// Пренесени уважителни отсъствия за II срок.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("secondTermExcusedCount", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? SecondTermExcusedCount { get; set; }

        /// <summary>
        /// Пренесени неуважителни отсъствия за II срок.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("secondTermUnexcusedCount", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? SecondTermUnexcusedCount { get; set; }

        /// <summary>
        /// Пренесени закъснения за II срок.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("secondTermLateCount", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? SecondTermLateCount { get; set; }

    }

    /// <summary>
    /// Номер на ученика.
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class StudentClassNumberDO
    {
        /// <summary>
        /// Уникален идентификатор на ученика. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? PersonId { get; set; }

        /// <summary>
        /// Номер на ученика в дневника. Може да е null(без номер). Няма ограничение да не се повтаря с номерата на други ученици.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classNumber", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ClassNumber { get; set; }

    }

    /// <summary>
    /// Освободен по предмети.
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class StudentGradelessCurriculumsDO
    {
        /// <summary>
        /// Уникален идентификатор на ученика. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? PersonId { get; set; }

        /// <summary>
        /// Предмети, по които е освободен ученика.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("gradelessCurriculums", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.Collections.Generic.ICollection<StudentGradelessCurriculumDO> GradelessCurriculums { get; set; }

    }

    /// <summary>
    /// Освободен по предмет. Обекта ще бъде записан само ако поне едно от трите Without* полета е true.
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class StudentGradelessCurriculumDO
    {
        /// <summary>
        /// Идентификатор на предмет от учебния план, по които е освободен ученика.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("curriculumId", Required = Newtonsoft.Json.Required.Always)]
        public int CurriculumId { get; set; }

        /// <summary>
        /// Освободен от оценка за 1ви срок.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("withoutFirstTermGrade", Required = Newtonsoft.Json.Required.Always)]
        public bool WithoutFirstTermGrade { get; set; }

        /// <summary>
        /// Освободен от оценка за 2ри срок.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("withoutSecondTermGrade", Required = Newtonsoft.Json.Required.Always)]
        public bool WithoutSecondTermGrade { get; set; }

        /// <summary>
        /// Освободен от годишна оценка.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("withoutFinalGrade", Required = Newtonsoft.Json.Required.Always)]
        public bool WithoutFinalGrade { get; set; }

    }

    /// <summary>
    /// СОП оценки по предмети.
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class StudentSpecialNeedCurriculumsDO
    {
        /// <summary>
        /// Уникален идентификатор на ученика. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? PersonId { get; set; }

        /// <summary>
        /// Идентификатори на предмети от учебния план, по които ученика се оценява със СОП оценки.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("studentSpecialNeedCurriculumIds", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.Collections.Generic.ICollection<int> StudentSpecialNeedCurriculumIds { get; set; }

        /// <summary>
        /// Ученик от първи клас се оценява със СОП оценки в раздел "Общ годишен успех".
        /// <br/>Важи само за ученици от първи клас.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("hasSpecialNeedFirstGradeResult", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public bool? HasSpecialNeedFirstGradeResult { get; set; }

    }

    /// <summary>
    /// Подкрепа
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class SupportDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("supportId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? SupportId { get; set; }

        /// <summary>
        /// Цел
        /// </summary>
        [Newtonsoft.Json.JsonProperty("description", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string Description { get; set; }

        /// <summary>
        /// Очакван резултат
        /// </summary>
        [Newtonsoft.Json.JsonProperty("expectedResult", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string ExpectedResult { get; set; }

        /// <summary>
        /// Краен срок
        /// </summary>
        [Newtonsoft.Json.JsonProperty("endDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset EndDate { get; set; }

        /// <summary>
        /// Вид подкрепа
        /// </summary>
        [Newtonsoft.Json.JsonProperty("supportDifficultyTypeIds", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<int> SupportDifficultyTypeIds { get; set; } = new System.Collections.ObjectModel.Collection<int>();

        /// <summary>
        /// Екип. PersonId-та на учители.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("teacherIds", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<int> TeacherIds { get; set; } = new System.Collections.ObjectModel.Collection<int>();

        /// <summary>
        /// Подкрепата важи за всички ученици от групата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("isForAllStudents", Required = Newtonsoft.Json.Required.Always)]
        public bool IsForAllStudents { get; set; }

        /// <summary>
        /// Ученици, за които е подкрепата (PersonId-та на ученици). Попълва се ако "IsForAllStudents = false"
        /// </summary>
        [Newtonsoft.Json.JsonProperty("studentIds", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.Collections.Generic.ICollection<int> StudentIds { get; set; }

        /// <summary>
        /// Дейности
        /// </summary>
        [Newtonsoft.Json.JsonProperty("activities", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<SupportActivityDO> Activities { get; set; } = new System.Collections.ObjectModel.Collection<SupportActivityDO>();

        /// <summary>
        /// Вместо този атрибут да се използва StudentIds !!!
        /// <br/>Оставено е за backwards compatibility. Да не се използва, ще бъде премахнато в бъдеще.
        /// <br/>Ученици, за които е подкрепата. Попълва се ако "IsForAllStudents = false"
        /// </summary>
        [Newtonsoft.Json.JsonProperty("students", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public System.Collections.Generic.ICollection<SupportStudentDO> Students { get; set; }

    }

    /// <summary>
    /// Дейност
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class SupportActivityDO
    {
        /// <summary>
        /// Вид Дейност
        /// </summary>
        [Newtonsoft.Json.JsonProperty("supportActivityTypeId", Required = Newtonsoft.Json.Required.Always)]
        public int SupportActivityTypeId { get; set; }

        /// <summary>
        /// Цел
        /// </summary>
        [Newtonsoft.Json.JsonProperty("target", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string Target { get; set; }

        /// <summary>
        /// Резултат
        /// </summary>
        [Newtonsoft.Json.JsonProperty("result", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(10000)]
        public string Result { get; set; }

        /// <summary>
        /// Дата
        /// </summary>
        [Newtonsoft.Json.JsonProperty("date", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.DateTimeOffset? Date { get; set; }

    }

    /// <summary>
    /// Ученик
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
    public partial class SupportStudentDO
    {
        /// <summary>
        /// Да не се използва, ще бъде премахнато в бъдеще.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? ClassId { get; set; }

        /// <summary>
        /// Уникален идентификатор на лицето за системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Always)]
        public int PersonId { get; set; }

    }

    /// <summary>
    /// Тема на часа
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class TopicDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("topicId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? TopicId { get; set; }

        /// <summary>
        /// Идентификатор на предмет от учебния план
        /// </summary>
        [Newtonsoft.Json.JsonProperty("curriculumId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.Obsolete("\u0414\u0430 \u043d\u0435 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430, \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public int? CurriculumId { get; set; }

        /// <summary>
        /// Дата на темата на часа
        /// </summary>
        [Newtonsoft.Json.JsonProperty("date", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset Date { get; set; }

        /// <summary>
        /// Тема
        /// </summary>
        [Newtonsoft.Json.JsonProperty("title", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        [System.Obsolete("\u0414\u0430 \u0441\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430 \u043f\u043e\u043b\u0435\u0442\u043e Titles, Title \u0449\u0435 \u0431\u044a\u0434\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u043e \u0432 \u0431\u044a\u0434\u0435\u0449\u0435.")]
        public string Title { get; set; }

        /// <summary>
        /// Теми
        /// </summary>
        [Newtonsoft.Json.JsonProperty("titles", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        [System.ComponentModel.DataAnnotations.MaxLength(1000)]
        public System.Collections.Generic.ICollection<string> Titles { get; set; }

        /// <summary>
        /// Идентификатор на часа от учебното разписание
        /// </summary>
        [Newtonsoft.Json.JsonProperty("scheduleLessonId", Required = Newtonsoft.Json.Required.Always)]
        public int ScheduleLessonId { get; set; }

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class HisMedicalNoticeDO
    {
        /// <summary>
        /// Уникален идентификатор на електронния документ - НРН на медицинската бележка.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("nrnMedicalNotice", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        [System.ComponentModel.DataAnnotations.StringLength(12, MinimumLength = 1)]
        public string NrnMedicalNotice { get; set; }

        /// <summary>
        /// НРН на е-преглед или е-хоспитализация, спрямо който се издава медицинската бележка.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("nrnExamination", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        [System.ComponentModel.DataAnnotations.StringLength(12, MinimumLength = 1)]
        public string NrnExamination { get; set; }

        /// <summary>
        /// Данни за пациента.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("patient", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public HisMedicalNoticePatientDO Patient { get; set; } = new HisMedicalNoticePatientDO();

        /// <summary>
        /// Данни за лекаря.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("practitioner", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public HisMedicalNoticePractitionerDO Practitioner { get; set; } = new HisMedicalNoticePractitionerDO();

        /// <summary>
        /// Информация за медицинската бележка.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("medicalNotice", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public HisMedicalNoticeInfoDO MedicalNotice { get; set; } = new HisMedicalNoticeInfoDO();

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class HisMedicalNoticePatientDO
    {
        /// <summary>
        /// Типът на идентификатора на лицето.
        /// <br/>1 - ЕГН
        /// <br/>2 - ЛНЧ
        /// <br/>3 - Социален номер - за чужди граждани
        /// <br/>4 - Номер на паспорт
        /// <br/>5 - Друг идентификатор
        /// </summary>
        [Newtonsoft.Json.JsonProperty("identifierType", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Range(1, 5)]
        public int IdentifierType { get; set; }

        /// <summary>
        /// Идентификатор на лицето, пряко свързан с типа. Тоест самото ЕГН или ЛНЧ на ученика.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("identifier", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        [System.ComponentModel.DataAnnotations.StringLength(255, MinimumLength = 1)]
        public string Identifier { get; set; }

        /// <summary>
        /// Първо име на лицето.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("givenName", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(255)]
        public string GivenName { get; set; }

        /// <summary>
        /// Фамилия на лицето.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("familyName", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(255)]
        public string FamilyName { get; set; }

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class HisMedicalNoticePractitionerDO
    {
        /// <summary>
        /// УИН на лекаря.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("pmi", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        [System.ComponentModel.DataAnnotations.StringLength(255, MinimumLength = 1)]
        public string Pmi { get; set; }

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class HisMedicalNoticeInfoDO
    {
        /// <summary>
        /// Начална дата на валидност на медицинската бележка (включително).
        /// </summary>
        [Newtonsoft.Json.JsonProperty("fromDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset FromDate { get; set; }

        /// <summary>
        /// Крайна дата на валидност на медицинската бележка (включително).
        /// </summary>
        [Newtonsoft.Json.JsonProperty("toDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset ToDate { get; set; }

        /// <summary>
        /// Дата на издаване на медицинската бележка.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("authoredOn", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset AuthoredOn { get; set; }

    }

    /// <summary>
    /// Пакет от медицински бележки.
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class MedicalNoticeBatchDO
    {
        /// <summary>
        /// Медицински бележки.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("medicalNotices", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<MedicalNoticeDO> MedicalNotices { get; set; } = new System.Collections.ObjectModel.Collection<MedicalNoticeDO>();

        /// <summary>
        /// Време на последната синхронизация с НЗИС
        /// </summary>
        [Newtonsoft.Json.JsonProperty("lastHisSyncTime", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.DateTimeOffset? LastHisSyncTime { get; set; }

        /// <summary>
        /// Индикатор дали има още медицински бележки за извличане за текущия доставчик.
        /// <br/>В редки случаи могат да бъдат получени по-малко бележки от поисканите с параметъра next,
        /// <br/>но всъщност да има още за извличане. Затова е желателно да се провери това поле
        /// <br/>и ако е true да се извика отново метода MedicalNotices_GetNext.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("hasMore", Required = Newtonsoft.Json.Required.Always)]
        public bool HasMore { get; set; }

    }

    /// <summary>
    /// Медицинска бележка получена от Националната здравно информационна система (НЗИС)
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class MedicalNoticeDO
    {
        /// <summary>
        /// Уникален идентификатор на записа
        /// </summary>
        [Newtonsoft.Json.JsonProperty("medicalNoticeId", Required = Newtonsoft.Json.Required.Always)]
        public int MedicalNoticeId { get; set; }

        /// <summary>
        /// Идентификатор на ученика
        /// </summary>
        [Newtonsoft.Json.JsonProperty("personId", Required = Newtonsoft.Json.Required.Always)]
        public int PersonId { get; set; }

        /// <summary>
        /// Медицинска бележка от НЗИС
        /// </summary>
        [Newtonsoft.Json.JsonProperty("hisMedicalNotice", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public HisMedicalNoticeDO HisMedicalNotice { get; set; } = new HisMedicalNoticeDO();

    }

    /// <summary>
    /// Дневник
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ClassBookDO
    {
        /// <summary>
        /// Уникален идентификатор на записа
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classBookId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ClassBookId { get; set; }

        /// <summary>
        /// Идентификатор на паралелката
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classId", Required = Newtonsoft.Json.Required.Always)]
        public int ClassId { get; set; }

        /// <summary>
        /// Вид на дневника
        /// </summary>
        [Newtonsoft.Json.JsonProperty("bookType", Required = Newtonsoft.Json.Required.Always)]
        public ClassBookType BookType { get; set; }

        /// <summary>
        /// Идентификатор на випуска
        /// </summary>
        [Newtonsoft.Json.JsonProperty("basicClassId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? BasicClassId { get; set; }

        /// <summary>
        /// Наименование на паралелката/дневника
        /// </summary>
        [Newtonsoft.Json.JsonProperty("bookName", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(300)]
        public string BookName { get; set; }

        /// <summary>
        /// Флаг за приключен дневник
        /// </summary>
        [Newtonsoft.Json.JsonProperty("isFinalized", Required = Newtonsoft.Json.Required.Always)]
        public bool IsFinalized { get; set; }

        /// <summary>
        /// Флаг дали дневникът е валиден или е архивиран
        /// </summary>
        [Newtonsoft.Json.JsonProperty("isValid", Required = Newtonsoft.Json.Required.Always)]
        public bool IsValid { get; set; }

        /// <summary>
        /// Дата на архивиране
        /// </summary>
        [Newtonsoft.Json.JsonProperty("invalidationDate", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.DateTimeOffset? InvalidationDate { get; set; }

    }

    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public enum ClassBookType
    {

        Book_PG = 1,

        Book_I_III = 2,

        Book_IV = 3,

        Book_V_XII = 4,

        Book_CDO = 5,

        Book_DPLR = 6,

        Book_CSOP = 7,

    }

    /// <summary>
    /// Комбиниране на класове
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ClassBookCombineDO
    {
        /// <summary>
        /// Идентификатор (classId) на паралелката/групата, която ще бъде създадена от Parent ниво
        /// </summary>
        [Newtonsoft.Json.JsonProperty("parentClassId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ParentClassId { get; set; }

        /// <summary>
        /// Идентификатор (classId) на паралелката/групата, от която ще се копират "Неучебни дни", "Настройки на учебната година" и "Разписания"
        /// <br/>в новосъздадения дневник
        /// </summary>
        [Newtonsoft.Json.JsonProperty("childClassIdForDataTransfer", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ChildClassIdForDataTransfer { get; set; }

    }

    /// <summary>
    /// Разделяне на класове
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ClassBookSeparateDO
    {
        /// <summary>
        /// Идентификатор (classId) на паралелката/групата, която ще бъде маркирана като невалидна (IsValid=0)
        /// </summary>
        [Newtonsoft.Json.JsonProperty("parentClassId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ParentClassId { get; set; }

        /// <summary>
        /// Идентификатор (classId) на паралелките/групите, която ще бъде създадени
        /// </summary>
        [Newtonsoft.Json.JsonProperty("childClassIds", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public System.Collections.Generic.ICollection<int> ChildClassIds { get; set; }

    }

    /// <summary>
    /// Неучебен период
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class OffDayDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("offDayId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? OffDayId { get; set; }

        /// <summary>
        /// Начална дата на периода
        /// </summary>
        [Newtonsoft.Json.JsonProperty("from", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset From { get; set; }

        /// <summary>
        /// Крайна дата на периода
        /// </summary>
        [Newtonsoft.Json.JsonProperty("to", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset To { get; set; }

        /// <summary>
        /// Описание
        /// </summary>
        [Newtonsoft.Json.JsonProperty("description", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        public string Description { get; set; }

        /// <summary>
        /// Неучебните дни важат за всички класове
        /// </summary>
        [Newtonsoft.Json.JsonProperty("isForAllClasses", Required = Newtonsoft.Json.Required.Always)]
        public bool IsForAllClasses { get; set; }

        /// <summary>
        /// Идентификатори на випуски, за които важат неучебните дни. Попълва се ако "IsForAllClasses = false". Не може да е попълнено едновременно с "ClassBookIds".
        /// </summary>
        [Newtonsoft.Json.JsonProperty("basicClassIds", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<int> BasicClassIds { get; set; } = new System.Collections.ObjectModel.Collection<int>();

        /// <summary>
        /// Идентификатори на паралелки/групи, за които важат неучебните дни. Попълва се ако "IsForAllClasses = false". Не може да е попълнено едновременно с "BasicClassIds".
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classBookIds", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<int> ClassBookIds { get; set; } = new System.Collections.ObjectModel.Collection<int>();

        /// <summary>
        /// Маркира позволено ли е въвеждане на присъствия в ПГ за дните от понеделник до петък.
        /// <br/>Флагът по-никакъв начин не ограничава API-тата за Attendances, но променя поведението на потребителския интерфейс на дневниците за ПГ в НЕИСПУО.
        /// <br/>- true: част от неучебното време, възможно е въвеждане на присъствия и изкарва предупреждения в червено при въвеждане на отсъствия по неуважителни причини
        /// <br/>- false: неучебен и неприсъствен ден, не е възможно въвеждане на присъствия и отсъствия
        /// <br/>- null: неподаването на стойност се третира като 'true'
        /// </summary>
        [Newtonsoft.Json.JsonProperty("isPgOffProgramDay", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public bool? IsPgOffProgramDay { get; set; }

    }

    /// <summary>
    /// Настройки на учебната година.
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class SchoolYearDateInfoDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("schoolYearDateInfoId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? SchoolYearDateInfoId { get; set; }

        /// <summary>
        /// Начало на учебната година
        /// </summary>
        [Newtonsoft.Json.JsonProperty("schoolYearStartDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset SchoolYearStartDate { get; set; }

        /// <summary>
        /// Край на първи срок
        /// </summary>
        [Newtonsoft.Json.JsonProperty("firstTermEndDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset FirstTermEndDate { get; set; }

        /// <summary>
        /// Начало на втори срок
        /// </summary>
        [Newtonsoft.Json.JsonProperty("secondTermStartDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset SecondTermStartDate { get; set; }

        /// <summary>
        /// Край на учебната година
        /// </summary>
        [Newtonsoft.Json.JsonProperty("schoolYearEndDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset SchoolYearEndDate { get; set; }

        /// <summary>
        /// Описание
        /// </summary>
        [Newtonsoft.Json.JsonProperty("description", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(100)]
        public string Description { get; set; }

        /// <summary>
        /// Настройките важат за всички класове
        /// </summary>
        [Newtonsoft.Json.JsonProperty("isForAllClasses", Required = Newtonsoft.Json.Required.Always)]
        public bool IsForAllClasses { get; set; }

        /// <summary>
        /// Идентификатори на випуски за които важат настройките. Попълва се ако "IsForAllClasses = false". Не може да е попълнено едновременно с "ClassBookIds".
        /// </summary>
        [Newtonsoft.Json.JsonProperty("basicClassIds", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<int> BasicClassIds { get; set; } = new System.Collections.ObjectModel.Collection<int>();

        /// <summary>
        /// Идентификатори на паралелки/групи, за които важат настройките. Попълва се ако "IsForAllClasses = false". Не може да е попълнено едновременно с "BasicClassIds".
        /// </summary>
        [Newtonsoft.Json.JsonProperty("classBookIds", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<int> ClassBookIds { get; set; } = new System.Collections.ObjectModel.Collection<int>();

    }

    /// <summary>
    /// Учебна смяна
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ShiftDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("shiftId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ShiftId { get; set; }

        /// <summary>
        /// Наименование
        /// </summary>
        [Newtonsoft.Json.JsonProperty("name", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(100)]
        public string Name { get; set; }

        /// <summary>
        /// Смяна с различни режими за отделните дни
        /// </summary>
        [Newtonsoft.Json.JsonProperty("isMultiday", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public bool? IsMultiday { get; set; }

        /// <summary>
        /// Часове
        /// </summary>
        [Newtonsoft.Json.JsonProperty("hours", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<ShiftHourDO> Hours { get; set; } = new System.Collections.ObjectModel.Collection<ShiftHourDO>();

    }

    /// <summary>
    /// Час от учебната смяна
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ShiftHourDO
    {
        /// <summary>
        /// Ден за който е часа. Число от 1 (Понеделник) до 7 (Неделя). За смени без различни режими (IsMultiday=False) се подава винаги 1.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("day", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? Day { get; set; }

        /// <summary>
        /// Номер на часа. Число &gt;= 0 (нулев час). Обикновено номерацията на часовете е от 1, но е оставена възможността за нулев час, който се използва понякога от училищата.
        /// <br/>Разрешено е часовете да не са поредни (напр. 1, 3, 5), но не се допускат повторения на часовете в рамките на един ден (напр. 2 пъти 1-ви час).
        /// </summary>
        [Newtonsoft.Json.JsonProperty("hourNumber", Required = Newtonsoft.Json.Required.Always)]
        public int HourNumber { get; set; }

        /// <summary>
        /// Начален час във формат "ЧЧ:ММ"
        /// </summary>
        [Newtonsoft.Json.JsonProperty("startTime", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public string StartTime { get; set; }

        /// <summary>
        /// Краен час във формат "ЧЧ:ММ"
        /// </summary>
        [Newtonsoft.Json.JsonProperty("endTime", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public string EndTime { get; set; }

    }

    /// <summary>
    /// Учителско отсъствие
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class TeacherAbsenceDO
    {
        /// <summary>
        /// Уникален идентификатор на записа. Не се попълва. Само се връща от системата.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("teacherAbsenceId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? TeacherAbsenceId { get; set; }

        /// <summary>
        /// Уникален идентификатор на учителя, който отсъства.
        /// <br/>Не може да се променя при update. Трябва да се подаде оригиналната стойност.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("teacherPersonId", Required = Newtonsoft.Json.Required.Always)]
        public int TeacherPersonId { get; set; }

        /// <summary>
        /// Начална дата на отсъствието
        /// <br/>Не може да се променя при update. Трябва да се подаде оригиналната стойност.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("startDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset StartDate { get; set; }

        /// <summary>
        /// Крайна дата на отсъствието
        /// <br/>Не може да се променя при update. Трябва да се подаде оригиналната стойност.
        /// </summary>
        [Newtonsoft.Json.JsonProperty("endDate", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        public System.DateTimeOffset EndDate { get; set; }

        /// <summary>
        /// Причини за отсъствието
        /// </summary>
        [Newtonsoft.Json.JsonProperty("reason", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required(AllowEmptyStrings = true)]
        [System.ComponentModel.DataAnnotations.StringLength(1000)]
        public string Reason { get; set; }

        /// <summary>
        /// Часове, за които се създават промени в разписанието/замествания
        /// </summary>
        [Newtonsoft.Json.JsonProperty("hours", Required = Newtonsoft.Json.Required.Always)]
        [System.ComponentModel.DataAnnotations.Required]
        public System.Collections.Generic.ICollection<TeacherAbsenceHourDO> Hours { get; set; } = new System.Collections.ObjectModel.Collection<TeacherAbsenceHourDO>();

    }

    /// <summary>
    /// Час, за които се създава промяна в разписанието/заместване
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class TeacherAbsenceHourDO
    {
        /// <summary>
        /// Уникален идентификатор на занятие от учебното разписание
        /// </summary>
        [Newtonsoft.Json.JsonProperty("scheduleLessonId", Required = Newtonsoft.Json.Required.Always)]
        public int ScheduleLessonId { get; set; }

        /// <summary>
        /// Вид на заместването
        /// </summary>
        [Newtonsoft.Json.JsonProperty("type", Required = Newtonsoft.Json.Required.Always)]
        public TeacherAbsenceHourType Type { get; set; }

        /// <summary>
        /// Уникален идентификатор на заместника
        /// <br/>Задължително за вид на заместването "Заместник неспециалист - Час по ГО" и "Заместник по предмета"
        /// </summary>
        [Newtonsoft.Json.JsonProperty("replTeacherPersonId", Required = Newtonsoft.Json.Required.Default, NullValueHandling = Newtonsoft.Json.NullValueHandling.Ignore)]
        public int? ReplTeacherPersonId { get; set; }

    }

    /// <summary>
    /// Вид на заместването.
    /// <br/>- 1 - Без заместник - Свободен час
    /// <br/>- 2 - Заместник неспециалист - Час по ГО
    /// <br/>- 3 - Заместник по предмета
    /// <br/>- 4 - Външен лектор
    /// </summary>
    [System.CodeDom.Compiler.GeneratedCode("NJsonSchema", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public enum TeacherAbsenceHourType
    {

        EmptyHour = 1,

        NonSpecialist = 2,

        Specialist = 3,

        ExtTeacher = 4,

    }

    [System.CodeDom.Compiler.GeneratedCode("NSwag", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class FileParameter
    {
        public FileParameter(System.IO.Stream data)
            : this (data, null, null)
        {
        }

        public FileParameter(System.IO.Stream data, string fileName)
            : this (data, fileName, null)
        {
        }

        public FileParameter(System.IO.Stream data, string fileName, string contentType)
        {
            Data = data;
            FileName = fileName;
            ContentType = contentType;
        }

        public System.IO.Stream Data { get; private set; }

        public string FileName { get; private set; }

        public string ContentType { get; private set; }
    }



    [System.CodeDom.Compiler.GeneratedCode("NSwag", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ApiException : System.Exception
    {
        public int StatusCode { get; private set; }

        public string Response { get; private set; }

        public System.Collections.Generic.IReadOnlyDictionary<string, System.Collections.Generic.IEnumerable<string>> Headers { get; private set; }

        public ApiException(string message, int statusCode, string response, System.Collections.Generic.IReadOnlyDictionary<string, System.Collections.Generic.IEnumerable<string>> headers, System.Exception innerException)
            : base(message + "\n\nStatus: " + statusCode + "\nResponse: \n" + ((response == null) ? "(null)" : response.Substring(0, response.Length >= 512 ? 512 : response.Length)), innerException)
        {
            StatusCode = statusCode;
            Response = response;
            Headers = headers;
        }

        public override string ToString()
        {
            return string.Format("HTTP Response: \n\n{0}\n\n{1}", Response, base.ToString());
        }
    }

    [System.CodeDom.Compiler.GeneratedCode("NSwag", "13.19.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))")]
    public partial class ApiException<TResult> : ApiException
    {
        public TResult Result { get; private set; }

        public ApiException(string message, int statusCode, string response, System.Collections.Generic.IReadOnlyDictionary<string, System.Collections.Generic.IEnumerable<string>> headers, TResult result, System.Exception innerException)
            : base(message, statusCode, response, headers, innerException)
        {
            Result = result;
        }
    }

}

#pragma warning restore  108
#pragma warning restore  114
#pragma warning restore  472
#pragma warning restore  612
#pragma warning restore 1573
#pragma warning restore 1591
#pragma warning restore 8073
#pragma warning restore 3016
#pragma warning restore 8603