<form [formGroup]="form" autocomplete="off" novalidate>
  <sb-tab-card>
    <ng-container card-title>Преглед на подкрепа</ng-container>
    <ng-container card-buttons>
      <a mat-raised-button class="ml-2" [routerLink]="['../']">
        <fa-icon [icon]="fasArrowLeft" size="lg"></fa-icon>
        <span class="hidden sm:inline">Назад</span>
      </a>
    </ng-container>
    <ng-container card-body>
      <div class="sm:grid grid-cols-2 gap-x-4 mb-2">
        <sb-textarea-field
          class="col-start-1 col-span-full"
          label="Затруднение"
          formControlName="difficultyTypes"
          [readonly]="true"
        ></sb-textarea-field>

        <sb-textarea-field
          class="col-start-1 col-span-full"
          label="Описание на проблема"
          formControlName="description"
          [readonly]="true"
          [textareaMaxSize]="10000"
        ></sb-textarea-field>

        <sb-textarea-field
          class="col-start-1 col-span-full"
          label="Очакван резултат"
          formControlName="expectedResult"
          [readonly]="true"
          [textareaMaxSize]="10000"
        ></sb-textarea-field>

        <sb-date-field label="Краен срок" formControlName="endDate" [readonly]="true"></sb-date-field>

        <sb-textarea-field
          class="col-start-1 col-span-full"
          label="Екип"
          formControlName="teacherNames"
          [readonly]="true"
        ></sb-textarea-field>
      </div>

      <sb-card-section class="col-span-full">Дейности</sb-card-section>

      <ng-container>
        <sb-table [dataSource]="dataSource" [displayedColumns]="['activityTypeDesc', 'date', 'target', 'result']">
          <ng-container cdkColumnDef="activityTypeDesc">
            <th cdk-header-cell *cdkHeaderCellDef>Дейност</th>
            <td cdk-cell *cdkCellDef="let row">{{ row.activityTypeDesc }}</td>
          </ng-container>

          <ng-container cdkColumnDef="date">
            <th cdk-header-cell *cdkHeaderCellDef>Дата</th>
            <td cdk-cell *cdkCellDef="let row">{{ row.date | sbDate }}</td>
          </ng-container>

          <ng-container cdkColumnDef="target">
            <th cdk-header-cell *cdkHeaderCellDef>Цел</th>
            <td cdk-cell *cdkCellDef="let row">
              <span class="whitespace-pre-line">{{ row.target }}</span>
            </td>
          </ng-container>

          <ng-container cdkColumnDef="result">
            <th cdk-header-cell *cdkHeaderCellDef>Резултат</th>
            <td cdk-cell *cdkCellDef="let row">
              <span class="whitespace-pre-line">{{ row.result }}</span>
            </td>
          </ng-container>
        </sb-table>
      </ng-container>
    </ng-container>
  </sb-tab-card>
</form>
