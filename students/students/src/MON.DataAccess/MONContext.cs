// <auto-generated> This file has been auto generated by EF Core Power Tools. </auto-generated>
#nullable disable
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Metadata;

namespace MON.DataAccess
{
    public partial class MONContext : DbContext
    {
        public MONContext()
        {
        }

        public MONContext(DbContextOptions<MONContext> options)
            : base(options)
        {
        }

        public virtual DbSet<Absence> Absences { get; set; }
        public virtual DbSet<AbsenceCampaign> AbsenceCampaigns { get; set; }
        public virtual DbSet<AbsenceExport> AbsenceExports { get; set; }
        public virtual DbSet<AbsenceHistory> AbsenceHistories { get; set; }
        public virtual DbSet<AbsenceImport> AbsenceImports { get; set; }
        public virtual DbSet<AcquisitionWayType> AcquisitionWayTypes { get; set; }
        public virtual DbSet<AdditionalPersonalDevelopmentSupport> AdditionalPersonalDevelopmentSupports { get; set; }
        public virtual DbSet<AdditionalPersonalDevelopmentSupportAttachment> AdditionalPersonalDevelopmentSupportAttachments { get; set; }
        public virtual DbSet<AdditionalPersonalDevelopmentSupportItem> AdditionalPersonalDevelopmentSupportItems { get; set; }
        public virtual DbSet<AdditionalPersonalDevelopmentSupportItemAttachment> AdditionalPersonalDevelopmentSupportItemAttachments { get; set; }
        public virtual DbSet<AdditionalSupportType> AdditionalSupportTypes { get; set; }
        public virtual DbSet<AdmissionDocument> AdmissionDocuments { get; set; }
        public virtual DbSet<AdmissionDocumentDocument> AdmissionDocumentDocuments { get; set; }
        public virtual DbSet<AdmissionPermissionRequest> AdmissionPermissionRequests { get; set; }
        public virtual DbSet<AdmissionPermissionRequestAttachment> AdmissionPermissionRequestAttachments { get; set; }
        public virtual DbSet<AdmissionReasonType> AdmissionReasonTypes { get; set; }
        public virtual DbSet<AppSetting> AppSettings { get; set; }
        public virtual DbSet<AppSettingsForTenant> AppSettingsForTenants { get; set; }
        public virtual DbSet<Application> Applications { get; set; }
        public virtual DbSet<ApplicationChild> ApplicationChildren { get; set; }
        public virtual DbSet<ApplicationDocument> ApplicationDocuments { get; set; }
        public virtual DbSet<AspAskingTemp> AspAskingTemps { get; set; }
        public virtual DbSet<AspSubmittedDataHistory> AspSubmittedDataHistories { get; set; }
        public virtual DbSet<AspZpTemp> AspZpTemps { get; set; }
        public virtual DbSet<AspenrolledStudentsExport> AspenrolledStudentsExports { get; set; }
        public virtual DbSet<AspmonthlyBenefit> AspmonthlyBenefits { get; set; }
        public virtual DbSet<AspmonthlyBenefitInstitution> AspmonthlyBenefitInstitutions { get; set; }
        public virtual DbSet<AspmonthlyBenefitsImport> AspmonthlyBenefitsImports { get; set; }
        public virtual DbSet<Attendance> Attendances { get; set; }
        public virtual DbSet<Audit> Audits { get; set; }
        public virtual DbSet<AuditModule> AuditModules { get; set; }
        public virtual DbSet<AvailableArchitecture> AvailableArchitectures { get; set; }
        public virtual DbSet<Award> Awards { get; set; }
        public virtual DbSet<AwardCategory> AwardCategories { get; set; }
        public virtual DbSet<AwardDocument> AwardDocuments { get; set; }
        public virtual DbSet<AwardReason> AwardReasons { get; set; }
        public virtual DbSet<AwardType> AwardTypes { get; set; }
        public virtual DbSet<BarcodeYear> BarcodeYears { get; set; }
        public virtual DbSet<BaseSchoolType> BaseSchoolTypes { get; set; }
        public virtual DbSet<BasicClass> BasicClasses { get; set; }
        public virtual DbSet<BasicClassLimit> BasicClassLimits { get; set; }
        public virtual DbSet<BasicDocument> BasicDocuments { get; set; }
        public virtual DbSet<BasicDocumentGenerator> BasicDocumentGenerators { get; set; }
        public virtual DbSet<BasicDocumentLimit> BasicDocumentLimits { get; set; }
        public virtual DbSet<BasicDocumentMargin> BasicDocumentMargins { get; set; }
        public virtual DbSet<BasicDocumentPart> BasicDocumentParts { get; set; }
        public virtual DbSet<BasicDocumentPrintForm> BasicDocumentPrintForms { get; set; }
        public virtual DbSet<BasicDocumentRegDate> BasicDocumentRegDates { get; set; }
        public virtual DbSet<BasicDocumentSequence> BasicDocumentSequences { get; set; }
        public virtual DbSet<BasicDocumentSubject> BasicDocumentSubjects { get; set; }
        public virtual DbSet<BasicEducationArea> BasicEducationAreas { get; set; }
        public virtual DbSet<BasicSubjectType> BasicSubjectTypes { get; set; }
        public virtual DbSet<BudgetingInstitution> BudgetingInstitutions { get; set; }
        public virtual DbSet<Building> Buildings { get; set; }
        public virtual DbSet<BuildingArea> BuildingAreas { get; set; }
        public virtual DbSet<BuildingAreaType> BuildingAreaTypes { get; set; }
        public virtual DbSet<BuildingRoom> BuildingRooms { get; set; }
        public virtual DbSet<BuildingRoomEquipment> BuildingRoomEquipments { get; set; }
        public virtual DbSet<BuildingRoomType> BuildingRoomTypes { get; set; }
        public virtual DbSet<BuildingType> BuildingTypes { get; set; }
        public virtual DbSet<CategoryStaffType> CategoryStaffTypes { get; set; }
        public virtual DbSet<Certificate> Certificates { get; set; }
        public virtual DbSet<CiooreportCommon> CiooreportCommons { get; set; }
        public virtual DbSet<CiooreportCommonCurrDatum> CiooreportCommonCurrData { get; set; }
        public virtual DbSet<ClassBook> ClassBooks { get; set; }
        public virtual DbSet<ClassEduDuration> ClassEduDurations { get; set; }
        public virtual DbSet<ClassGroup> ClassGroups { get; set; }
        public virtual DbSet<ClassGroupAll> ClassGroupAlls { get; set; }
        public virtual DbSet<ClassKind> ClassKinds { get; set; }
        public virtual DbSet<ClassShift> ClassShifts { get; set; }
        public virtual DbSet<ClassTeacher199> ClassTeacher199s { get; set; }
        public virtual DbSet<ClassType> ClassTypes { get; set; }
        public virtual DbSet<ClassTypeLimit> ClassTypeLimits { get; set; }
        public virtual DbSet<CommonPersonalDevelopmentSupport> CommonPersonalDevelopmentSupports { get; set; }
        public virtual DbSet<CommonPersonalDevelopmentSupportAttachment> CommonPersonalDevelopmentSupportAttachments { get; set; }
        public virtual DbSet<CommonPersonalDevelopmentSupportItem> CommonPersonalDevelopmentSupportItems { get; set; }
        public virtual DbSet<CommonSupportType> CommonSupportTypes { get; set; }
        public virtual DbSet<CommuterType> CommuterTypes { get; set; }
        public virtual DbSet<CompSkill> CompSkills { get; set; }
        public virtual DbSet<CompSkillLevel> CompSkillLevels { get; set; }
        public virtual DbSet<ContextualInformation> ContextualInformations { get; set; }
        public virtual DbSet<ContractReason> ContractReasons { get; set; }
        public virtual DbSet<ContractType> ContractTypes { get; set; }
        public virtual DbSet<ContractWith> ContractWiths { get; set; }
        public virtual DbSet<Country> Countries { get; set; }
        public virtual DbSet<Currency> Currencies { get; set; }
        public virtual DbSet<CurrentYear> CurrentYears { get; set; }
        public virtual DbSet<Curriculum> Curricula { get; set; }
        public virtual DbSet<CurriculumCatalog> CurriculumCatalogs { get; set; }
        public virtual DbSet<CurriculumClass> CurriculumClasses { get; set; }
        public virtual DbSet<CurriculumLibrary> CurriculumLibraries { get; set; }
        public virtual DbSet<CurriculumPart> CurriculumParts { get; set; }
        public virtual DbSet<CurriculumStudent> CurriculumStudents { get; set; }
        public virtual DbSet<CurriculumTeacher> CurriculumTeachers { get; set; }
        public virtual DbSet<DetailedSchoolType> DetailedSchoolTypes { get; set; }
        public virtual DbSet<Diploma> Diplomas { get; set; }
        public virtual DbSet<DiplomaAdditionalDocument> DiplomaAdditionalDocuments { get; set; }
        public virtual DbSet<DiplomaCreateRequest> DiplomaCreateRequests { get; set; }
        public virtual DbSet<DiplomaDocument> DiplomaDocuments { get; set; }
        public virtual DbSet<DiplomaSubject> DiplomaSubjects { get; set; }
        public virtual DbSet<DirCurrentDatum> DirCurrentData { get; set; }
        public virtual DbSet<Director> Directors { get; set; }
        public virtual DbSet<DischargeDocument> DischargeDocuments { get; set; }
        public virtual DbSet<DischargeDocumentDocument> DischargeDocumentDocuments { get; set; }
        public virtual DbSet<DischargeReasonType> DischargeReasonTypes { get; set; }
        public virtual DbSet<DocManagementApplication> DocManagementApplications { get; set; }
        public virtual DbSet<DocManagementApplicationAttachment> DocManagementApplicationAttachments { get; set; }
        public virtual DbSet<DocManagementApplicationItem> DocManagementApplicationItems { get; set; }
        public virtual DbSet<DocManagementApplicationItemDeliveredDoc> DocManagementApplicationItemDeliveredDocs { get; set; }
        public virtual DbSet<DocManagementApplicationStatus> DocManagementApplicationStatuses { get; set; }
        public virtual DbSet<DocManagementCampaign> DocManagementCampaigns { get; set; }
        public virtual DbSet<DocManagementCampaignAttachment> DocManagementCampaignAttachments { get; set; }
        public virtual DbSet<Document> Documents { get; set; }
        public virtual DbSet<DocumentEducationType> DocumentEducationTypes { get; set; }
        public virtual DbSet<EarlyEvaluationReason> EarlyEvaluationReasons { get; set; }
        public virtual DbSet<EduForm> EduForms { get; set; }
        public virtual DbSet<EduFormLimit> EduFormLimits { get; set; }
        public virtual DbSet<EducationArea> EducationAreas { get; set; }
        public virtual DbSet<EducationGradeType> EducationGradeTypes { get; set; }
        public virtual DbSet<EducationType> EducationTypes { get; set; }
        public virtual DbSet<EducationalState> EducationalStates { get; set; }
        public virtual DbSet<Ekrtype> Ekrtypes { get; set; }
        public virtual DbSet<EntranceLevel> EntranceLevels { get; set; }
        public virtual DbSet<Equalization> Equalizations { get; set; }
        public virtual DbSet<EqualizationAttachment> EqualizationAttachments { get; set; }
        public virtual DbSet<EqualizationDetail> EqualizationDetails { get; set; }
        public virtual DbSet<EquipmentType> EquipmentTypes { get; set; }
        public virtual DbSet<ExternalEvaluation> ExternalEvaluations { get; set; }
        public virtual DbSet<ExternalEvaluationItem> ExternalEvaluationItems { get; set; }
        public virtual DbSet<ExternalEvaluationType> ExternalEvaluationTypes { get; set; }
        public virtual DbSet<FinancialSchoolType> FinancialSchoolTypes { get; set; }
        public virtual DbSet<FirstGradeResult> FirstGradeResults { get; set; }
        public virtual DbSet<FirstToThirdClassGrade> FirstToThirdClassGrades { get; set; }
        public virtual DbSet<Fl> Fls { get; set; }
        public virtual DbSet<Fllevel> Fllevels { get; set; }
        public virtual DbSet<FlstudyType> FlstudyTypes { get; set; }
        public virtual DbSet<Founder> Founders { get; set; }
        public virtual DbSet<Gender> Genders { get; set; }
        public virtual DbSet<Grade> Grades { get; set; }
        public virtual DbSet<GradeCategory> GradeCategories { get; set; }
        public virtual DbSet<GradeNom> GradeNoms { get; set; }
        public virtual DbSet<GradeResult> GradeResults { get; set; }
        public virtual DbSet<GradeResultSubject> GradeResultSubjects { get; set; }
        public virtual DbSet<GradeType> GradeTypes { get; set; }
        public virtual DbSet<GraduationCommissionMember> GraduationCommissionMembers { get; set; }
        public virtual DbSet<GuardianType> GuardianTypes { get; set; }
        public virtual DbSet<HealthInsuranceExport> HealthInsuranceExports { get; set; }
        public virtual DbSet<HealthInsuranceIncomeRate> HealthInsuranceIncomeRates { get; set; }
        public virtual DbSet<InnovationType> InnovationTypes { get; set; }
        public virtual DbSet<InstAdminDatum> InstAdminData { get; set; }
        public virtual DbSet<InstType> InstTypes { get; set; }
        public virtual DbSet<Institution> Institutions { get; set; }
        public virtual DbSet<InstitutionAll> InstitutionAlls { get; set; }
        public virtual DbSet<InstitutionChange> InstitutionChanges { get; set; }
        public virtual DbSet<InstitutionConfDatum> InstitutionConfData { get; set; }
        public virtual DbSet<InstitutionDepartment> InstitutionDepartments { get; set; }
        public virtual DbSet<InstitutionDetail> InstitutionDetails { get; set; }
        public virtual DbSet<InstitutionOtherDatum> InstitutionOtherData { get; set; }
        public virtual DbSet<InstitutionPhone> InstitutionPhones { get; set; }
        public virtual DbSet<InstitutionPublicCouncil> InstitutionPublicCouncils { get; set; }
        public virtual DbSet<InstitutionSchoolYear> InstitutionSchoolYears { get; set; }
        public virtual DbSet<InternationalMobility> InternationalMobilities { get; set; }
        public virtual DbSet<InternationalMobilityDocument> InternationalMobilityDocuments { get; set; }
        public virtual DbSet<InternationalProtection> InternationalProtections { get; set; }
        public virtual DbSet<Itlevel> Itlevels { get; set; }
        public virtual DbSet<Language> Languages { get; set; }
        public virtual DbSet<LeadTeacher> LeadTeachers { get; set; }
        public virtual DbSet<LocalArea> LocalAreas { get; set; }
        public virtual DbSet<LodAssessment> LodAssessments { get; set; }
        public virtual DbSet<LodAssessmentGrade> LodAssessmentGrades { get; set; }
        public virtual DbSet<LodAssessmentTemplate> LodAssessmentTemplates { get; set; }
        public virtual DbSet<LodEvaluationGeneral> LodEvaluationGenerals { get; set; }
        public virtual DbSet<LodEvaluationSectionAb> LodEvaluationSectionAbs { get; set; }
        public virtual DbSet<LodEvaluationSectionG> LodEvaluationSectionGs { get; set; }
        public virtual DbSet<LodEvaluationSectionV> LodEvaluationSectionVs { get; set; }
        public virtual DbSet<LodEvaluationsResult> LodEvaluationsResults { get; set; }
        public virtual DbSet<LodFinalizationSignatory> LodFinalizationSignatories { get; set; }
        public virtual DbSet<LodFirstGradeEvaluation> LodFirstGradeEvaluations { get; set; }
        public virtual DbSet<LodFirstGradeResult> LodFirstGradeResults { get; set; }
        public virtual DbSet<LodSelfEduFormEvaluation> LodSelfEduFormEvaluations { get; set; }
        public virtual DbSet<Lodfinalization> Lodfinalizations { get; set; }
        public virtual DbSet<Message> Messages { get; set; }
        public virtual DbSet<MessageAttachment> MessageAttachments { get; set; }
        public virtual DbSet<Ministry> Ministries { get; set; }
        public virtual DbSet<ModernizationDegree> ModernizationDegrees { get; set; }
        public virtual DbSet<Month> Months { get; set; }
        public virtual DbSet<Municipality> Municipalities { get; set; }
        public virtual DbSet<NaturalIndicator> NaturalIndicators { get; set; }
        public virtual DbSet<NaturalIndicatorsColumn> NaturalIndicatorsColumns { get; set; }
        public virtual DbSet<NaturalIndicatorsPrice> NaturalIndicatorsPrices { get; set; }
        public virtual DbSet<Nkpdclass> Nkpdclasses { get; set; }
        public virtual DbSet<Nkpdgroup> Nkpdgroups { get; set; }
        public virtual DbSet<Nkpdposition> Nkpdpositions { get; set; }
        public virtual DbSet<NkpdsubClass> NkpdsubClasses { get; set; }
        public virtual DbSet<NkpdsubGroup> NkpdsubGroups { get; set; }
        public virtual DbSet<Nkrtype> Nkrtypes { get; set; }
        public virtual DbSet<Note> Notes { get; set; }
        public virtual DbSet<NoteDocument> NoteDocuments { get; set; }
        public virtual DbSet<ORESType> ORESTypes { get; set; }
        public virtual DbSet<Ore> Ores { get; set; }
        public virtual DbSet<OresAttachment> OresAttachments { get; set; }
        public virtual DbSet<OresToEntity> OresToEntities { get; set; }
        public virtual DbSet<OriginalDiploma> OriginalDiplomas { get; set; }
        public virtual DbSet<OtherDocument> OtherDocuments { get; set; }
        public virtual DbSet<OtherDocumentDocument> OtherDocumentDocuments { get; set; }
        public virtual DbSet<OtherInstitution> OtherInstitutions { get; set; }
        public virtual DbSet<Participation> Participations { get; set; }
        public virtual DbSet<PedStaffDatum> PedStaffData { get; set; }
        public virtual DbSet<Person> People { get; set; }
        public virtual DbSet<PersonalDevelopmentAdditionalSupportType> PersonalDevelopmentAdditionalSupportTypes { get; set; }
        public virtual DbSet<PersonalDevelopmentCommonSupportType> PersonalDevelopmentCommonSupportTypes { get; set; }
        public virtual DbSet<PersonalDevelopmentDocument> PersonalDevelopmentDocuments { get; set; }
        public virtual DbSet<PersonalDevelopmentEarlyEvaluationReason> PersonalDevelopmentEarlyEvaluationReasons { get; set; }
        public virtual DbSet<PersonalDevelopmentSupport> PersonalDevelopmentSupports { get; set; }
        public virtual DbSet<PersonalEarlyAssessment> PersonalEarlyAssessments { get; set; }
        public virtual DbSet<PersonalEarlyAssessmentAttachment> PersonalEarlyAssessmentAttachments { get; set; }
        public virtual DbSet<PersonalEarlyAssessmentDisabilityReason> PersonalEarlyAssessmentDisabilityReasons { get; set; }
        public virtual DbSet<PersonalEarlyAssessmentLearningDisability> PersonalEarlyAssessmentLearningDisabilities { get; set; }
        public virtual DbSet<PersonalIdtype> PersonalIdtypes { get; set; }
        public virtual DbSet<PgResult> PgResults { get; set; }
        public virtual DbSet<PhoneType> PhoneTypes { get; set; }
        public virtual DbSet<Pkstype> Pkstypes { get; set; }
        public virtual DbSet<PlaceCountType> PlaceCountTypes { get; set; }
        public virtual DbSet<Position> Positions { get; set; }
        public virtual DbSet<PositionKind> PositionKinds { get; set; }
        public virtual DbSet<PreSchoolEvaluation> PreSchoolEvaluations { get; set; }
        public virtual DbSet<PreSchoolReadiness> PreSchoolReadinesses { get; set; }
        public virtual DbSet<PrintTemplate> PrintTemplates { get; set; }
        public virtual DbSet<ProfSubjectType> ProfSubjectTypes { get; set; }
        public virtual DbSet<ProfileClass> ProfileClasses { get; set; }
        public virtual DbSet<ProjectPartnerType> ProjectPartnerTypes { get; set; }
        public virtual DbSet<ProjectPriorityAreaType> ProjectPriorityAreaTypes { get; set; }
        public virtual DbSet<ProjectProgramType> ProjectProgramTypes { get; set; }
        public virtual DbSet<ProjectType> ProjectTypes { get; set; }
        public virtual DbSet<PublicCouncilRole> PublicCouncilRoles { get; set; }
        public virtual DbSet<PublicCouncilType> PublicCouncilTypes { get; set; }
        public virtual DbSet<QcourseActType> QcourseActTypes { get; set; }
        public virtual DbSet<QcourseBudgetSourceType> QcourseBudgetSourceTypes { get; set; }
        public virtual DbSet<QcourseDurationType> QcourseDurationTypes { get; set; }
        public virtual DbSet<QcourseType> QcourseTypes { get; set; }
        public virtual DbSet<ReasonForEqualizationType> ReasonForEqualizationTypes { get; set; }
        public virtual DbSet<ReasonForReassessmentType> ReasonForReassessmentTypes { get; set; }
        public virtual DbSet<Reassessment> Reassessments { get; set; }
        public virtual DbSet<ReassessmentDetail> ReassessmentDetails { get; set; }
        public virtual DbSet<ReassessmentDocument> ReassessmentDocuments { get; set; }
        public virtual DbSet<Recognition> Recognitions { get; set; }
        public virtual DbSet<RecognitionDocument> RecognitionDocuments { get; set; }
        public virtual DbSet<RecognitionEducationLevel> RecognitionEducationLevels { get; set; }
        public virtual DbSet<RecognitionEqualization> RecognitionEqualizations { get; set; }
        public virtual DbSet<Region> Regions { get; set; }
        public virtual DbSet<Relative> Relatives { get; set; }
        public virtual DbSet<RelativeType> RelativeTypes { get; set; }
        public virtual DbSet<RelocationDocument> RelocationDocuments { get; set; }
        public virtual DbSet<RelocationDocumentCurrentTermGrade> RelocationDocumentCurrentTermGrades { get; set; }
        public virtual DbSet<RelocationDocumentDocument> RelocationDocumentDocuments { get; set; }
        public virtual DbSet<RepeaterReason> RepeaterReasons { get; set; }
        public virtual DbSet<ResourceSupport> ResourceSupports { get; set; }
        public virtual DbSet<ResourceSupportDataColumn> ResourceSupportDataColumns { get; set; }
        public virtual DbSet<ResourceSupportDatum> ResourceSupportData { get; set; }
        public virtual DbSet<ResourceSupportDocument> ResourceSupportDocuments { get; set; }
        public virtual DbSet<ResourceSupportReport> ResourceSupportReports { get; set; }
        public virtual DbSet<ResourceSupportSpecialist> ResourceSupportSpecialists { get; set; }
        public virtual DbSet<ResourceSupportSpecialistType> ResourceSupportSpecialistTypes { get; set; }
        public virtual DbSet<ResourceSupportSpecialistWorkPlace> ResourceSupportSpecialistWorkPlaces { get; set; }
        public virtual DbSet<ResourceSupportSpecialistWorkPlaceToResourceSupportType> ResourceSupportSpecialistWorkPlaceToResourceSupportTypes { get; set; }
        public virtual DbSet<ResourceSupportType> ResourceSupportTypes { get; set; }
        public virtual DbSet<Sanction> Sanctions { get; set; }
        public virtual DbSet<SanctionDocument> SanctionDocuments { get; set; }
        public virtual DbSet<SanctionType> SanctionTypes { get; set; }
        public virtual DbSet<ScholarshipAmount> ScholarshipAmounts { get; set; }
        public virtual DbSet<ScholarshipFinancingOrgan> ScholarshipFinancingOrgans { get; set; }
        public virtual DbSet<ScholarshipStudent> ScholarshipStudents { get; set; }
        public virtual DbSet<ScholarshipStudentDocument> ScholarshipStudentDocuments { get; set; }
        public virtual DbSet<ScholarshipType> ScholarshipTypes { get; set; }
        public virtual DbSet<SchoolBasicProfile> SchoolBasicProfiles { get; set; }
        public virtual DbSet<SchoolBooksAbsence> SchoolBooksAbsences { get; set; }
        public virtual DbSet<SchoolBooksGrade> SchoolBooksGrades { get; set; }
        public virtual DbSet<SchoolBooksSanction> SchoolBooksSanctions { get; set; }
        public virtual DbSet<SchoolProfile> SchoolProfiles { get; set; }
        public virtual DbSet<SchoolShiftType> SchoolShiftTypes { get; set; }
        public virtual DbSet<SchoolTypeLodAccess> SchoolTypeLodAccesses { get; set; }
        public virtual DbSet<SelfGovernment> SelfGovernments { get; set; }
        public virtual DbSet<SelfGovernmentPosition> SelfGovernmentPositions { get; set; }
        public virtual DbSet<SpecialEquipment> SpecialEquipments { get; set; }
        public virtual DbSet<SpecialNeed> SpecialNeeds { get; set; }
        public virtual DbSet<SpecialNeedsSubType> SpecialNeedsSubTypes { get; set; }
        public virtual DbSet<SpecialNeedsType> SpecialNeedsTypes { get; set; }
        public virtual DbSet<SpecialNeedsYear> SpecialNeedsYears { get; set; }
        public virtual DbSet<SpecialNeedsYearAttachment> SpecialNeedsYearAttachments { get; set; }
        public virtual DbSet<SpecialityOrdType> SpecialityOrdTypes { get; set; }
        public virtual DbSet<SppooeducArea> SppooeducAreas { get; set; }
        public virtual DbSet<SppooprofArea> SppooprofAreas { get; set; }
        public virtual DbSet<Sppooprofession> Sppooprofessions { get; set; }
        public virtual DbSet<Sppoospeciality> Sppoospecialities { get; set; }
        public virtual DbSet<StaffPosition> StaffPositions { get; set; }
        public virtual DbSet<StaffType> StaffTypes { get; set; }
        public virtual DbSet<Student> Students { get; set; }
        public virtual DbSet<StudentClass> StudentClasses { get; set; }
        public virtual DbSet<StudentClassDualFormCompany> StudentClassDualFormCompanies { get; set; }
        public virtual DbSet<StudentClassHistory> StudentClassHistories { get; set; }
        public virtual DbSet<StudentEvaluation> StudentEvaluations { get; set; }
        public virtual DbSet<StudentType> StudentTypes { get; set; }
        public virtual DbSet<Subject> Subjects { get; set; }
        public virtual DbSet<SubjectInstitution> SubjectInstitutions { get; set; }
        public virtual DbSet<SubjectType> SubjectTypes { get; set; }
        public virtual DbSet<SupportPeriod> SupportPeriods { get; set; }
        public virtual DbSet<SysRole> SysRoles { get; set; }
        public virtual DbSet<SysUser> SysUsers { get; set; }
        public virtual DbSet<SysUserSysRole> SysUserSysRoles { get; set; }
        public virtual DbSet<TeachStage> TeachStages { get; set; }
        public virtual DbSet<Template> Templates { get; set; }
        public virtual DbSet<TemplateSubject> TemplateSubjects { get; set; }
        public virtual DbSet<Town> Towns { get; set; }
        public virtual DbSet<TrustBoardRegistryStatus> TrustBoardRegistryStatuses { get; set; }
        public virtual DbSet<Uierror> Uierrors { get; set; }
        public virtual DbSet<University> Universities { get; set; }
        public virtual DbSet<UserManagementApirequest> UserManagementApirequests { get; set; }
        public virtual DbSet<VAbsenceReport> VAbsenceReports { get; set; }
        public virtual DbSet<VAspmonthlyBenefitReport> VAspmonthlyBenefitReports { get; set; }
        public virtual DbSet<VAuditLog> VAuditLogs { get; set; }
        public virtual DbSet<VAvailableArchitecture> VAvailableArchitectures { get; set; }
        public virtual DbSet<VBasicDocumentSequenceList> VBasicDocumentSequenceLists { get; set; }
        public virtual DbSet<VClassStudent> VClassStudents { get; set; }
        public virtual DbSet<VCurriculumStudentDetail> VCurriculumStudentDetails { get; set; }
        public virtual DbSet<VDiplomaList> VDiplomaLists { get; set; }
        public virtual DbSet<VDocManagementDashboard> VDocManagementDashboards { get; set; }
        public virtual DbSet<VDocManagementReport> VDocManagementReports { get; set; }
        public virtual DbSet<VFreeDocManagementApplicationItem> VFreeDocManagementApplicationItems { get; set; }
        public virtual DbSet<VInstitutionList> VInstitutionLists { get; set; }
        public virtual DbSet<VLeadTeacher> VLeadTeachers { get; set; }
        public virtual DbSet<VLoadAssessmentList> VLoadAssessmentLists { get; set; }
        public virtual DbSet<VLodStudentAbsence> VLodStudentAbsences { get; set; }
        public virtual DbSet<VLodStudentClass> VLodStudentClasses { get; set; }
        public virtual DbSet<VNotesList> VNotesLists { get; set; }
        public virtual DbSet<VOresCalendarDetail> VOresCalendarDetails { get; set; }
        public virtual DbSet<VOresList> VOresLists { get; set; }
        public virtual DbSet<VPersonDetail> VPersonDetails { get; set; }
        public virtual DbSet<VPersonExtendedDetail> VPersonExtendedDetails { get; set; }
        public virtual DbSet<VRefugeeAdmissionDetail> VRefugeeAdmissionDetails { get; set; }
        public virtual DbSet<VRegBookCertificate> VRegBookCertificates { get; set; }
        public virtual DbSet<VRegBookCertificateBasicDocument> VRegBookCertificateBasicDocuments { get; set; }
        public virtual DbSet<VRegBookCertificateDuplicate> VRegBookCertificateDuplicates { get; set; }
        public virtual DbSet<VRegBookCertificateDuplicateBasicDocument> VRegBookCertificateDuplicateBasicDocuments { get; set; }
        public virtual DbSet<VRegBookQualification> VRegBookQualifications { get; set; }
        public virtual DbSet<VRegBookQualificationBasicDocument> VRegBookQualificationBasicDocuments { get; set; }
        public virtual DbSet<VRegBookQualificationDuplicate> VRegBookQualificationDuplicates { get; set; }
        public virtual DbSet<VRegBookQualificationDuplicateBasicDocument> VRegBookQualificationDuplicateBasicDocuments { get; set; }
        public virtual DbSet<VRoomsAndEquipment> VRoomsAndEquipments { get; set; }
        public virtual DbSet<VSchoolBooksAbsence> VSchoolBooksAbsences { get; set; }
        public virtual DbSet<VSchoolBooksAbsencesGroup> VSchoolBooksAbsencesGroups { get; set; }
        public virtual DbSet<VSchoolBooksGrade> VSchoolBooksGrades { get; set; }
        public virtual DbSet<VSchoolBooksSanction> VSchoolBooksSanctions { get; set; }
        public virtual DbSet<VSobStudentClassDetail> VSobStudentClassDetails { get; set; }
        public virtual DbSet<VSopEnrollmentDetail> VSopEnrollmentDetails { get; set; }
        public virtual DbSet<VStudentAbsencesList> VStudentAbsencesLists { get; set; }
        public virtual DbSet<VStudentClassDetail> VStudentClassDetails { get; set; }
        public virtual DbSet<VStudentClassTimeLineList> VStudentClassTimeLineLists { get; set; }
        public virtual DbSet<VStudentDiploma> VStudentDiplomas { get; set; }
        public virtual DbSet<VStudentDualFormDetail> VStudentDualFormDetails { get; set; }
        public virtual DbSet<VStudentEnvironmentCharacteristic> VStudentEnvironmentCharacteristics { get; set; }
        public virtual DbSet<VStudentEplrHoursTaken> VStudentEplrHoursTakens { get; set; }
        public virtual DbSet<VStudentExternalEvaluation> VStudentExternalEvaluations { get; set; }
        public virtual DbSet<VStudentGeneralTrainingDatum> VStudentGeneralTrainingData { get; set; }
        public virtual DbSet<VStudentList> VStudentLists { get; set; }
        public virtual DbSet<VStudentLodAsssessment> VStudentLodAsssessments { get; set; }
        public virtual DbSet<VStudentLodAsssessmentList> VStudentLodAsssessmentLists { get; set; }
        public virtual DbSet<VStudentLodCurrentAsssessment> VStudentLodCurrentAsssessments { get; set; }
        public virtual DbSet<VStudentLodFinalization> VStudentLodFinalizations { get; set; }
        public virtual DbSet<VStudentSummary> VStudentSummaries { get; set; }
        public virtual DbSet<VStudentsToDischarge> VStudentsToDischarges { get; set; }
        public virtual DbSet<VStudentsToEnroll> VStudentsToEnrolls { get; set; }
        public virtual DbSet<Validation> Validations { get; set; }
        public virtual DbSet<ValidationDocument> ValidationDocuments { get; set; }
        public virtual DbSet<VehicleDocumentType> VehicleDocumentTypes { get; set; }
        public virtual DbSet<WorkStatus> WorkStatuses { get; set; }

        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<Absence>(entity =>
            {
                entity.ToTable("Absence", "student");

                entity.HasIndex(e => e.AbsenceImportId);

                entity.HasIndex(e => new { e.PersonId, e.SchoolYear, e.Month, e.InstitutionId })
                    .HasName("AK_PersonId_SchoolYear_Month_InstitutionId")
                    .IsUnique();

                entity.HasIndex(e => new { e.PersonId, e.Excused, e.Unexcused, e.InstitutionId, e.SchoolYear, e.Month })
                    .HasName("IX_StudentAbsene_SchoolYear_Month");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Excused).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.Unexcused).HasColumnType("decimal(5, 2)");

                entity.HasOne(d => d.AbsenceImport)
                    .WithMany(p => p.Absences)
                    .HasForeignKey(d => d.AbsenceImportId)
                    .HasConstraintName("FK_Absence_AbsenceImport");

                entity.HasOne(d => d.Class)
                    .WithMany(p => p.Absences)
                    .HasForeignKey(d => d.ClassId)
                    .HasConstraintName("FK_StudentAbsence_ClassGroup");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AbsenceCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Absence_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AbsenceModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Absence_ModifiedSysUser");

                entity.HasOne(d => d.MonthNavigation)
                    .WithMany(p => p.Absences)
                    .HasForeignKey(d => d.Month)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Absence_Month");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Absences)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Absence_Person");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Absences)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Absence_InstitutionSchoolYear");
            });

            modelBuilder.Entity<AbsenceCampaign>(entity =>
            {
                entity.ToTable("AbsenceCampaign", "student");

                entity.HasIndex(e => new { e.SchoolYear, e.Month })
                    .HasName("AK_AbsenceCampaign_SchoolYear_Month")
                    .IsUnique();

                entity.HasIndex(e => new { e.FromDate, e.ToDate, e.IsManuallyActivated, e.SchoolYear, e.Month })
                    .HasName("IX_AbsenceCampaign_SchoolYear_Month");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.FromDate).HasColumnType("date");

                entity.Property(e => e.Name).HasMaxLength(255);

                entity.Property(e => e.ToDate).HasColumnType("date");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AbsenceCampaignCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceCampaign_Creator");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AbsenceCampaignModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AbsenceCampaign_Updater");

                entity.HasOne(d => d.MonthNavigation)
                    .WithMany(p => p.AbsenceCampaigns)
                    .HasForeignKey(d => d.Month)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceCampaign_Month");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.AbsenceCampaigns)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceCampaign_CurrentSchoolYear");
            });

            modelBuilder.Entity<AbsenceExport>(entity =>
            {
                entity.ToTable("AbsenceExport", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AbsenceExportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceExport_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AbsenceExportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AbsenceExport_ModifiedSysUser");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.AbsenceExports)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceExport_SchoolYear");
            });

            modelBuilder.Entity<AbsenceHistory>(entity =>
            {
                entity.ToTable("AbsenceHistory", "student");

                entity.HasIndex(e => e.AbsenceId);

                entity.Property(e => e.Excused).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.Unexcused).HasColumnType("decimal(5, 2)");

                entity.HasOne(d => d.Absence)
                    .WithMany(p => p.AbsenceHistories)
                    .HasForeignKey(d => d.AbsenceId)
                    .HasConstraintName("FK_AbsenceHistory_Absence");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AbsenceHistories)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceHistory_ModifiedSysUser");
            });

            modelBuilder.Entity<AbsenceImport>(entity =>
            {
                entity.ToTable("AbsenceImport", "student");

                entity.HasIndex(e => new { e.InstitutionId, e.SchoolYear, e.Month })
                    .HasName("IX_Absence_Institution_SchoolYear_Month");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AbsenceImportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceImport_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AbsenceImportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AbsenceImport_ModifiedSysUser");

                entity.HasOne(d => d.MonthNavigation)
                    .WithMany(p => p.AbsenceImports)
                    .HasForeignKey(d => d.Month)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceImport_Month");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.AbsenceImports)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceImport_InstitutionSchoolYear");

                entity.HasOne(d => d.AbsenceCampaign)
                    .WithMany(p => p.AbsenceImports)
                    .HasPrincipalKey(p => new { p.SchoolYear, p.Month })
                    .HasForeignKey(d => new { d.SchoolYear, d.Month })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AbsenceImport_AbsenceCampaign");
            });

            modelBuilder.Entity<AcquisitionWayType>(entity =>
            {
                entity.ToTable("AcquisitionWayType", "inst_nom");

                entity.Property(e => e.AcquisitionWayTypeId)
                    .HasColumnName("AcquisitionWayTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<AdditionalPersonalDevelopmentSupport>(entity =>
            {
                entity.ToTable("AdditionalPersonalDevelopmentSupport", "student");

                entity.HasIndex(e => new { e.PersonId, e.SchoolYear, e.StudentTypeId })
                    .HasName("UQ_AdditionalPersonalDevelopmentSupport_Person_SchoolTear_StudentType")
                    .IsUnique()
                    .HasFilter("([IsSuspended]=(0))");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.OrderNumber)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.SuspensionReason).HasMaxLength(4000);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupport_CreatedBySysUserId");

                entity.HasOne(d => d.FinalSchoolYearNavigation)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportFinalSchoolYearNavigations)
                    .HasForeignKey(d => d.FinalSchoolYear)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupport_FinalSchoolYear");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupport_ModifiedBySysUserId");

                entity.HasOne(d => d.PeriodType)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupports)
                    .HasForeignKey(d => d.PeriodTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupport_PeriodType");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupports)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupport_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportSchoolYearNavigations)
                    .HasPrincipalKey(p => p.TempCurrentYearId)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupport_SchoolYear");

                entity.HasOne(d => d.StudentType)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupports)
                    .HasForeignKey(d => d.StudentTypeId)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupport_StudentType");
            });

            modelBuilder.Entity<AdditionalPersonalDevelopmentSupportAttachment>(entity =>
            {
                entity.ToTable("AdditionalPersonalDevelopmentSupportAttachment", "student");

                entity.HasIndex(e => e.AdditionalPersonalDevelopmentSupportId);

                entity.HasIndex(e => e.Type);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Type)
                    .IsRequired()
                    .HasMaxLength(50);

                entity.HasOne(d => d.AdditionalPersonalDevelopmentSupport)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportAttachments)
                    .HasForeignKey(d => d.AdditionalPersonalDevelopmentSupportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupportAttachment_Support");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportAttachmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupportAttachment_Creator");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportAttachments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupportAttachment_Document");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportAttachmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupportAttachment_Updater");
            });

            modelBuilder.Entity<AdditionalPersonalDevelopmentSupportItem>(entity =>
            {
                entity.ToTable("AdditionalPersonalDevelopmentSupportItem", "student");

                entity.HasIndex(e => e.AdditionalPersonalDevelopmentSupportId);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Details).HasMaxLength(4000);

                entity.Property(e => e.SuspensionReason).HasMaxLength(4000);

                entity.HasOne(d => d.AdditionalPersonalDevelopmentSupport)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportItems)
                    .HasForeignKey(d => d.AdditionalPersonalDevelopmentSupportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupportItem_Support");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportItemCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupportItem_Creator");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportItemModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupportItem_Updater");

                entity.HasOne(d => d.Type)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportItems)
                    .HasForeignKey(d => d.TypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupportItem_Type");
            });

            modelBuilder.Entity<AdditionalPersonalDevelopmentSupportItemAttachment>(entity =>
            {
                entity.ToTable("AdditionalPersonalDevelopmentSupportItemAttachment", "student");

                entity.HasIndex(e => new { e.AdditionalPersonalDevelopmentSupportItemId, e.Type })
                    .HasName("IX_AdditionalPersonalDevelopmentSupportItemAttachment_Item_Type");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Type)
                    .IsRequired()
                    .HasMaxLength(50);

                entity.HasOne(d => d.AdditionalPersonalDevelopmentSupportItem)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportItemAttachments)
                    .HasForeignKey(d => d.AdditionalPersonalDevelopmentSupportItemId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupportItemAttachment_SupportItem");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportItemAttachmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupportItemAttachmentt_Creator");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportItemAttachments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupportItemAttachment_Document");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AdditionalPersonalDevelopmentSupportItemAttachmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AdditionalPersonalDevelopmentSupportItemAttachment_Updater");
            });

            modelBuilder.Entity<AdditionalSupportType>(entity =>
            {
                entity.ToTable("AdditionalSupportType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<AdmissionDocument>(entity =>
            {
                entity.ToTable("AdmissionDocument", "student");

                entity.HasIndex(e => e.CurrentStudentClassId)
                    .HasName("IX_AdmissionDocument_StudentClassId");

                entity.HasIndex(e => e.PersonId);

                entity.Property(e => e.AdmissionDate).HasColumnType("date");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DischargeDate).HasColumnType("date");

                entity.Property(e => e.NoteDate).HasColumnType("date");

                entity.Property(e => e.NoteNumber)
                    .IsRequired()
                    .HasMaxLength(20);

                entity.Property(e => e.PositionId).HasDefaultValueSql("((3))");

                entity.HasOne(d => d.AdmissionReasonType)
                    .WithMany(p => p.AdmissionDocuments)
                    .HasForeignKey(d => d.AdmissionReasonTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionDocument_AdmissionReasonType");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AdmissionDocumentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionDocument_Creator_SysUser");

                entity.HasOne(d => d.CurrentStudentClass)
                    .WithMany(p => p.AdmissionDocuments)
                    .HasForeignKey(d => d.CurrentStudentClassId)
                    .HasConstraintName("FK_AdmissionDocument_StudentClass");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AdmissionDocumentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AdmissionDocument_Updater_SysUserd");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.AdmissionDocuments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionDocument_Person");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.AdmissionDocuments)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .HasConstraintName("FK_AdmissionDocument_RelocationDocument");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.AdmissionDocuments)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionDocument_Institution_SchoolYear");
            });

            modelBuilder.Entity<AdmissionDocumentDocument>(entity =>
            {
                entity.ToTable("AdmissionDocumentDocument", "student");

                entity.HasOne(d => d.AdmissionDocument)
                    .WithMany(p => p.AdmissionDocumentDocuments)
                    .HasForeignKey(d => d.AdmissionDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionDocumentDocument_AdmissionDocument");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.AdmissionDocumentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionDocumentDocument_Document");
            });

            modelBuilder.Entity<AdmissionPermissionRequest>(entity =>
            {
                entity.ToTable("AdmissionPermissionRequest", "student");

                entity.HasIndex(e => e.PersonId);

                entity.HasIndex(e => new { e.AuthorizingInstitutionId, e.IsPermissionGranted });

                entity.HasIndex(e => new { e.AdmissionDocumentId, e.RequestingInstitutionId, e.IsPermissionGranted })
                    .HasName("IX_AdmissionPermissionRequest_RequestingInstitutionId_IsPermissionGranted");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Note).HasMaxLength(2048);

                entity.HasOne(d => d.AdmissionDocument)
                    .WithMany(p => p.AdmissionPermissionRequests)
                    .HasForeignKey(d => d.AdmissionDocumentId)
                    .HasConstraintName("FK_AdmissionPermissionRequest_AdmissionDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AdmissionPermissionRequestCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionPermissionRequest_Creator_SysUser");

                entity.HasOne(d => d.DischargeDocument)
                    .WithMany(p => p.AdmissionPermissionRequests)
                    .HasForeignKey(d => d.DischargeDocumentId)
                    .HasConstraintName("FK_AdmissionPermissionRequest_DischageDocument");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AdmissionPermissionRequestModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AdmissionPermissionRequest_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.AdmissionPermissionRequests)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionPermissionRequest_Person");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.AdmissionPermissionRequests)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .HasConstraintName("FK_AdmissionPermissionRequest_RelocationDocument");

                entity.HasOne(d => d.AuthorizingInstitution)
                    .WithMany(p => p.AdmissionPermissionRequestAuthorizingInstitutions)
                    .HasForeignKey(d => new { d.AuthorizingInstitutionId, d.AuthorizingInstitutionSchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionPermissionRequest_InstitutionSchoolYear_AuthorizingInstitution");

                entity.HasOne(d => d.RequestingInstitution)
                    .WithMany(p => p.AdmissionPermissionRequestRequestingInstitutions)
                    .HasForeignKey(d => new { d.RequestingInstitutionId, d.RequestingInstitutionSchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionPermissionRequest_InstitutionSchoolYear_RequestingInstitution");
            });

            modelBuilder.Entity<AdmissionPermissionRequestAttachment>(entity =>
            {
                entity.ToTable("AdmissionPermissionRequestAttachment", "student");

                entity.HasIndex(e => e.AdmissionPermissionRequestId)
                    .HasName("IX_AdmissionPermissionRequestAttachmen_AdmissionPermissionRequestId");

                entity.HasOne(d => d.AdmissionPermissionRequest)
                    .WithMany(p => p.AdmissionPermissionRequestAttachments)
                    .HasForeignKey(d => d.AdmissionPermissionRequestId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionPermissionRequestAttachment_Equalization");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.AdmissionPermissionRequestAttachments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AdmissionPermissionRequestAttachment_Document");
            });

            modelBuilder.Entity<AdmissionReasonType>(entity =>
            {
                entity.ToTable("AdmissionReasonType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<AppSetting>(entity =>
            {
                entity.HasKey(e => e.Key)
                    .HasName("PK__AppSetti__C41E02889C74E37A");

                entity.ToTable("AppSettings", "student");

                entity.Property(e => e.Key).HasMaxLength(255);
            });

            modelBuilder.Entity<AppSettingsForTenant>(entity =>
            {
                entity.HasKey(e => new { e.InstitutionId, e.Key })
                    .HasName("PK__AppSetti__11B75685575D595D");

                entity.ToTable("AppSettingsForTenant", "student");

                entity.Property(e => e.Key).HasMaxLength(255);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((8))");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AppSettingsForTenantCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AppSettingsForTenant_SysUser_Creator");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AppSettingsForTenantModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AppSettingsForTenant_SysUser_Updater");
            });

            modelBuilder.Entity<Application>(entity =>
            {
                entity.ToTable("Application", "refugee");

                entity.Property(e => e.Address).HasMaxLength(2048);

                entity.Property(e => e.ApplicantFullName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ApplicationDate).HasColumnType("date");

                entity.Property(e => e.CancellationReason).HasMaxLength(1000);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Email).HasMaxLength(100);

                entity.Property(e => e.NationalityId).HasColumnName("NationalityID");

                entity.Property(e => e.PersonalId)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");

                entity.Property(e => e.Phone).HasMaxLength(100);

                entity.Property(e => e.StatusName)
                    .HasMaxLength(21)
                    .HasComputedColumnSql("(case [Status] when (0) then N'В процес на обработка' when (1) then N'Обработен' when (2) then N'Анулиран'  end)");

                entity.HasOne(d => d.CancelledBySysUser)
                    .WithMany(p => p.ApplicationCancelledBySysUsers)
                    .HasForeignKey(d => d.CancelledBySysUserId)
                    .HasConstraintName("FK_RefugeeApplication_CancelledBy_SysUser");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ApplicationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RefugeeApplication_Creator_SysUser");

                entity.HasOne(d => d.GuardianType)
                    .WithMany(p => p.Applications)
                    .HasForeignKey(d => d.GuardianTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RefugeeApplication_GuardianType");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ApplicationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_RefugeeApplication_Updater_SysUser");

                entity.HasOne(d => d.Nationality)
                    .WithMany(p => p.Applications)
                    .HasForeignKey(d => d.NationalityId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RefugeeApplication_Country");

                entity.HasOne(d => d.PersonalIdtypeNavigation)
                    .WithMany(p => p.Applications)
                    .HasForeignKey(d => d.PersonalIdtype)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RefugeeApplication_PersonalIDType");

                entity.HasOne(d => d.Region)
                    .WithMany(p => p.Applications)
                    .HasForeignKey(d => d.RegionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RefugeeApplication_RegionId");

                entity.HasOne(d => d.Town)
                    .WithMany(p => p.Applications)
                    .HasForeignKey(d => d.TownId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RefugeeApplication_Town");
            });

            modelBuilder.Entity<ApplicationChild>(entity =>
            {
                entity.ToTable("ApplicationChild", "refugee");

                entity.HasIndex(e => e.ApplicationId);

                entity.HasIndex(e => e.InstitutionId);

                entity.HasIndex(e => new { e.ApplicationId, e.PersonId })
                    .HasName("AK_ApplicationChild_ApplicationId_PersonId")
                    .IsUnique()
                    .HasFilter("([PersonId] IS NOT NULL)");

                entity.Property(e => e.Address).HasMaxLength(2048);

                entity.Property(e => e.BglanguageSkill).HasColumnName("BGLanguageSkill");

                entity.Property(e => e.BirthDate).HasColumnType("date");

                entity.Property(e => e.CancellationReason).HasMaxLength(1000);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DelanguageSkill).HasColumnName("DELanguageSkill");

                entity.Property(e => e.Email).HasMaxLength(100);

                entity.Property(e => e.EnlanguageSkill).HasColumnName("ENLanguageSkill");

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.FrlanguageSkill).HasColumnName("FRLanguageSkill");

                entity.Property(e => e.IsForCsop).HasColumnName("IsForCSOP");

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.NationalityId).HasColumnName("NationalityID");

                entity.Property(e => e.OtherLanguageName).HasMaxLength(100);

                entity.Property(e => e.PersonalId)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");

                entity.Property(e => e.Phone).HasMaxLength(100);

                entity.Property(e => e.Profession).HasMaxLength(100);

                entity.Property(e => e.RuodocDate)
                    .HasColumnName("RUODocDate")
                    .HasColumnType("date");

                entity.Property(e => e.RuodocNumber)
                    .HasColumnName("RUODocNumber")
                    .HasMaxLength(50);

                entity.Property(e => e.StatusName)
                    .HasMaxLength(21)
                    .HasComputedColumnSql("(case [Status] when (0) then N'В процес на обработка' when (1) then N'Обработен' when (2) then N'Анулиран'  end)");

                entity.HasOne(d => d.AdmissionDocument)
                    .WithMany(p => p.ApplicationChildren)
                    .HasForeignKey(d => d.AdmissionDocumentId)
                    .HasConstraintName("FK_ApplicationChild_AdmissionDocument");

                entity.HasOne(d => d.Application)
                    .WithMany(p => p.ApplicationChildren)
                    .HasForeignKey(d => d.ApplicationId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ApplicationChild_Application");

                entity.HasOne(d => d.CancelledBySysUser)
                    .WithMany(p => p.ApplicationChildCancelledBySysUsers)
                    .HasForeignKey(d => d.CancelledBySysUserId)
                    .HasConstraintName("FK_RefugeeApplicationChild_CancelledBy_SysUser");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ApplicationChildCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RefugeeApplicationChild_Creator_SysUser");

                entity.HasOne(d => d.Gender)
                    .WithMany(p => p.ApplicationChildren)
                    .HasForeignKey(d => d.GenderId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RefugeeApplicationChild_GenderId");

                entity.HasOne(d => d.LastBasicClass)
                    .WithMany(p => p.ApplicationChildren)
                    .HasForeignKey(d => d.LastBasicClassId)
                    .HasConstraintName("FK_RefugeeApplicationChild_BasicClass");

                entity.HasOne(d => d.LastInstitutionCountryNavigation)
                    .WithMany(p => p.ApplicationChildLastInstitutionCountryNavigations)
                    .HasForeignKey(d => d.LastInstitutionCountry)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RefugeeApplicationChild_LastInstitutionCountry");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ApplicationChildModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_RefugeeApplicationChild_Updater_SysUser");

                entity.HasOne(d => d.Nationality)
                    .WithMany(p => p.ApplicationChildNationalities)
                    .HasForeignKey(d => d.NationalityId)
                    .HasConstraintName("FK_RefugeeApplicationChild_Country");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.ApplicationChildren)
                    .HasForeignKey(d => d.PersonId)
                    .HasConstraintName("FK_ApplicationChild_Person");

                entity.HasOne(d => d.PersonalIdtypeNavigation)
                    .WithMany(p => p.ApplicationChildren)
                    .HasForeignKey(d => d.PersonalIdtype)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RefugeeApplicationChild_PersonalIDType");

                entity.HasOne(d => d.Town)
                    .WithMany(p => p.ApplicationChildren)
                    .HasForeignKey(d => d.TownId)
                    .HasConstraintName("FK_RefugeeApplicationChild_Town");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.ApplicationChildren)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_ApplicationChild_InstitutionSchoolYear");
            });

            modelBuilder.Entity<ApplicationDocument>(entity =>
            {
                entity.ToTable("ApplicationDocument", "refugee");

                entity.HasOne(d => d.Application)
                    .WithMany(p => p.ApplicationDocuments)
                    .HasForeignKey(d => d.ApplicationId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ApplicationDocument_ApplicationChild");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.ApplicationDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_NoteDocument_Document");
            });

            modelBuilder.Entity<AspAskingTemp>(entity =>
            {
                entity.ToTable("AspAskingTemp", "student");

                entity.HasIndex(e => e.TargetMonth);

                entity.HasIndex(e => new { e.IdType, e.IdNumber })
                    .HasName("IX_AspAskingTemp_ID_NUMBER");

                entity.Property(e => e.FlagKor)
                    .HasColumnName("FLAG_KOR")
                    .HasMaxLength(1)
                    .IsUnicode(false);

                entity.Property(e => e.FlagOsn)
                    .HasColumnName("FLAG_OSN")
                    .HasMaxLength(1)
                    .IsUnicode(false);

                entity.Property(e => e.IdNumber)
                    .IsRequired()
                    .HasColumnName("ID_NUMBER")
                    .HasMaxLength(10)
                    .IsUnicode(false);

                entity.Property(e => e.IdType)
                    .IsRequired()
                    .HasColumnName("ID_TYPE")
                    .HasMaxLength(1)
                    .IsUnicode(false);

                entity.Property(e => e.TargetMonth)
                    .HasColumnName("TARGET_MONTH")
                    .HasColumnType("datetime");
            });

            modelBuilder.Entity<AspSubmittedDataHistory>(entity =>
            {
                entity.ToTable("AspSubmittedDataHistory", "student");

                entity.HasIndex(e => new { e.PersonalId, e.PersonalIdType });

                entity.HasIndex(e => new { e.Year, e.Month, e.ExportTypeCode });

                entity.Property(e => e.Aspstatus).HasColumnName("ASPStatus");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ExportTypeCode)
                    .IsRequired()
                    .HasMaxLength(10)
                    .IsUnicode(false);

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(25);

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(25);

                entity.Property(e => e.MiddleName).HasMaxLength(25);

                entity.Property(e => e.PersonalId)
                    .IsRequired()
                    .HasMaxLength(10)
                    .IsUnicode(false);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AspSubmittedDataHistories)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AspExportedDataHistory_CreatedSysUser");

                entity.HasOne(d => d.MonthNavigation)
                    .WithMany(p => p.AspSubmittedDataHistories)
                    .HasForeignKey(d => d.Month)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AspSubmittedDataHistory_Month");

                entity.HasOne(d => d.PersonalIdTypeNavigation)
                    .WithMany(p => p.AspSubmittedDataHistories)
                    .HasForeignKey(d => d.PersonalIdType)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AspSubmittedDataHistory_PersonalIdType");
            });

            modelBuilder.Entity<AspZpTemp>(entity =>
            {
                entity.ToTable("AspZpTemp", "student");

                entity.HasIndex(e => e.TargetMonth);

                entity.Property(e => e.Id).HasColumnName("id");

                entity.Property(e => e.FirstName).HasMaxLength(255);

                entity.Property(e => e.LastName).HasMaxLength(255);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.PersonalId)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.PersonalIdTypeId)
                    .IsRequired()
                    .HasMaxLength(1);
            });

            modelBuilder.Entity<AspenrolledStudentsExport>(entity =>
            {
                entity.ToTable("ASPEnrolledStudentsExport", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AspenrolledStudentsExportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPEnrolledStudentsExport_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AspenrolledStudentsExportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ASPEnrolledStudentsExport_ModifiedSysUser");
            });

            modelBuilder.Entity<AspmonthlyBenefit>(entity =>
            {
                entity.ToTable("ASPMonthlyBenefit", "student");

                entity.HasIndex(e => e.AspmonthlyBenefitsImportId);

                entity.HasIndex(e => e.CurrentInstitutionId);

                entity.Property(e => e.AbsenceCorrection).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.AbsenceCount).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.AspmonthlyBenefitsImportId).HasColumnName("ASPMonthlyBenefitsImportId");

                entity.Property(e => e.Aspstatus).HasColumnName("ASPStatus");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Monstatus).HasColumnName("MONStatus");

                entity.Property(e => e.Reason).HasMaxLength(2000);

                entity.Property(e => e.StatusAspname)
                    .IsRequired()
                    .HasColumnName("StatusASPName")
                    .HasMaxLength(9)
                    .HasComputedColumnSql("(case [ASPStatus] when (0) then N'Отсъствие' when (1) then N'Отписан' when (2) then N'ОРЕС' else N'' end)");

                entity.Property(e => e.StatusNeispuoname)
                    .IsRequired()
                    .HasColumnName("StatusNEISPUOName")
                    .HasMaxLength(57)
                    .HasComputedColumnSql("(case [MONStatus] when (0) then N'За преглед' when (1) then N'Потвърждавам (прекратяването на помощите/брой дни в ОРЕС)' when (2) then N'Отказвам, няма основания' else N'' end)");

                entity.HasOne(d => d.AspmonthlyBenefitsImport)
                    .WithMany(p => p.AspmonthlyBenefits)
                    .HasForeignKey(d => d.AspmonthlyBenefitsImportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefits_ASPMonthlyBenefitsImport");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefits_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ASPMonthlyBenefits_ModifiedSysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.AspmonthlyBenefits)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefit_Person");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.AspmonthlyBenefitInstitutionSchoolYears)
                    .HasForeignKey(d => new { d.CurrentInstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_ASPMonthlyBenefits_CurrentInstitutionSchoolYear");

                entity.HasOne(d => d.InstitutionSchoolYearNavigation)
                    .WithMany(p => p.AspmonthlyBenefitInstitutionSchoolYearNavigations)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefits_InstitutionSchoolYear");
            });

            modelBuilder.Entity<AspmonthlyBenefitInstitution>(entity =>
            {
                entity.ToTable("ASPMonthlyBenefitInstitution", "student");

                entity.HasIndex(e => new { e.IsSigned, e.InstitutionId, e.AspmonthlyBenefitImportId })
                    .HasName("IX_ASPMonthlyBenefitInstitution_InstitutionId_ASPMonthlyBenefitImportId");

                entity.Property(e => e.AspmonthlyBenefitImportId).HasColumnName("ASPMonthlyBenefitImportId");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.AspmonthlyBenefitImport)
                    .WithMany(p => p.AspmonthlyBenefitInstitutions)
                    .HasForeignKey(d => d.AspmonthlyBenefitImportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefitImportInsitution_Import");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitInstitutionCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefitInstitution_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitInstitutionModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ASPMonthlyBenefitInstitution_Updater_SysUser");
            });

            modelBuilder.Entity<AspmonthlyBenefitsImport>(entity =>
            {
                entity.ToTable("ASPMonthlyBenefitsImport", "student");

                entity.HasIndex(e => e.AspSessionNo);

                entity.HasIndex(e => new { e.SchoolYear, e.Month })
                    .HasName("AK_ASPMonthlyBenefitsImport_SchoolYear_Month")
                    .IsUnique();

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ExportedBySysUserId).HasColumnName("ExportedBySysUserID");

                entity.Property(e => e.FromDate).HasColumnType("date");

                entity.Property(e => e.ToDate).HasColumnType("date");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitsImportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefitsImport_CreatedSysUser");

                entity.HasOne(d => d.ExportedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitsImportExportedBySysUsers)
                    .HasForeignKey(d => d.ExportedBySysUserId)
                    .HasConstraintName("FK_ASPMonthlyBenefitsImport_ExportedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AspmonthlyBenefitsImportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ASPMonthlyBenefitsImport_ModifiedSysUser");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.AspmonthlyBenefitsImports)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ASPMonthlyBenefitsImport_SchoolYear");
            });

            modelBuilder.Entity<Attendance>(entity =>
            {
                entity.HasKey(e => new { e.SchoolYear, e.AttendanceId })
                    .IsClustered(false);

                entity.ToTable("Attendance", "school_books");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassBookId, e.AttendanceId })
                    .HasName("UK_Attendance")
                    .IsUnique()
                    .IsClustered();

                entity.HasIndex(e => new { e.SchoolYear, e.ClassBookId, e.PersonId, e.Date })
                    .HasName("UK_Attendance_ClassBookId_PersonId_Date")
                    .IsUnique();

                entity.Property(e => e.Date).HasColumnType("date");

                entity.Property(e => e.ExcusedReasonComment).HasMaxLength(1000);

                entity.Property(e => e.Version)
                    .IsRequired()
                    .IsRowVersion()
                    .IsConcurrencyToken();

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AttendanceCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Attendance_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AttendanceModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Attendance_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Attendances)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Attendance_Person");

                entity.HasOne(d => d.ClassBook)
                    .WithMany(p => p.Attendances)
                    .HasForeignKey(d => new { d.SchoolYear, d.ClassBookId })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Attendance_ClassBook");
            });

            modelBuilder.Entity<Audit>(entity =>
            {
                entity.HasKey(e => new { e.DateUtc, e.AuditId });

                entity.ToTable("Audit", "logs");

                entity.HasIndex(e => new { e.DateUtc, e.LoginSessionId })
                    .HasName("IX_Audit_LoginSession");

                entity.Property(e => e.AuditId).ValueGeneratedOnAdd();

                entity.Property(e => e.Action)
                    .IsRequired()
                    .HasMaxLength(50);

                entity.Property(e => e.AuditCorrelationId).HasMaxLength(50);

                entity.Property(e => e.Data).IsRequired();

                entity.Property(e => e.LoginSessionId).HasMaxLength(50);

                entity.Property(e => e.ObjectName).HasMaxLength(50);

                entity.Property(e => e.RemoteIpAddress)
                    .IsRequired()
                    .HasMaxLength(50);

                entity.Property(e => e.UserAgent).IsRequired();

                entity.HasOne(d => d.AuditModule)
                    .WithMany(p => p.Audits)
                    .HasForeignKey(d => d.AuditModuleId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Audit_AuditModuleId");
            });

            modelBuilder.Entity<AuditModule>(entity =>
            {
                entity.ToTable("AuditModule", "logs");

                entity.Property(e => e.AuditModuleId).ValueGeneratedNever();

                entity.Property(e => e.Name).IsRequired();
            });

            modelBuilder.Entity<AvailableArchitecture>(entity =>
            {
                entity.ToTable("AvailableArchitecture", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.StudentClassId).HasColumnName("StudentClassID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AvailableArchitectureCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AvailableArchitecture_Creator_SysUser");

                entity.HasOne(d => d.ModernizationDegree)
                    .WithMany(p => p.AvailableArchitectures)
                    .HasForeignKey(d => d.ModernizationDegreeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AvailableArchitecture_ModernizationDegree");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AvailableArchitectureModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_AvailableArchitecture_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.AvailableArchitectures)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AvailableArchitecture_Student");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.AvailableArchitectures)
                    .HasForeignKey(d => d.StudentClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AvailableArchitecture_StudentClassId");
            });

            modelBuilder.Entity<Award>(entity =>
            {
                entity.ToTable("Award", "student");

                entity.Property(e => e.AdditionalInformation).HasMaxLength(2048);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Date).HasColumnType("date");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.OrderNumber).HasMaxLength(255);

                entity.HasOne(d => d.AwardCategory)
                    .WithMany(p => p.Awards)
                    .HasForeignKey(d => d.AwardCategoryId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Award_AwardCategory");

                entity.HasOne(d => d.AwardReason)
                    .WithMany(p => p.Awards)
                    .HasForeignKey(d => d.AwardReasonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Award_AwardReason");

                entity.HasOne(d => d.AwardType)
                    .WithMany(p => p.Awards)
                    .HasForeignKey(d => d.AwardTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Award_AwardType");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.AwardCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Award_Creator_SysUser");

                entity.HasOne(d => d.Founder)
                    .WithMany(p => p.Awards)
                    .HasForeignKey(d => d.FounderId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Award_Founder");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.AwardModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Award_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Awards)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Award_Student");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Awards)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_Award_InstitutionSchoolYear");
            });

            modelBuilder.Entity<AwardCategory>(entity =>
            {
                entity.ToTable("AwardCategory", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<AwardDocument>(entity =>
            {
                entity.ToTable("AwardDocument", "student");

                entity.HasOne(d => d.Award)
                    .WithMany(p => p.AwardDocuments)
                    .HasForeignKey(d => d.AwardId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AwardDocument_Award");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.AwardDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_AwardDocument_Document");
            });

            modelBuilder.Entity<AwardReason>(entity =>
            {
                entity.ToTable("AwardReason", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<AwardType>(entity =>
            {
                entity.ToTable("AwardTypes", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<BarcodeYear>(entity =>
            {
                entity.ToTable("BarcodeYear", "document");

                entity.HasIndex(e => new { e.Edition, e.BasicDocumentId, e.SchoolYear })
                    .HasName("UQ_BarcodeYear_Edition_BasicDocumentId_SchoolYear")
                    .IsUnique();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.HeaderPage)
                    .IsRequired()
                    .HasMaxLength(128);

                entity.Property(e => e.InternalPage).HasMaxLength(128);

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.BarcodeYears)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BarcodeYear_BasicDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.BarcodeYearCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BarcodeYear_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.BarcodeYearModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_BarcodeYear_Updater_SysUser");
            });

            modelBuilder.Entity<BaseSchoolType>(entity =>
            {
                entity.ToTable("BaseSchoolType", "noms");

                entity.Property(e => e.BaseSchoolTypeId)
                    .HasColumnName("BaseSchoolTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<BasicClass>(entity =>
            {
                entity.ToTable("BasicClass", "inst_nom");

                entity.Property(e => e.BasicClassId)
                    .HasColumnName("BasicClassID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.RomeName).HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<BasicClassLimit>(entity =>
            {
                entity.ToTable("BasicClassLimit", "inst_nom");

                entity.Property(e => e.BasicClassLimitId).HasColumnName("BasicClassLimitID");

                entity.Property(e => e.BasicClassId).HasColumnName("BasicClassID");

                entity.Property(e => e.DetailedSchoolTypeId).HasColumnName("DetailedSchoolTypeID");
            });

            modelBuilder.Entity<BasicDocument>(entity =>
            {
                entity.ToTable("BasicDocument", "document");

                entity.Property(e => e.Abbreviation).HasMaxLength(255);

                entity.Property(e => e.BasicClasses).HasMaxLength(450);

                entity.Property(e => e.CodeClassName).HasMaxLength(1000);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.DetailedSchoolTypes).HasMaxLength(1000);

                entity.Property(e => e.HasSubjects)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.MainBasicDocuments).HasMaxLength(1000);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ReportFormPath).HasMaxLength(1024);

                entity.Property(e => e.SeriesFormat).HasMaxLength(100);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<BasicDocumentGenerator>(entity =>
            {
                entity.ToTable("BasicDocumentGenerator", "document");

                entity.HasIndex(e => new { e.InstitutionId, e.SchoolYear, e.BasicDocumentId, e.RegNumberTotal, e.RegNumberYear })
                    .HasName("UQ_BasicDocumentGenerator_Inst")
                    .IsUnique()
                    .HasFilter("([InstitutionId] IS NOT NULL)");

                entity.HasIndex(e => new { e.RegionId, e.SchoolYear, e.BasicDocumentId, e.RegNumberTotal, e.RegNumberYear })
                    .HasName("UQ_BasicDocumentGenerator_RUO")
                    .IsUnique()
                    .HasFilter("([RegionId] IS NOT NULL)");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.BasicDocumentGenerators)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentGenerator_BasicDocument");

                entity.HasOne(d => d.Region)
                    .WithMany(p => p.BasicDocumentGenerators)
                    .HasForeignKey(d => d.RegionId)
                    .HasConstraintName("FK_BasicDocumentGenerator_Region");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.BasicDocumentGenerators)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_BasicDocumentGenerator_InstitutionSchoolYear");
            });

            modelBuilder.Entity<BasicDocumentLimit>(entity =>
            {
                entity.ToTable("BasicDocumentLimit", "document");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.BasicDocumentLimits)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentToDetailedSchoolType_BasicDocument");

                entity.HasOne(d => d.DetailedSchoolType)
                    .WithMany(p => p.BasicDocumentLimits)
                    .HasForeignKey(d => d.DetailedSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentToDetailedSchoolType_DetailedSchoolType");
            });

            modelBuilder.Entity<BasicDocumentMargin>(entity =>
            {
                entity.ToTable("BasicDocumentMargin", "document");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.BasicDocumentMargins)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentMargin_BasicDocument");

                entity.HasOne(d => d.BasicDocumentPrintForm)
                    .WithMany(p => p.BasicDocumentMargins)
                    .HasForeignKey(d => d.BasicDocumentPrintFormId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentMargin_BasicDocumentPrintForm");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.BasicDocumentMarginCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentMargin_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.BasicDocumentMarginModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_BasicDocumentMargin_Updater_SysUser");
            });

            modelBuilder.Entity<BasicDocumentPart>(entity =>
            {
                entity.ToTable("BasicDocumentPart", "document");

                entity.Property(e => e.BasicClass).HasMaxLength(255);

                entity.Property(e => e.Code).HasMaxLength(5);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SubjectTypesList).HasDefaultValueSql("('')");

                entity.HasOne(d => d.BasicClassNavigation)
                    .WithMany(p => p.BasicDocumentParts)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_BasicDocumentPart_BasicClass");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.BasicDocumentParts)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentPart_BasicDocument");

                entity.HasOne(d => d.BasicSubjectType)
                    .WithMany(p => p.BasicDocumentParts)
                    .HasForeignKey(d => d.BasicSubjectTypeId)
                    .HasConstraintName("FK_BasicDocumentPart_BasicSubjectType");
            });

            modelBuilder.Entity<BasicDocumentPrintForm>(entity =>
            {
                entity.ToTable("BasicDocumentPrintForm", "document");

                entity.Property(e => e.ReportFormPath).HasMaxLength(1024);

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.BasicDocumentPrintForms)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentPrintForm_BasicDocument");
            });

            modelBuilder.Entity<BasicDocumentRegDate>(entity =>
            {
                entity.ToTable("BasicDocumentRegDate", "document");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.BasicDocumentRegDates)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentRegDate_BasicDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.BasicDocumentRegDateCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentRegDate_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.BasicDocumentRegDateModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_BasicDocumentRegDate_Updater_SysUser");
            });

            modelBuilder.Entity<BasicDocumentSequence>(entity =>
            {
                entity.ToTable("BasicDocumentSequence", "document");

                entity.HasIndex(e => new { e.InstitutionId, e.SchoolYear, e.BasicDocumentId, e.RegNumberTotal, e.RegNumberYear })
                    .HasName("UQ_BasicDocumentSequence_Inst")
                    .IsUnique()
                    .HasFilter("([InstitutionId] IS NOT NULL)");

                entity.HasIndex(e => new { e.RegionId, e.SchoolYear, e.BasicDocumentId, e.RegNumberTotal, e.RegNumberYear })
                    .HasName("UQ_BasicDocumentSequence_RUO")
                    .IsUnique()
                    .HasFilter("([RegionId] IS NOT NULL)");

                entity.Property(e => e.RegDate).HasColumnType("date");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.BasicDocumentSequences)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicDocumentSequence_BasicDocument");

                entity.HasOne(d => d.Region)
                    .WithMany(p => p.BasicDocumentSequences)
                    .HasForeignKey(d => d.RegionId)
                    .HasConstraintName("FK_BasicDocumentSequence_Region");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.BasicDocumentSequences)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_BasicDocumentSequence_InstitutionSchoolYear");
            });

            modelBuilder.Entity<BasicDocumentSubject>(entity =>
            {
                entity.ToTable("BasicDocumentSubject", "document");

                entity.HasOne(d => d.BasicDocumentPart)
                    .WithMany(p => p.BasicDocumentSubjects)
                    .HasForeignKey(d => d.BasicDocumentPartId)
                    .HasConstraintName("FK_BasicDocumentSubject_BasicDocumentPart");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.BasicDocumentSubjects)
                    .HasForeignKey(d => d.SubjectId)
                    .HasConstraintName("FK_BasicDocumentSubject_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.BasicDocumentSubjects)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_BasicDocumentSubject_SubjectType");
            });

            modelBuilder.Entity<BasicEducationArea>(entity =>
            {
                entity.ToTable("BasicEducationArea", "inst_nom");

                entity.Property(e => e.BasicEducationAreaId)
                    .HasColumnName("BasicEducationAreaID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<BasicSubjectType>(entity =>
            {
                entity.ToTable("BasicSubjectType", "inst_nom");

                entity.Property(e => e.BasicSubjectTypeId)
                    .HasColumnName("BasicSubjectTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Abrev).HasMaxLength(15);

                entity.Property(e => e.Name).HasMaxLength(50);
            });

            modelBuilder.Entity<BudgetingInstitution>(entity =>
            {
                entity.ToTable("BudgetingInstitution", "noms");

                entity.Property(e => e.BudgetingInstitutionId)
                    .HasColumnName("BudgetingInstitutionID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Building>(entity =>
            {
                entity.ToTable("Building", "inst_basic");

                entity.HasIndex(e => e.InstitutionDepartmentId);

                entity.HasIndex(e => e.InstitutionId);

                entity.Property(e => e.BuildingId).HasColumnName("BuildingID");

                entity.Property(e => e.BuildingTypeId).HasColumnName("BuildingTypeID");

                entity.Property(e => e.CadastralCode).HasMaxLength(50);

                entity.Property(e => e.InstitutionDepartmentId).HasColumnName("InstitutionDepartmentID");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Note).HasMaxLength(4000);

                entity.Property(e => e.SchoolShiftTypeId).HasColumnName("SchoolShiftTypeID");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.HasOne(d => d.BuildingType)
                    .WithMany(p => p.Buildings)
                    .HasForeignKey(d => d.BuildingTypeId)
                    .HasConstraintName("FK_BuildingBuildingType");

                entity.HasOne(d => d.InstitutionDepartment)
                    .WithMany(p => p.Buildings)
                    .HasForeignKey(d => d.InstitutionDepartmentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingInstitutionDepartment");

                entity.HasOne(d => d.SchoolShiftType)
                    .WithMany(p => p.Buildings)
                    .HasForeignKey(d => d.SchoolShiftTypeId)
                    .HasConstraintName("FK_BuildingSchoolShiftType");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.Buildings)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_BuildingSysUser");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Buildings)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_BuildingInstitution");
            });

            modelBuilder.Entity<BuildingArea>(entity =>
            {
                entity.ToTable("BuildingArea", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.StudentClassId).HasColumnName("StudentClassID");

                entity.HasOne(d => d.BuildingAreaType)
                    .WithMany(p => p.BuildingAreas)
                    .HasForeignKey(d => d.BuildingAreaTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingArea_BuildingAreaType");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.BuildingAreaCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingArea_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.BuildingAreaModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_BuildingArea_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.BuildingAreas)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingArea_Student");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.BuildingAreas)
                    .HasForeignKey(d => d.StudentClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingArea_StudentClassId");
            });

            modelBuilder.Entity<BuildingAreaType>(entity =>
            {
                entity.ToTable("BuildingAreaType", "inst_nom");

                entity.Property(e => e.BuildingAreaTypeId)
                    .HasColumnName("BuildingAreaTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.BuildingAreaTypeName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.BuildingTypeId).HasColumnName("BuildingTypeID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.BuildingType)
                    .WithMany(p => p.BuildingAreaTypes)
                    .HasForeignKey(d => d.BuildingTypeId)
                    .HasConstraintName("FK_BuildingAreaTypeBuildingType");
            });

            modelBuilder.Entity<BuildingRoom>(entity =>
            {
                entity.ToTable("BuildingRoom", "student");

                entity.Property(e => e.BuildingRoomTypeId).HasColumnName("BuildingRoomTypeID");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.StudentClassId).HasColumnName("StudentClassID");

                entity.HasOne(d => d.BuildingRoomType)
                    .WithMany(p => p.BuildingRooms)
                    .HasForeignKey(d => d.BuildingRoomTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingRoom_BuildingRoomType");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.BuildingRoomCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingRoom_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.BuildingRoomModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_BuildingRoom_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.BuildingRooms)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingRoom_Student");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.BuildingRooms)
                    .HasForeignKey(d => d.StudentClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingRoom_StudentClassId");
            });

            modelBuilder.Entity<BuildingRoomEquipment>(entity =>
            {
                entity.ToTable("BuildingRoomEquipment", "inst_basic");

                entity.HasIndex(e => e.BuildingRoomId);

                entity.Property(e => e.BuildingRoomEquipmentId).HasColumnName("BuildingRoomEquipmentID");

                entity.Property(e => e.BuildingRoomId).HasColumnName("BuildingRoomID");

                entity.Property(e => e.EquipmentTypeId).HasColumnName("EquipmentTypeID");

                entity.Property(e => e.Note).HasMaxLength(4000);

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.HasOne(d => d.EquipmentType)
                    .WithMany(p => p.BuildingRoomEquipments)
                    .HasForeignKey(d => d.EquipmentTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingRoomEquipmentEquipmentType");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.BuildingRoomEquipments)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_BuildingRoomEquipmentSysUser");
            });

            modelBuilder.Entity<BuildingRoomType>(entity =>
            {
                entity.ToTable("BuildingRoomType", "inst_nom");

                entity.Property(e => e.BuildingRoomTypeId)
                    .HasColumnName("BuildingRoomTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.BuildingAreaTypeId).HasColumnName("BuildingAreaTypeID");

                entity.Property(e => e.BuildingRoomTypeName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.BuildingAreaType)
                    .WithMany(p => p.BuildingRoomTypes)
                    .HasForeignKey(d => d.BuildingAreaTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BuildingRoomTypeAreaType");
            });

            modelBuilder.Entity<BuildingType>(entity =>
            {
                entity.ToTable("BuildingType", "inst_nom");

                entity.Property(e => e.BuildingTypeId).HasColumnName("BuildingTypeID");

                entity.Property(e => e.BuildingTypeName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<CategoryStaffType>(entity =>
            {
                entity.ToTable("CategoryStaffType", "inst_nom");

                entity.Property(e => e.CategoryStaffTypeId)
                    .HasColumnName("CategoryStaffTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.StaffTypeId).HasColumnName("StaffTypeID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.StaffType)
                    .WithMany(p => p.CategoryStaffTypes)
                    .HasForeignKey(d => d.StaffTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CategoryStaffTypeStaffType");
            });

            modelBuilder.Entity<Certificate>(entity =>
            {
                entity.ToTable("Certificate", "core");

                entity.Property(e => e.Contents).IsRequired();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Issuer)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Name).IsRequired();

                entity.Property(e => e.SerialNumber)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.Subject)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Thumbprint)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.CertificateCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Certificate_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.CertificateModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Certificate_Updater_SysUser");
            });

            modelBuilder.Entity<CiooreportCommon>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("CIOOReportCommon", "cioo");

                entity.Property(e => e.Bstid).HasColumnName("BSTId");

                entity.Property(e => e.Bstname)
                    .IsRequired()
                    .HasColumnName("BSTName")
                    .HasMaxLength(255);

                entity.Property(e => e.BudgetingInstName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.Director).HasMaxLength(767);

                entity.Property(e => e.Dstid).HasColumnName("DSTId");

                entity.Property(e => e.Dstname)
                    .IsRequired()
                    .HasColumnName("DSTName")
                    .HasMaxLength(255);

                entity.Property(e => e.Fstid).HasColumnName("FSTId");

                entity.Property(e => e.Fstname)
                    .IsRequired()
                    .HasColumnName("FSTName")
                    .HasMaxLength(255);

                entity.Property(e => e.InstAbbr)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstAddress).HasMaxLength(255);

                entity.Property(e => e.InstEik)
                    .HasColumnName("InstEIK")
                    .HasMaxLength(13);

                entity.Property(e => e.InstEmail)
                    .HasColumnName("InstEMail")
                    .HasMaxLength(255);

                entity.Property(e => e.InstLocalAreaName)
                    .HasColumnName("INstLocalAreaName")
                    .HasMaxLength(1024);

                entity.Property(e => e.InstMainPhone).HasMaxLength(50);

                entity.Property(e => e.InstMunName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.InstName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.InstRegName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.InstTownName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.OtherInstPhones).HasMaxLength(4000);

                entity.Property(e => e.PhoneCode).HasMaxLength(10);

                entity.Property(e => e.Website)
                    .IsRequired()
                    .HasMaxLength(50);
            });

            modelBuilder.Entity<CiooreportCommonCurrDatum>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("CIOOReportCommon_CurrData", "cioo");

                entity.Property(e => e.Bstid).HasColumnName("BSTId");

                entity.Property(e => e.Bstname)
                    .IsRequired()
                    .HasColumnName("BSTName")
                    .HasMaxLength(255);

                entity.Property(e => e.BudgetingInstName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.Director).HasMaxLength(767);

                entity.Property(e => e.Dstid).HasColumnName("DSTId");

                entity.Property(e => e.Dstname)
                    .IsRequired()
                    .HasColumnName("DSTName")
                    .HasMaxLength(255);

                entity.Property(e => e.Fstid).HasColumnName("FSTId");

                entity.Property(e => e.Fstname)
                    .IsRequired()
                    .HasColumnName("FSTName")
                    .HasMaxLength(255);

                entity.Property(e => e.InstAbbr)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstAddress).HasMaxLength(255);

                entity.Property(e => e.InstEik)
                    .HasColumnName("InstEIK")
                    .HasMaxLength(13);

                entity.Property(e => e.InstEmail)
                    .HasColumnName("InstEMail")
                    .HasMaxLength(255);

                entity.Property(e => e.InstLocalAreaName)
                    .HasColumnName("INstLocalAreaName")
                    .HasMaxLength(1024);

                entity.Property(e => e.InstMainPhone).HasMaxLength(50);

                entity.Property(e => e.InstMunName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.InstName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.InstRegName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.InstTownName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.OtherInstPhones).HasMaxLength(4000);

                entity.Property(e => e.PhoneCode).HasMaxLength(10);

                entity.Property(e => e.Website)
                    .IsRequired()
                    .HasMaxLength(50);
            });

            modelBuilder.Entity<ClassBook>(entity =>
            {
                entity.HasKey(e => new { e.SchoolYear, e.ClassBookId });

                entity.ToTable("ClassBook", "school_books");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassId })
                    .HasName("UQ_ClassBook_SchoolYear_ClassId")
                    .IsUnique();

                entity.HasIndex(e => new { e.SchoolYear, e.InstId, e.ClassBookId })
                    .HasName("IX_ClassBook")
                    .IsUnique();

                entity.Property(e => e.BasicClassName).HasMaxLength(255);

                entity.Property(e => e.BookName)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.FullBookName)
                    .HasMaxLength(358)
                    .HasComputedColumnSql("(case when coalesce(len([BookName]),(0))>(0) AND coalesce(len([BasicClassName]),(0))>(0) then ([BasicClassName]+' - ')+[BookName] else coalesce([BasicClassName],[BookName]) end)");

                entity.Property(e => e.SchoolYearProgram).HasMaxLength(4000);

                entity.Property(e => e.Version)
                    .IsRequired()
                    .IsRowVersion()
                    .IsConcurrencyToken();

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.ClassBooks)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_ClassBook_BasicClassId");

                entity.HasOne(d => d.Class)
                    .WithMany(p => p.ClassBooks)
                    .HasForeignKey(d => d.ClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ClassBook_ClassGroup");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ClassBookCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ClassBook_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ClassBookModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ClassBook_ModifiedBySysUserId");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.ClassBooks)
                    .HasForeignKey(d => new { d.InstId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ClassBook_InstId_SchoolYear");
            });

            modelBuilder.Entity<ClassEduDuration>(entity =>
            {
                entity.ToTable("ClassEduDuration", "inst_nom");

                entity.Property(e => e.ClassEduDurationId)
                    .HasColumnName("ClassEduDurationID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<ClassGroup>(entity =>
            {
                entity.HasKey(e => e.ClassId);

                entity.ToTable("ClassGroup", "inst_year");

                entity.HasComment("Паралелки/Групи");

                entity.HasIndex(e => e.ClassSpecialityId)
                    .HasName("IX_ClassGroup_ClassSpecialityId");

                entity.HasIndex(e => e.InstitutionDepartmentId)
                    .HasName("IX_ClassGroup_InstitutionDepartmentId");

                entity.HasIndex(e => e.ParentClassId)
                    .HasName("IX_ClassGroup_ParentClassId");

                entity.HasIndex(e => new { e.InstitutionId, e.SchoolYear })
                    .HasName("IX_ClassGroup_InstitutionId");

                entity.Property(e => e.ClassId)
                    .HasColumnName("ClassID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.AreaId)
                    .HasColumnName("AreaID")
                    .HasComment("Профил (отнася се за групите в");

                entity.Property(e => e.BasicClassId)
                    .HasColumnName("BasicClassID")
                    .HasComment("Идентификатор на випуска (възр");

                entity.Property(e => e.BudgetingClassTypeId)
                    .HasColumnName("BudgetingClassTypeID")
                    .HasComment("От кого се финансира");

                entity.Property(e => e.ClassEduDurationId)
                    .HasColumnName("ClassEduDurationID")
                    .HasComment("Срок на обучение на паралелкат");

                entity.Property(e => e.ClassEduFormId)
                    .HasColumnName("ClassEduFormID")
                    .HasComment("Форма на обучение на паралелка");

                entity.Property(e => e.ClassGroupNum).HasComment("Пореден номер на групата");

                entity.Property(e => e.ClassName)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Наименование на паралелката/гр");

                entity.Property(e => e.ClassShiftId)
                    .HasColumnName("ClassShiftID")
                    .HasComment("форма на организация на учебни");

                entity.Property(e => e.ClassSpecialityId)
                    .HasColumnName("ClassSpecialityID")
                    .HasComment("Специалност");

                entity.Property(e => e.ClassTypeId)
                    .HasColumnName("ClassTypeID")
                    .HasComment("Вид на паралелката/групата");

                entity.Property(e => e.EntranceLevelId)
                    .HasColumnName("EntranceLevelID")
                    .HasComment("Прием след:");

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.Flid)
                    .HasColumnName("FLID")
                    .HasComment("Чужд език");

                entity.Property(e => e.FltypeId)
                    .HasColumnName("FLTypeID")
                    .HasComment("Начин на изучаване на чуждия е");

                entity.Property(e => e.InstitutionDepartmentId)
                    .HasColumnName("InstitutionDepartmentID")
                    .HasComment("Уникален идентификатор на адре");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.IsCombined)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Слята паралелка\"");

                entity.Property(e => e.IsNoList)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Не се прилага списък н");

                entity.Property(e => e.IsNotPresentForm)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"За неприсъствени форми");

                entity.Property(e => e.IsProfModule).HasComment("Маркер \"Професионално обучение");

                entity.Property(e => e.IsSpecNeed)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Специална паралелка/гр");

                entity.Property(e => e.IsValid)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.IsWholeClass)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Цяла паралелка/група\"");

                entity.Property(e => e.Notes)
                    .HasMaxLength(1024)
                    .HasComment("Бележки");

                entity.Property(e => e.ParalellClassName)
                    .HasMaxLength(255)
                    .HasComment("Име на паралелката/групата (на");

                entity.Property(e => e.ParentClassId)
                    .HasColumnName("ParentClassID")
                    .HasComment("Уникален идентификатор на базо");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.StudentCountPlaces).HasComment("Брой места");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.TmpClassId)
                    .HasColumnName("tmp_ClassID")
                    .HasComment("Временно поле, използва се при");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.HasOne(d => d.Area)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.AreaId)
                    .HasConstraintName("FK_ClassGroupEducationArea");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_ClassGroupBasicClass");

                entity.HasOne(d => d.BudgetingClassType)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.BudgetingClassTypeId)
                    .HasConstraintName("FK_ClassGroupBudget");

                entity.HasOne(d => d.ClassEduDuration)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.ClassEduDurationId)
                    .HasConstraintName("FK_ClassGroupClassEduDuration");

                entity.HasOne(d => d.ClassEduForm)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.ClassEduFormId)
                    .HasConstraintName("FK_ClassGroupClassEduForm");

                entity.HasOne(d => d.ClassShift)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.ClassShiftId)
                    .HasConstraintName("FK_ClassGroupClassShift");

                entity.HasOne(d => d.ClassSpeciality)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.ClassSpecialityId)
                    .HasConstraintName("FK_ClassGroupSpeciality");

                entity.HasOne(d => d.ClassType)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.ClassTypeId)
                    .HasConstraintName("FK_ClassGroupClassType");

                entity.HasOne(d => d.EntranceLevel)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.EntranceLevelId)
                    .HasConstraintName("FK_ClassGroupEntranceLevel");

                entity.HasOne(d => d.Fl)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.Flid)
                    .HasConstraintName("FK_ClassGroupFL");

                entity.HasOne(d => d.Fltype)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.FltypeId)
                    .HasConstraintName("FK_ClassGroupFLStudyType");

                entity.HasOne(d => d.InstitutionDepartment)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.InstitutionDepartmentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ClassGroupInstitutionDepartment");

                entity.HasOne(d => d.ParentClass)
                    .WithMany(p => p.InverseParentClass)
                    .HasForeignKey(d => d.ParentClassId)
                    .HasConstraintName("FK_ClassGroupParentClass");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ClassGroupCurrentYear");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_ClassGroupSysUser");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.ClassGroups)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ClassGroupInstitution");
            });

            modelBuilder.Entity<ClassGroupAll>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("ClassGroupAll", "inst_year");

                entity.Property(e => e.AreaId).HasColumnName("AreaID");

                entity.Property(e => e.BasicClassId).HasColumnName("BasicClassID");

                entity.Property(e => e.BasicEducationAreaId).HasColumnName("BasicEducationAreaID");

                entity.Property(e => e.BudgetingClassTypeId).HasColumnName("BudgetingClassTypeID");

                entity.Property(e => e.BudgetingSchoolTypeId).HasColumnName("BudgetingSchoolTypeID");

                entity.Property(e => e.ClassEduDurationId).HasColumnName("ClassEduDurationID");

                entity.Property(e => e.ClassEduFormId).HasColumnName("ClassEduFormID");

                entity.Property(e => e.ClassId).HasColumnName("ClassID");

                entity.Property(e => e.ClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ClassShiftId).HasColumnName("ClassShiftID");

                entity.Property(e => e.ClassSpecialityId).HasColumnName("ClassSpecialityID");

                entity.Property(e => e.ClassTypeId).HasColumnName("ClassTypeID");

                entity.Property(e => e.DetailedSchoolTypeId).HasColumnName("DetailedSchoolTypeID");

                entity.Property(e => e.EntranceLevelId).HasColumnName("EntranceLevelID");

                entity.Property(e => e.Flid).HasColumnName("FLID");

                entity.Property(e => e.FltypeId).HasColumnName("FLTypeID");

                entity.Property(e => e.InstitutionDepartmentId).HasColumnName("InstitutionDepartmentID");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.Notes).HasMaxLength(1024);

                entity.Property(e => e.ParalellClassName).HasMaxLength(255);

                entity.Property(e => e.ParentClassId).HasColumnName("ParentClassID");

                entity.Property(e => e.SppooeducAreaId).HasColumnName("SPPOOEducAreaID");

                entity.Property(e => e.SppooprofAreaId).HasColumnName("SPPOOProfAreaID");

                entity.Property(e => e.SppooprofessionId).HasColumnName("SPPOOProfessionID");
            });

            modelBuilder.Entity<ClassKind>(entity =>
            {
                entity.ToTable("ClassKind", "inst_nom");

                entity.Property(e => e.ClassKindId)
                    .HasColumnName("ClassKindID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Name)
                    .HasMaxLength(20)
                    .IsFixedLength();
            });

            modelBuilder.Entity<ClassShift>(entity =>
            {
                entity.ToTable("ClassShift", "inst_nom");

                entity.Property(e => e.ClassShiftId)
                    .HasColumnName("ClassShiftID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<ClassTeacher199>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("ClassTeacher199", "inst_year");

                entity.Property(e => e.ClassId).HasColumnName("ClassID");

                entity.Property(e => e.ClassTeacherName)
                    .IsRequired()
                    .HasMaxLength(511);

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.PersonId).HasColumnName("PersonID");
            });

            modelBuilder.Entity<ClassType>(entity =>
            {
                entity.ToTable("ClassType", "inst_nom");

                entity.Property(e => e.ClassTypeId)
                    .HasColumnName("ClassTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.NameDe)
                    .HasColumnName("NameDE")
                    .HasMaxLength(255);

                entity.Property(e => e.NameEn)
                    .HasColumnName("NameEN")
                    .HasMaxLength(255);

                entity.Property(e => e.NameFr)
                    .HasColumnName("NameFR")
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<ClassTypeLimit>(entity =>
            {
                entity.ToTable("ClassTypeLimit", "inst_nom");

                entity.Property(e => e.ClassTypeLimitId).HasColumnName("ClassTypeLimitID");

                entity.Property(e => e.BasicClassId).HasColumnName("BasicClassID");

                entity.Property(e => e.ClassTypeId).HasColumnName("ClassTypeID");

                entity.Property(e => e.DetailedSchoolTypeId).HasColumnName("DetailedSchoolTypeID");
            });

            modelBuilder.Entity<CommonPersonalDevelopmentSupport>(entity =>
            {
                entity.ToTable("CommonPersonalDevelopmentSupport", "student");

                entity.HasIndex(e => new { e.SchoolYear, e.PersonId })
                    .HasName("UQ_CommonPersonalDevelopmentSupport_Person_SchoolYear")
                    .IsUnique();

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.CommonPersonalDevelopmentSupportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CommonPersonalDevelopmentSupport_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.CommonPersonalDevelopmentSupportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_CommonPersonalDevelopmentSupport_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.CommonPersonalDevelopmentSupports)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CommonPersonalDevelopmentSupport_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.CommonPersonalDevelopmentSupports)
                    .HasPrincipalKey(p => p.TempCurrentYearId)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CommonPersonalDevelopmentSupport_SchoolYear");
            });

            modelBuilder.Entity<CommonPersonalDevelopmentSupportAttachment>(entity =>
            {
                entity.ToTable("CommonPersonalDevelopmentSupportAttachment", "student");

                entity.HasIndex(e => e.CommonPersonalDevelopmentSupportId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CommonPersonalDevelopmentSupport)
                    .WithMany(p => p.CommonPersonalDevelopmentSupportAttachments)
                    .HasForeignKey(d => d.CommonPersonalDevelopmentSupportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CommonPersonalDevelopmentSupportAttachment_Support");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.CommonPersonalDevelopmentSupportAttachmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CommonPersonalDevelopmentSupportAttachment_Creator");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.CommonPersonalDevelopmentSupportAttachments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CommonPersonalDevelopmentSupportAttachment_Document");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.CommonPersonalDevelopmentSupportAttachmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_CommonPersonalDevelopmentSupportAttachment_Updater");
            });

            modelBuilder.Entity<CommonPersonalDevelopmentSupportItem>(entity =>
            {
                entity.ToTable("CommonPersonalDevelopmentSupportItem", "student");

                entity.HasIndex(e => e.CommonPersonalDevelopmentSupportId);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Details).HasMaxLength(4000);

                entity.HasOne(d => d.CommonPersonalDevelopmentSupport)
                    .WithMany(p => p.CommonPersonalDevelopmentSupportItems)
                    .HasForeignKey(d => d.CommonPersonalDevelopmentSupportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CommonPersonalDevelopmentSupportItem_Support");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.CommonPersonalDevelopmentSupportItemCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CommonPersonalDevelopmentSupportItem_Creator");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.CommonPersonalDevelopmentSupportItemModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_CommonPersonalDevelopmentSupportItem_Updater");

                entity.HasOne(d => d.Type)
                    .WithMany(p => p.CommonPersonalDevelopmentSupportItems)
                    .HasForeignKey(d => d.TypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CommonPersonalDevelopmentSupportDocument_Type");
            });

            modelBuilder.Entity<CommonSupportType>(entity =>
            {
                entity.ToTable("CommonSupportType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<CommuterType>(entity =>
            {
                entity.ToTable("CommuterType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<CompSkill>(entity =>
            {
                entity.ToTable("CompSkill", "inst_nom");

                entity.Property(e => e.CompSkillId)
                    .HasColumnName("CompSkillID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<CompSkillLevel>(entity =>
            {
                entity.ToTable("CompSkillLevel", "inst_nom");

                entity.Property(e => e.CompSkillLevelId)
                    .HasColumnName("CompSkillLevelID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<ContextualInformation>(entity =>
            {
                entity.ToTable("ContextualInformation", "student");

                entity.HasIndex(e => new { e.ModuleName, e.Key })
                    .HasName("AK_Student_ContextualInformation_Modulename_Key")
                    .IsUnique();

                entity.Property(e => e.Description).HasMaxLength(4000);

                entity.Property(e => e.Key).IsRequired();

                entity.Property(e => e.ModuleName)
                    .IsRequired()
                    .HasMaxLength(50);

                entity.Property(e => e.Value).HasMaxLength(1000);
            });

            modelBuilder.Entity<ContractReason>(entity =>
            {
                entity.ToTable("ContractReason", "inst_nom");

                entity.Property(e => e.ContractReasonId)
                    .HasColumnName("ContractReasonID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<ContractType>(entity =>
            {
                entity.ToTable("ContractType", "inst_nom");

                entity.Property(e => e.ContractTypeId)
                    .HasColumnName("ContractTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<ContractWith>(entity =>
            {
                entity.ToTable("ContractWith", "inst_nom");

                entity.Property(e => e.ContractWithId)
                    .HasColumnName("ContractWithID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<Country>(entity =>
            {
                entity.ToTable("Country", "location");

                entity.Property(e => e.CountryId)
                    .HasColumnName("CountryID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Code)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);
            });

            modelBuilder.Entity<Currency>(entity =>
            {
                entity.HasKey(e => e.Code)
                    .HasName("PK_Currencies");

                entity.ToTable("Currency", "noms");

                entity.Property(e => e.Code)
                    .HasMaxLength(3)
                    .IsUnicode(false);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.ExchangeRate).HasColumnType("decimal(9, 6)");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<CurrentYear>(entity =>
            {
                entity.ToTable("CurrentYear", "inst_basic");

                entity.HasIndex(e => e.TempCurrentYearId)
                    .HasName("AK_CurrentYear_TempCurrentYearID")
                    .IsUnique();

                entity.Property(e => e.CurrentYearId)
                    .HasColumnName("CurrentYearID")
                    .ValueGeneratedNever();

                entity.Property(e => e.ChangeYearFrom).HasColumnType("datetime");

                entity.Property(e => e.ChangeYearTo).HasColumnType("datetime");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.TempCurrentYearId)
                    .IsRequired()
                    .HasColumnName("TempCurrentYearID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<Curriculum>(entity =>
            {
                entity.ToTable("Curriculum", "inst_year");

                entity.HasComment("Учебен план");

                entity.HasIndex(e => e.InstitutionDepartmentId);

                entity.HasIndex(e => e.InstitutionId);

                entity.HasIndex(e => e.ParentCurriculumId);

                entity.HasIndex(e => e.SchoolYear);

                entity.Property(e => e.CurriculumId)
                    .HasColumnName("CurriculumID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.AzureId)
                    .HasColumnName("AzureID")
                    .HasMaxLength(100)
                    .IsUnicode(false);

                entity.Property(e => e.CurriculumGroupNum).HasComment("Пореден номер на групата по уч");

                entity.Property(e => e.CurriculumPartId)
                    .HasColumnName("CurriculumPartID")
                    .HasComment("Раздел от учебния план");

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.FlsubjectId)
                    .HasColumnName("FLSubjectID")
                    .HasComment("Чужд език");

                entity.Property(e => e.HoursWeeklyFirstTerm).HasComment("Брой часове седмично І срок");

                entity.Property(e => e.HoursWeeklySecondTerm).HasComment("Брой часове седмично ІІ срок");

                entity.Property(e => e.InstitutionDepartmentId)
                    .HasColumnName("InstitutionDepartmentID")
                    .HasComment("Адрес, на който се провежда об");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.IsAllStudents).HasComment("Маркер \"Предметът се изучава о");

                entity.Property(e => e.IsFl)
                    .HasColumnName("IsFL")
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Учебен предмет (различ");

                entity.Property(e => e.IsIndividualCurriculum).HasDefaultValueSql("((0))");

                entity.Property(e => e.IsIndividualLesson)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер за индивидуален час");

                entity.Property(e => e.IsValid)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.IsWholeClass).HasComment("Маркер \"Предметът се изучава о");

                entity.Property(e => e.MainSubjectId).HasColumnName("MainSubjectID");

                entity.Property(e => e.NormaS).HasComment("Норма на предмета");

                entity.Property(e => e.ParentCurriculumId)
                    .HasColumnName("ParentCurriculumID")
                    .HasComment("Идентификатор на основния запи");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.SortOrder).HasComment("Идентификатор за сортиране");

                entity.Property(e => e.SubjectId)
                    .HasColumnName("SubjectID")
                    .HasComment("Учебен предмет");

                entity.Property(e => e.SubjectTypeId)
                    .HasColumnName("SubjectTypeID")
                    .HasComment("Начин на изучаване");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.Property(e => e.TmpClassIdOrig).HasColumnName("tmp_ClassID_orig");

                entity.Property(e => e.TmpCurricIdOrig).HasColumnName("tmp_CurricID_orig");

                entity.Property(e => e.TmpDepIdOrig).HasColumnName("tmp_DepID_orig");

                entity.Property(e => e.TmpProfSubjId).HasColumnName("tmp_ProfSubjID");

                entity.Property(e => e.TmpSubjectIdOrig).HasColumnName("tmp_SubjectID_orig");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.Property(e => e.WeeksFirstTerm).HasComment("Брой учебни седмици І срок");

                entity.Property(e => e.WeeksSecondTerm).HasComment("Брой учебни седмици ІІ срок");

                entity.HasOne(d => d.CurriculumPart)
                    .WithMany(p => p.Curricula)
                    .HasForeignKey(d => d.CurriculumPartId)
                    .HasConstraintName("FK_Curriculum_CurriculumPart");

                entity.HasOne(d => d.Flsubject)
                    .WithMany(p => p.Curricula)
                    .HasForeignKey(d => d.FlsubjectId)
                    .HasConstraintName("FK_Curriculum_FLSubject");

                entity.HasOne(d => d.InstitutionDepartment)
                    .WithMany(p => p.Curricula)
                    .HasForeignKey(d => d.InstitutionDepartmentId)
                    .HasConstraintName("FK_Curriculum_InstitutionDepartment");

                entity.HasOne(d => d.MainSubject)
                    .WithMany(p => p.CurriculumMainSubjects)
                    .HasForeignKey(d => d.MainSubjectId)
                    .HasConstraintName("FK_CurriculumSubject");

                entity.HasOne(d => d.ParentCurriculum)
                    .WithMany(p => p.InverseParentCurriculum)
                    .HasForeignKey(d => d.ParentCurriculumId)
                    .HasConstraintName("FK_CurriculumParentCurriculum");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.Curricula)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CurriculumCurrentYear");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.CurriculumSubjects)
                    .HasForeignKey(d => d.SubjectId)
                    .HasConstraintName("FK_Curriculum_Subjects");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.Curricula)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_Curriculum_SubjectType");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.Curricula)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_CurriculumSysUser");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Curricula)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Curriculum_Institution");
            });

            modelBuilder.Entity<CurriculumCatalog>(entity =>
            {
                entity.ToTable("CurriculumCatalog", "inst_nom");

                entity.Property(e => e.CurriculumCatalogId)
                    .HasColumnName("CurriculumCatalogID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<CurriculumClass>(entity =>
            {
                entity.HasKey(e => e.CurriculumClassesId);

                entity.ToTable("CurriculumClass", "inst_year");

                entity.HasComment("Учебен план - Паралелки/Групи");

                entity.HasIndex(e => e.ClassId);

                entity.HasIndex(e => e.CurriculumId);

                entity.Property(e => e.CurriculumClassesId)
                    .HasColumnName("CurriculumClassesID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.ClassId)
                    .HasColumnName("ClassID")
                    .HasComment("Идентификатор на паралелката/г");

                entity.Property(e => e.CurriculumId)
                    .HasColumnName("CurriculumID")
                    .HasComment("Идентификатор на записа от уче");

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.IsValid)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.HasOne(d => d.Class)
                    .WithMany(p => p.CurriculumClasses)
                    .HasForeignKey(d => d.ClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CurriculumClassGroup");

                entity.HasOne(d => d.Curriculum)
                    .WithMany(p => p.CurriculumClasses)
                    .HasForeignKey(d => d.CurriculumId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CurriculumClassCurriculum");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.CurriculumClasses)
                    .HasForeignKey(d => d.SchoolYear)
                    .HasConstraintName("FK_CurriculumClassSchoolYear");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.CurriculumClasses)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_CurriculumClassSysUser");
            });

            modelBuilder.Entity<CurriculumLibrary>(entity =>
            {
                entity.ToTable("CurriculumLibrary", "inst_nom");

                entity.Property(e => e.CurriculumLibraryId).HasColumnName("CurriculumLibraryID");

                entity.Property(e => e.BasicClassId).HasColumnName("BasicClassID");

                entity.Property(e => e.CurriculumCatalogId).HasColumnName("CurriculumCatalogID");

                entity.Property(e => e.SubjectId).HasColumnName("SubjectID");

                entity.Property(e => e.SubjectTypeId).HasColumnName("SubjectTypeID");

                entity.Property(e => e.TmpSubjectIdOrig).HasColumnName("tmp_SubjectID_orig");

                entity.HasOne(d => d.CurriculumCatalog)
                    .WithMany(p => p.CurriculumLibraries)
                    .HasForeignKey(d => d.CurriculumCatalogId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CurriculumLibrary_CurriculumCatalog");
            });

            modelBuilder.Entity<CurriculumPart>(entity =>
            {
                entity.ToTable("CurriculumPart", "inst_nom");

                entity.Property(e => e.CurriculumPartId)
                    .HasColumnName("CurriculumPartID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<CurriculumStudent>(entity =>
            {
                entity.ToTable("CurriculumStudent", "inst_year");

                entity.HasComment("Учебен план - Ученици");

                entity.HasIndex(e => e.CurriculumId);

                entity.HasIndex(e => e.PersonId);

                entity.HasIndex(e => e.StudentId);

                entity.HasIndex(e => new { e.CurriculumId, e.SchoolYear, e.IsValid });

                entity.Property(e => e.CurriculumStudentId)
                    .HasColumnName("CurriculumStudentID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.CurriculumId)
                    .HasColumnName("CurriculumID")
                    .HasComment("Идентификатор на записа от уче");

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.IsValid)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.PersonId)
                    .HasColumnName("PersonID")
                    .HasComment("Личен образователен номер");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.StudentId)
                    .HasColumnName("StudentID")
                    .HasComment("Уникален идентификатор на учен");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.HasOne(d => d.Curriculum)
                    .WithMany(p => p.CurriculumStudents)
                    .HasForeignKey(d => d.CurriculumId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CurriculumStudentCurriculum");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.CurriculumStudents)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CurriculumStudentPerson");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.CurriculumStudents)
                    .HasForeignKey(d => d.SchoolYear)
                    .HasConstraintName("FK_CurriculumStudentSchoolYear");

                entity.HasOne(d => d.Student)
                    .WithMany(p => p.CurriculumStudents)
                    .HasForeignKey(d => d.StudentId)
                    .HasConstraintName("FK_CurriculumStudentStudentClass");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.CurriculumStudents)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_CurriculumStudentSysUser");
            });

            modelBuilder.Entity<CurriculumTeacher>(entity =>
            {
                entity.ToTable("CurriculumTeacher", "inst_year");

                entity.HasComment("Учебен план - Преподаватели");

                entity.HasIndex(e => e.StaffPositionId);

                entity.HasIndex(e => new { e.StaffPositionId, e.IsNotRegularTeacher, e.CurriculumId })
                    .HasName("IX_CurriculumTeacher_CurriculumID");

                entity.Property(e => e.CurriculumTeacherId)
                    .HasColumnName("CurriculumTeacherID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.CurriculumId)
                    .HasColumnName("CurriculumID")
                    .HasComment("Идентификатор на записа от уче");

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.IsNotRegularTeacher).HasComment("Маркер \"Не отговаря на изисква");

                entity.Property(e => e.IsValid)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.StaffPositionId)
                    .HasColumnName("StaffPositionID")
                    .HasComment("Идентификатор на записа на пре");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.HasOne(d => d.Curriculum)
                    .WithMany(p => p.CurriculumTeachers)
                    .HasForeignKey(d => d.CurriculumId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CurriculumTeacherCurriculum");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.CurriculumTeachers)
                    .HasForeignKey(d => d.SchoolYear)
                    .HasConstraintName("FK_CurriculumTeacherSchoolYear");

                entity.HasOne(d => d.StaffPosition)
                    .WithMany(p => p.CurriculumTeachers)
                    .HasForeignKey(d => d.StaffPositionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_CurriculumTeacherStaffPosition");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.CurriculumTeachers)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_CurriculumTeacherSysUser");
            });

            modelBuilder.Entity<DetailedSchoolType>(entity =>
            {
                entity.ToTable("DetailedSchoolType", "noms");

                entity.HasIndex(e => e.InstType)
                    .HasName("IX_DetailedSchoolType_Test");

                entity.Property(e => e.DetailedSchoolTypeId)
                    .HasColumnName("DetailedSchoolTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.BaseSchoolTypeId).HasColumnName("BaseSchoolTypeID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");

                entity.HasOne(d => d.BaseSchoolType)
                    .WithMany(p => p.DetailedSchoolTypes)
                    .HasForeignKey(d => d.BaseSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DetailedSchoolType_BaseSchoolType");
            });

            modelBuilder.Entity<Diploma>(entity =>
            {
                entity.ToTable("Diploma", "document");

                entity.HasIndex(e => e.InstitutionId);

                entity.HasIndex(e => e.OriginalDiplomaId);

                entity.HasIndex(e => e.PersonId);

                entity.HasIndex(e => e.PersonalId);

                entity.HasIndex(e => e.SchoolYear);

                entity.HasIndex(e => e.TemplateId);

                entity.HasIndex(e => new { e.InstitutionId, e.SchoolYear });

                entity.HasIndex(e => new { e.RuoRegId, e.SchoolYear });

                entity.HasIndex(e => new { e.InstitutionId, e.BasicDocumentId, e.Series, e.FactoryNumber });

                entity.Property(e => e.BasicDocumentName).HasMaxLength(255);

                entity.Property(e => e.BirthDate).HasColumnType("date");

                entity.Property(e => e.BirthPlaceMunicipality).HasMaxLength(255);

                entity.Property(e => e.BirthPlaceRegion).HasMaxLength(255);

                entity.Property(e => e.BirthPlaceTown).HasMaxLength(255);

                entity.Property(e => e.CancellationReason).HasMaxLength(1000);

                entity.Property(e => e.ClassTypeName).HasMaxLength(255);

                entity.Property(e => e.CommissionOrderNumber).HasMaxLength(50);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Deputy).HasMaxLength(1024);

                entity.Property(e => e.EditableSetReason).HasMaxLength(1000);

                entity.Property(e => e.EduDuration).HasColumnType("decimal(5, 1)");

                entity.Property(e => e.EduFormName).HasMaxLength(255);

                entity.Property(e => e.Ekr).HasColumnName("EKR");

                entity.Property(e => e.FactoryNumber).HasMaxLength(50);

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.FirstNameLatin).HasMaxLength(255);

                entity.Property(e => e.FlgelevelId).HasColumnName("FLGELevelId");

                entity.Property(e => e.Gpa)
                    .HasColumnName("GPA")
                    .HasColumnType("decimal(5, 2)");

                entity.Property(e => e.Gpatext)
                    .HasColumnName("GPAText")
                    .HasMaxLength(100);

                entity.Property(e => e.InstitutionName).HasMaxLength(1024);

                entity.Property(e => e.ItlevelId).HasColumnName("ITLevelId");

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.LastNameLatin).HasMaxLength(255);

                entity.Property(e => e.LeadTeacher).HasMaxLength(100);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.MiddleNameLatin).HasMaxLength(255);

                entity.Property(e => e.MinistryName).HasMaxLength(255);

                entity.Property(e => e.Nationality).HasMaxLength(255);

                entity.Property(e => e.NationalityId).HasColumnName("NationalityID");

                entity.Property(e => e.Nkr).HasColumnName("NKR");

                entity.Property(e => e.PersonalId).HasMaxLength(255);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");

                entity.Property(e => e.Principal).HasMaxLength(1024);

                entity.Property(e => e.ProfessionPart).HasMaxLength(400);

                entity.Property(e => e.ProtocolDate).HasColumnType("date");

                entity.Property(e => e.ProtocolNumber).HasMaxLength(50);

                entity.Property(e => e.RecognitionOrderDate).HasColumnType("date");

                entity.Property(e => e.RecognitionOrderNo).HasMaxLength(35);

                entity.Property(e => e.RegistrationDate).HasColumnType("date");

                entity.Property(e => e.RegistrationNumberTotal)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.RegistrationNumberYear).HasMaxLength(199);

                entity.Property(e => e.Series).HasMaxLength(50);

                entity.Property(e => e.Session).HasMaxLength(100);

                entity.Property(e => e.SignedBySysUserId).HasColumnName("SignedBySysUserID");

                entity.Property(e => e.SppooprofessionId).HasColumnName("SPPOOProfessionId");

                entity.Property(e => e.SppooprofessionName)
                    .HasColumnName("SPPOOProfessionName")
                    .HasMaxLength(255);

                entity.Property(e => e.SppoospecialityId).HasColumnName("SPPOOSpecialityId");

                entity.Property(e => e.SppoospecialityName)
                    .HasColumnName("SPPOOSpecialityName")
                    .HasMaxLength(255);

                entity.Property(e => e.StateExamQualificationGrade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.StateExamQualificationGradeText).HasMaxLength(100);

                entity.Property(e => e.TmpCurrVer).HasColumnName("tmp_CurrVer");

                entity.Property(e => e.TmpIdnumber).HasColumnName("tmp_IDNumber");

                entity.Property(e => e.TmpTemplateId).HasColumnName("tmp_TemplateID");

                entity.Property(e => e.ValidationSession).HasMaxLength(50);

                entity.Property(e => e.Vetqualification)
                    .HasColumnName("VETQualification")
                    .HasMaxLength(255);

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_Diploma_BasicClass");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Diploma_BasicDocument");

                entity.HasOne(d => d.CancelledBySysUser)
                    .WithMany(p => p.DiplomaCancelledBySysUsers)
                    .HasForeignKey(d => d.CancelledBySysUserId)
                    .HasConstraintName("FK_Diploma_CancelledSysUser");

                entity.HasOne(d => d.ClassType)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.ClassTypeId)
                    .HasConstraintName("FK_Diploma_ClassType");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DiplomaCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Diploma_SysUser");

                entity.HasOne(d => d.EditableSetBySysUser)
                    .WithMany(p => p.DiplomaEditableSetBySysUsers)
                    .HasForeignKey(d => d.EditableSetBySysUserId)
                    .HasConstraintName("FK_Diploma_EditableSetBySysUserId");

                entity.HasOne(d => d.EducationType)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.EducationTypeId)
                    .HasConstraintName("FK_Diploma_EducationType");

                entity.HasOne(d => d.Flgelevel)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.FlgelevelId)
                    .HasConstraintName("FK_Diploma_FLLevel");

                entity.HasOne(d => d.GenderNavigation)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.Gender)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Person_Gender");

                entity.HasOne(d => d.Itlevel)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.ItlevelId)
                    .HasConstraintName("FK_Diploma_ITLevel");

                entity.HasOne(d => d.Ministry)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.MinistryId)
                    .HasConstraintName("FK_Diploma_Ministry");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DiplomaModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Diploma_ModifiedBySysUser");

                entity.HasOne(d => d.NationalityNavigation)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.NationalityId)
                    .HasConstraintName("FK_Person_Country");

                entity.HasOne(d => d.OriginalDiploma)
                    .WithMany(p => p.InverseOriginalDiploma)
                    .HasForeignKey(d => d.OriginalDiplomaId)
                    .HasConstraintName("FK_Diploma_Diploma");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Document_Person");

                entity.HasOne(d => d.PersonalIdtypeNavigation)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.PersonalIdtype)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Person_PersonalIDType");

                entity.HasOne(d => d.SignedBySysUser)
                    .WithMany(p => p.DiplomaSignedBySysUsers)
                    .HasForeignKey(d => d.SignedBySysUserId)
                    .HasConstraintName("FK_Diploma_SignedBySysUserID");

                entity.HasOne(d => d.Sppooprofession)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.SppooprofessionId)
                    .HasConstraintName("FK_Diploma_SPPOOProfession");

                entity.HasOne(d => d.Sppoospeciality)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.SppoospecialityId)
                    .HasConstraintName("FK_Diploma_SPPOOSpeciality");

                entity.HasOne(d => d.Template)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => d.TemplateId)
                    .OnDelete(DeleteBehavior.SetNull)
                    .HasConstraintName("FK_Document_Template");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Diplomas)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_Diploma_Institution");
            });

            modelBuilder.Entity<DiplomaAdditionalDocument>(entity =>
            {
                entity.ToTable("DiplomaAdditionalDocument", "document");

                entity.HasIndex(e => e.DiplomaId);

                entity.Property(e => e.BasicDocumentName).HasMaxLength(255);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.FactoryNumber).HasMaxLength(50);

                entity.Property(e => e.InstitutionAddress).HasMaxLength(1024);

                entity.Property(e => e.InstitutionName).HasMaxLength(1024);

                entity.Property(e => e.LocalArea).HasMaxLength(100);

                entity.Property(e => e.Municipality).HasMaxLength(100);

                entity.Property(e => e.Region).HasMaxLength(100);

                entity.Property(e => e.RegistratioNumber).HasMaxLength(50);

                entity.Property(e => e.RegistrationDate).HasColumnType("date");

                entity.Property(e => e.RegistrationNumberYear).HasMaxLength(199);

                entity.Property(e => e.Series).HasMaxLength(50);

                entity.Property(e => e.Town).HasMaxLength(100);

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.DiplomaAdditionalDocuments)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .HasConstraintName("FK_DiplomaAdditionalDocument_BasicDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DiplomaAdditionalDocumentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DiplomaAdditionalDocument_Creator");

                entity.HasOne(d => d.Diploma)
                    .WithMany(p => p.DiplomaAdditionalDocumentDiplomas)
                    .HasForeignKey(d => d.DiplomaId)
                    .HasConstraintName("FK_DiplomaAdditionalDocument_Diploma");

                entity.HasOne(d => d.MainDiploma)
                    .WithMany(p => p.DiplomaAdditionalDocumentMainDiplomas)
                    .HasForeignKey(d => d.MainDiplomaId)
                    .HasConstraintName("FK_DiplomaAdditionalDocument_MainDiploma");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DiplomaAdditionalDocumentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_DiplomaAdditionalDocument_Updater");
            });

            modelBuilder.Entity<DiplomaCreateRequest>(entity =>
            {
                entity.ToTable("DiplomaCreateRequest", "document");

                entity.HasIndex(e => e.DiplomaId)
                    .HasName("IX_DiplomaCreateRequest");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.CurrentInstitutionName).HasMaxLength(1024);

                entity.Property(e => e.Note).HasMaxLength(2048);

                entity.Property(e => e.RegistrationDate).HasColumnType("date");

                entity.Property(e => e.RegistrationNumber)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.RegistrationNumberYear).HasMaxLength(199);

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.DiplomaCreateRequests)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DiplomaCreateRequest_BasicDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DiplomaCreateRequestCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DiplomaCreateRequest_CreatedSysUser");

                entity.HasOne(d => d.Diploma)
                    .WithMany(p => p.DiplomaCreateRequests)
                    .HasForeignKey(d => d.DiplomaId)
                    .OnDelete(DeleteBehavior.SetNull)
                    .HasConstraintName("FK_DiplomaCreateRequest_Diploma");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DiplomaCreateRequestModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_DiplomaCreateRequest_ModifiedSysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.DiplomaCreateRequests)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DiplomaCreateRequest_Person");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.DiplomaCreateRequestInstitutionSchoolYears)
                    .HasForeignKey(d => new { d.CurrentInstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_DiplomaCreateRequest_InstitutionSchoolYear_CurrentInstitution");

                entity.HasOne(d => d.InstitutionSchoolYearNavigation)
                    .WithMany(p => p.DiplomaCreateRequestInstitutionSchoolYearNavigations)
                    .HasForeignKey(d => new { d.RequestingInstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DiplomaCreateRequest_InstitutionSchoolYear_RequestingInstitution");
            });

            modelBuilder.Entity<DiplomaDocument>(entity =>
            {
                entity.ToTable("DiplomaDocument", "document");

                entity.HasIndex(e => e.DiplomaId);

                entity.Property(e => e.Position).HasDefaultValueSql("((1))");

                entity.Property(e => e.TmpCurrYear).HasColumnName("tmp_CurrYear");

                entity.Property(e => e.TmpFileName)
                    .HasColumnName("tmp_FileName")
                    .HasMaxLength(100);

                entity.Property(e => e.TmpSchoolId).HasColumnName("tmp_SchoolID");

                entity.HasOne(d => d.Diploma)
                    .WithMany(p => p.DiplomaDocuments)
                    .HasForeignKey(d => d.DiplomaId)
                    .HasConstraintName("FK_DiplomaDocument_Diploma");
            });

            modelBuilder.Entity<DiplomaSubject>(entity =>
            {
                entity.ToTable("DiplomaSubject", "document");

                entity.HasIndex(e => e.BasicDocumentPartId);

                entity.HasIndex(e => e.BasicDocumentSubjectId);

                entity.HasIndex(e => e.DiplomaId);

                entity.HasIndex(e => e.ParentId)
                    .HasName("IX_DiplomaSubjectParent");

                entity.HasIndex(e => e.SubjectId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.Ects)
                    .HasColumnName("ECTS")
                    .HasMaxLength(1)
                    .IsUnicode(false)
                    .IsFixedLength();

                entity.Property(e => e.FlLevel).HasMaxLength(255);

                entity.Property(e => e.FlSubjectName).HasMaxLength(255);

                entity.Property(e => e.Grade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.GradeCategory).HasDefaultValueSql("((1))");

                entity.Property(e => e.GradeText).HasMaxLength(100);

                entity.Property(e => e.Nvopoints)
                    .HasColumnName("NVOPoints")
                    .HasColumnType("decimal(7, 3)");

                entity.Property(e => e.SubjectName).HasMaxLength(255);

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.DiplomaSubjects)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_DiplomaSubject_BasicClass");

                entity.HasOne(d => d.BasicDocumentPart)
                    .WithMany(p => p.DiplomaSubjects)
                    .HasForeignKey(d => d.BasicDocumentPartId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocumentSubject_BasicDocumentPart");

                entity.HasOne(d => d.BasicDocumentSubject)
                    .WithMany(p => p.DiplomaSubjects)
                    .HasForeignKey(d => d.BasicDocumentSubjectId)
                    .OnDelete(DeleteBehavior.SetNull)
                    .HasConstraintName("FK_DocumentSubject_BasicDocumentSubject");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DiplomaSubjectCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DiplomaSubject_Creator");

                entity.HasOne(d => d.Diploma)
                    .WithMany(p => p.DiplomaSubjects)
                    .HasForeignKey(d => d.DiplomaId)
                    .HasConstraintName("FK_DocumentSubject_Document");

                entity.HasOne(d => d.FlSubject)
                    .WithMany(p => p.DiplomaSubjects)
                    .HasForeignKey(d => d.FlSubjectId)
                    .HasConstraintName("FK_DiplomaSubject_FLSubject");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DiplomaSubjectModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_DiplomaSubject_Updater");

                entity.HasOne(d => d.Parent)
                    .WithMany(p => p.InverseParent)
                    .HasForeignKey(d => d.ParentId)
                    .HasConstraintName("FK_DiplomaSubject_Parent");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.DiplomaSubjects)
                    .HasForeignKey(d => d.SubjectId)
                    .HasConstraintName("FK_DocumentSubject_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.DiplomaSubjects)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_DiplomaSubject_SubjectType");
            });

            modelBuilder.Entity<DirCurrentDatum>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("dir_CurrentData", "cioo");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.NamesDir)
                    .HasColumnName("names_dir")
                    .HasMaxLength(767);

                entity.Property(e => e.PersonId).HasColumnName("PersonID");

                entity.Property(e => e.PersonalId)
                    .HasColumnName("PersonalID")
                    .HasMaxLength(255);

                entity.Property(e => e.PhoneNumber).HasMaxLength(100);
            });

            modelBuilder.Entity<Director>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("Directors", "reginst_basic");

                entity.Property(e => e.CurrentYearId).HasColumnName("CurrentYearID");

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.PersonId).HasColumnName("PersonID");

                entity.Property(e => e.StaffDirector)
                    .IsRequired()
                    .HasMaxLength(767);

                entity.Property(e => e.StaffPositionId).HasColumnName("StaffPositionID");
            });

            modelBuilder.Entity<DischargeDocument>(entity =>
            {
                entity.ToTable("DischargeDocument", "student");

                entity.HasIndex(e => e.CurrentStudentClassId)
                    .HasName("IX_RelocationDocument_CurrentStudentClass");

                entity.HasIndex(e => e.PersonId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DischargeDate).HasColumnType("date");

                entity.Property(e => e.NoteDate).HasColumnType("date");

                entity.Property(e => e.NoteNumber)
                    .IsRequired()
                    .HasMaxLength(20);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DischargeDocumentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DischargeDocument_Creator_SysUser");

                entity.HasOne(d => d.CurrentStudentClass)
                    .WithMany(p => p.DischargeDocuments)
                    .HasForeignKey(d => d.CurrentStudentClassId)
                    .HasConstraintName("FK_DischargeDocument_StudentClass");

                entity.HasOne(d => d.DischargeReasonType)
                    .WithMany(p => p.DischargeDocuments)
                    .HasForeignKey(d => d.DischargeReasonTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DischargeDocument_DischargeReasonType");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DischargeDocumentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_DischargeDocumen_Updater_SysUserd");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.DischargeDocuments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DischargeDocument_Person");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.DischargeDocuments)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_DischargeDocument_Institution_SchoolYear");
            });

            modelBuilder.Entity<DischargeDocumentDocument>(entity =>
            {
                entity.ToTable("DischargeDocumentDocument", "student");

                entity.HasOne(d => d.DischargeDocument)
                    .WithMany(p => p.DischargeDocumentDocuments)
                    .HasForeignKey(d => d.DischargeDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DischargeDocumentDocument_DischargeDocument");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.DischargeDocumentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DischargeDocumentDocument_Document");
            });

            modelBuilder.Entity<DischargeReasonType>(entity =>
            {
                entity.ToTable("DischargeReasonType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<DocManagementApplication>(entity =>
            {
                entity.ToTable("DocManagementApplication", "document");

                entity.HasIndex(e => e.CampaignId);

                entity.HasIndex(e => e.InstitutionId);

                entity.HasIndex(e => e.ParentId);

                entity.HasIndex(e => e.RequestedInstitutionId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DeliveryNotes).HasMaxLength(4000);

                entity.Property(e => e.Status)
                    .IsRequired()
                    .HasMaxLength(50);

                entity.HasOne(d => d.Campaign)
                    .WithMany(p => p.DocManagementApplications)
                    .HasForeignKey(d => d.CampaignId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocManagementApplication_Campaign");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DocManagementApplicationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocManagementApplication_Creator");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DocManagementApplicationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_DocManagementApplication_Updater");

                entity.HasOne(d => d.Parent)
                    .WithMany(p => p.InverseParent)
                    .HasForeignKey(d => d.ParentId)
                    .HasConstraintName("FK_DocManagementApplication_Self");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.DocManagementApplications)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocManagementApplication_CurrentSchoolYear");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.DocManagementApplicationInstitutionSchoolYears)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocManagementApplication_InstitutionSchoolYear");

                entity.HasOne(d => d.InstitutionSchoolYearNavigation)
                    .WithMany(p => p.DocManagementApplicationInstitutionSchoolYearNavigations)
                    .HasForeignKey(d => new { d.RequestedInstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_DocManagementApplication_RequestedInstitutionSchoolYear");
            });

            modelBuilder.Entity<DocManagementApplicationAttachment>(entity =>
            {
                entity.ToTable("DocManagementApplicationAttachment", "document");

                entity.HasIndex(e => e.ApplicationId);

                entity.HasOne(d => d.Application)
                    .WithMany(p => p.DocManagementApplicationAttachments)
                    .HasForeignKey(d => d.ApplicationId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocManagementApplicationAttachment_Application");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.DocManagementApplicationAttachments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocManagementApplicationAttachment_Document");
            });

            modelBuilder.Entity<DocManagementApplicationItem>(entity =>
            {
                entity.ToTable("DocManagementApplicationItem", "document");

                entity.HasIndex(e => new { e.ApplicationId, e.BasicDocumentId })
                    .HasName("AK_DocManagementApplicationItem_Application_BasicDocument")
                    .IsUnique();

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DeliveredNumbers).HasMaxLength(4000);

                entity.Property(e => e.DeliveryNotes).HasMaxLength(4000);

                entity.HasOne(d => d.Application)
                    .WithMany(p => p.DocManagementApplicationItems)
                    .HasForeignKey(d => d.ApplicationId)
                    .HasConstraintName("FK_DocManagementApplicationItem_Application");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.DocManagementApplicationItems)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .HasConstraintName("FK_DocManagementApplicationItem_BasicDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DocManagementApplicationItemCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocManagementApplicationItem_Creator");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DocManagementApplicationItemModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_DocManagementApplicationItem_Updater");
            });

            modelBuilder.Entity<DocManagementApplicationItemDeliveredDoc>(entity =>
            {
                entity.ToTable("DocManagementApplicationItemDeliveredDoc", "document");

                entity.HasIndex(e => e.AppItemId);

                entity.HasIndex(e => e.OrigAppItemId);

                entity.HasIndex(e => new { e.AppItemId, e.DocNumber, e.Edition })
                    .HasName("UX_DeliveredDoc_AppItemId_DocNumber_Edition")
                    .IsUnique();

                entity.HasIndex(e => new { e.OrigAppItemId, e.DocNumber, e.Edition })
                    .HasName("UX_DeliveredDoc_OrigAppItemId_DocNumber_Edition")
                    .IsUnique()
                    .HasFilter("([OrigAppItemId] IS NOT NULL)");

                entity.Property(e => e.DocNumber)
                    .IsRequired()
                    .HasMaxLength(6)
                    .IsUnicode(false)
                    .IsFixedLength();

                entity.Property(e => e.Series).HasMaxLength(10);

                entity.HasOne(d => d.AppItem)
                    .WithMany(p => p.DocManagementApplicationItemDeliveredDocAppItems)
                    .HasForeignKey(d => d.AppItemId)
                    .HasConstraintName("FK_DocManagementApplicationItemDeliveredDoc_AppItem");

                entity.HasOne(d => d.OrigAppItem)
                    .WithMany(p => p.DocManagementApplicationItemDeliveredDocOrigAppItems)
                    .HasForeignKey(d => d.OrigAppItemId)
                    .HasConstraintName("FK_DocManagementApplicationItemDeliveredDoc_OrigAppItem");
            });

            modelBuilder.Entity<DocManagementApplicationStatus>(entity =>
            {
                entity.ToTable("DocManagementApplicationStatus", "document");

                entity.HasIndex(e => e.ApplicationId)
                    .HasName("IX_ocManagementApplicationStatus_ApplicationId");

                entity.HasIndex(e => e.ParentId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(4000);

                entity.Property(e => e.Status)
                    .IsRequired()
                    .HasMaxLength(50);

                entity.HasOne(d => d.Application)
                    .WithMany(p => p.DocManagementApplicationStatuses)
                    .HasForeignKey(d => d.ApplicationId)
                    .HasConstraintName("FK_DocManagementApplicationStatus_Application");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DocManagementApplicationStatusCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocManagementApplicationStatus_Creator");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DocManagementApplicationStatusModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_DocManagementApplicationStatus_Updater");

                entity.HasOne(d => d.Parent)
                    .WithMany(p => p.InverseParent)
                    .HasForeignKey(d => d.ParentId)
                    .HasConstraintName("FK_DocManagementApplicationStatus_Self");
            });

            modelBuilder.Entity<DocManagementCampaign>(entity =>
            {
                entity.ToTable("DocManagementCampaign", "document");

                entity.HasIndex(e => e.ParentId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.FromDate).HasColumnType("date");

                entity.Property(e => e.Name).HasMaxLength(255);

                entity.Property(e => e.ToDate).HasColumnType("date");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DocManagementCampaignCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocManagementCampaign_Creator");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DocManagementCampaignModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_DocManagementCampaign_Updater");

                entity.HasOne(d => d.Parent)
                    .WithMany(p => p.InverseParent)
                    .HasForeignKey(d => d.ParentId)
                    .HasConstraintName("FK_DocManagementCampaign_Self");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.DocManagementCampaigns)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocManagementCampaign_CurrentSchoolYear");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.DocManagementCampaigns)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_DocManagementCampaign_InstitutionSchoolYear");
            });

            modelBuilder.Entity<DocManagementCampaignAttachment>(entity =>
            {
                entity.ToTable("DocManagementCampaignAttachment", "document");

                entity.HasOne(d => d.Campaign)
                    .WithMany(p => p.DocManagementCampaignAttachments)
                    .HasForeignKey(d => d.CampaignId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocManagementCampaignAttachment_Campaign");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.DocManagementCampaignAttachments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_DocManagementCampaignAttachment_Document");
            });

            modelBuilder.Entity<Document>(entity =>
            {
                entity.ToTable("Document", "student");

                entity.HasIndex(e => e.Rowguid)
                    .HasName("UQ__Document__6225F3C1D093944D")
                    .IsUnique();

                entity.Property(e => e.ContentType).HasMaxLength(255);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(4000);

                entity.Property(e => e.FileName).HasMaxLength(255);

                entity.Property(e => e.Rowguid).HasDefaultValueSql("(newid())");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.DocumentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Document_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.DocumentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Document_Updater_SysUserd");
            });

            modelBuilder.Entity<DocumentEducationType>(entity =>
            {
                entity.ToTable("EducationType", "document");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<EarlyEvaluationReason>(entity =>
            {
                entity.ToTable("EarlyEvaluationReason", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<EduForm>(entity =>
            {
                entity.HasKey(e => e.ClassEduFormId)
                    .HasName("PK_ClassEduForm");

                entity.ToTable("EduForm", "inst_nom");

                entity.Property(e => e.ClassEduFormId)
                    .HasColumnName("ClassEduFormID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.NameDe)
                    .HasColumnName("NameDE")
                    .HasMaxLength(255);

                entity.Property(e => e.NameEn)
                    .HasColumnName("NameEN")
                    .HasMaxLength(255);

                entity.Property(e => e.NameFr)
                    .HasColumnName("NameFR")
                    .HasMaxLength(255);

                entity.Property(e => e.NameShort).HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<EduFormLimit>(entity =>
            {
                entity.ToTable("EduFormLimit", "inst_nom");

                entity.Property(e => e.EduFormLimitId).HasColumnName("EduFormLimitID");

                entity.Property(e => e.EduFormId).HasColumnName("EduFormID");
            });

            modelBuilder.Entity<EducationArea>(entity =>
            {
                entity.ToTable("EducationArea", "inst_nom");

                entity.Property(e => e.EducationAreaId)
                    .HasColumnName("EducationAreaID")
                    .ValueGeneratedNever();

                entity.Property(e => e.BasicEducationAreaId).HasColumnName("BasicEducationAreaID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.BasicEducationArea)
                    .WithMany(p => p.EducationAreas)
                    .HasForeignKey(d => d.BasicEducationAreaId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_BasicEducationAreaBasicClass");
            });

            modelBuilder.Entity<EducationGradeType>(entity =>
            {
                entity.ToTable("EducationGradeType", "inst_nom");

                entity.Property(e => e.EducationGradeTypeId)
                    .HasColumnName("EducationGradeTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<EducationType>(entity =>
            {
                entity.ToTable("EducationType", "family");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<EducationalState>(entity =>
            {
                entity.ToTable("EducationalState", "core");

                entity.HasComment("Актуален статус в образователн");

                entity.HasIndex(e => e.InstitutionId)
                    .HasName("IX_EducationalState_InstitutionId");

                entity.HasIndex(e => e.PersonId)
                    .HasName("IX_EducationalState_PersonId");

                entity.HasIndex(e => new { e.PersonId, e.InstitutionId, e.PositionId })
                    .HasName("AK_EducationalState_PersonId_InstitutionId_PositionId")
                    .IsUnique();

                entity.Property(e => e.EducationalStateId)
                    .HasColumnName("EducationalStateID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.PersonId)
                    .HasColumnName("PersonID")
                    .HasComment("Връзка човек");

                entity.Property(e => e.PositionId)
                    .HasColumnName("PositionID")
                    .HasComment("Позиция в образователната сист");

                entity.HasOne(d => d.Institution)
                    .WithMany(p => p.EducationalStates)
                    .HasForeignKey(d => d.InstitutionId)
                    .HasConstraintName("FK_EducationalState_Institution");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.EducationalStates)
                    .HasForeignKey(d => d.PersonId)
                    .HasConstraintName("FK_EducationalState_Person");

                entity.HasOne(d => d.Position)
                    .WithMany(p => p.EducationalStates)
                    .HasForeignKey(d => d.PositionId)
                    .HasConstraintName("FK_EducationalState_Position");
            });

            modelBuilder.Entity<Ekrtype>(entity =>
            {
                entity.ToTable("EKRType", "document");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<EntranceLevel>(entity =>
            {
                entity.ToTable("EntranceLevel", "inst_nom");

                entity.Property(e => e.EntranceLevelId)
                    .HasColumnName("EntranceLevelID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<Equalization>(entity =>
            {
                entity.ToTable("Equalization", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.EqualizationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Equalization_Creator_SysUser");

                entity.HasOne(d => d.InClassNavigation)
                    .WithMany(p => p.Equalizations)
                    .HasForeignKey(d => d.InClass)
                    .HasConstraintName("FK_Equalizationt_BasicClass");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.EqualizationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Equalization_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Equalizations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Equalization_Student");

                entity.HasOne(d => d.Reason)
                    .WithMany(p => p.Equalizations)
                    .HasForeignKey(d => d.ReasonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Equalization_ReasonForEqualizationType");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.Equalizations)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Equalization_SchoolYear");
            });

            modelBuilder.Entity<EqualizationAttachment>(entity =>
            {
                entity.ToTable("EqualizationAttachment", "student");

                entity.HasIndex(e => e.EqualizationId)
                    .HasName("IX_EqualizationAttachment_OtherDocumentId");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.EqualizationAttachments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_EqualizationAttachment_Document");

                entity.HasOne(d => d.Equalization)
                    .WithMany(p => p.EqualizationAttachments)
                    .HasForeignKey(d => d.EqualizationId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_EqualizationAttachment_Equalization");
            });

            modelBuilder.Entity<EqualizationDetail>(entity =>
            {
                entity.ToTable("EqualizationDetails", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Grade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.Position).HasDefaultValueSql("((1))");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.EqualizationDetails)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_EqualizationDetails_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.EqualizationDetailCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_EqualizationDetails_Creator_SysUser");

                entity.HasOne(d => d.Equalization)
                    .WithMany(p => p.EqualizationDetails)
                    .HasForeignKey(d => d.EqualizationId)
                    .HasConstraintName("FK_EqualizationDetails_Equalization");

                entity.HasOne(d => d.GradeCategoryNavigation)
                    .WithMany(p => p.EqualizationDetails)
                    .HasForeignKey(d => d.GradeCategory)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_EqualizationDetails_GradeCategory");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.EqualizationDetailModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_EqualizationDetails_Updater_SysUserd");

                entity.HasOne(d => d.Session)
                    .WithMany(p => p.EqualizationDetails)
                    .HasForeignKey(d => d.SessionId);

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.EqualizationDetails)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_EqualizationDetails_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.EqualizationDetails)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_EqualizationDetails_SubjectType");
            });

            modelBuilder.Entity<EquipmentType>(entity =>
            {
                entity.ToTable("EquipmentType", "inst_nom");

                entity.Property(e => e.EquipmentTypeId).ValueGeneratedNever();

                entity.Property(e => e.BuildingRoomTypeId).HasColumnName("BuildingRoomTypeID");

                entity.Property(e => e.EquipmentTypeName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.BuildingRoomType)
                    .WithMany(p => p.EquipmentTypes)
                    .HasForeignKey(d => d.BuildingRoomTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_EquipmentTypeBuildingRoomType");
            });

            modelBuilder.Entity<ExternalEvaluation>(entity =>
            {
                entity.ToTable("ExternalEvaluation", "student");

                entity.HasIndex(e => e.ParentId);

                entity.HasIndex(e => e.PersonId);

                entity.Property(e => e.ApplicationDate).HasColumnType("date");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ExternalEvaluationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExternalEvaluation_Creator_SysUser");

                entity.HasOne(d => d.ExternalEvaluationType)
                    .WithMany(p => p.ExternalEvaluations)
                    .HasForeignKey(d => d.ExternalEvaluationTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExternalEvaluation_ExternalEvaluationType");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ExternalEvaluationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ExternalEvaluation_Updater_SysUser");

                entity.HasOne(d => d.Parent)
                    .WithMany(p => p.InverseParent)
                    .HasForeignKey(d => d.ParentId)
                    .HasConstraintName("FK_ExternalEvaluation_Self");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.ExternalEvaluations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExternalEvaluation_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.ExternalEvaluations)
                    .HasForeignKey(d => d.SchoolYear)
                    .HasConstraintName("FK_ExternalEvaluation_CurrentYear");
            });

            modelBuilder.Entity<ExternalEvaluationItem>(entity =>
            {
                entity.ToTable("ExternalEvaluationItem", "student");

                entity.HasIndex(e => e.ExternalEvaluationId);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(400);

                entity.Property(e => e.FisrtTermEvaluaton).HasMaxLength(255);

                entity.Property(e => e.Fllevel)
                    .HasColumnName("FLLevel")
                    .HasMaxLength(50);

                entity.Property(e => e.Grade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.OriginalPoints).HasColumnType("decimal(7, 2)");

                entity.Property(e => e.Points).HasColumnType("decimal(7, 2)");

                entity.Property(e => e.SecondTermEvaluaton).HasMaxLength(255);

                entity.Property(e => e.StrEvaluation).HasMaxLength(255);

                entity.Property(e => e.Subject)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ExternalEvaluationItemCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExternalEvaluationItem_Creator_SysUser");

                entity.HasOne(d => d.ExternalEvaluation)
                    .WithMany(p => p.ExternalEvaluationItems)
                    .HasForeignKey(d => d.ExternalEvaluationId)
                    .HasConstraintName("FK_ExternalEvaluationItem_ExternalEvaluation");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ExternalEvaluationItemModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ExternalEvaluationItem_Updater_SysUser");

                entity.HasOne(d => d.SubjectNavigation)
                    .WithMany(p => p.ExternalEvaluationItems)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExternalEvaluationItem_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.ExternalEvaluationItems)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_ExternalEvaluationItem_SubjectType");
            });

            modelBuilder.Entity<ExternalEvaluationType>(entity =>
            {
                entity.ToTable("ExternalEvaluationType", "student");

                entity.HasIndex(e => e.Name)
                    .HasName("UC_ExternalEvaluationType_Name")
                    .IsUnique();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.ExternalEvaluationTypes)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_ExternalEvaluationType_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ExternalEvaluationTypeCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ExternalEvaluationType_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ExternalEvaluationTypeModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ExternalEvaluationType_Updater_SysUser");
            });

            modelBuilder.Entity<FinancialSchoolType>(entity =>
            {
                entity.ToTable("FinancialSchoolType", "noms");

                entity.Property(e => e.FinancialSchoolTypeId)
                    .HasColumnName("FinancialSchoolTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<FirstGradeResult>(entity =>
            {
                entity.HasKey(e => new { e.SchoolYear, e.FirstGradeResultId })
                    .IsClustered(false);

                entity.ToTable("FirstGradeResult", "school_books");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassBookId, e.FirstGradeResultId })
                    .HasName("UK_FirstGradeResult")
                    .IsUnique()
                    .IsClustered();

                entity.HasIndex(e => new { e.SchoolYear, e.ClassBookId, e.PersonId })
                    .HasName("UK_FirstGradeResult_ClassBookId_PersonId")
                    .IsUnique();

                entity.Property(e => e.Version)
                    .IsRequired()
                    .IsRowVersion()
                    .IsConcurrencyToken();

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.FirstGradeResultCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_FirstGradeResult_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.FirstGradeResultModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_FirstGradeResult_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.FirstGradeResults)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_FirstGradeResult_Person");

                entity.HasOne(d => d.ClassBook)
                    .WithMany(p => p.FirstGradeResults)
                    .HasForeignKey(d => new { d.SchoolYear, d.ClassBookId })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_FirstGradeResult_ClassBook");
            });

            modelBuilder.Entity<FirstToThirdClassGrade>(entity =>
            {
                entity.ToTable("FirstToThirdClassGrade", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Fl>(entity =>
            {
                entity.ToTable("FL", "inst_nom");

                entity.Property(e => e.Flid)
                    .HasColumnName("FLID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(50);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<Fllevel>(entity =>
            {
                entity.ToTable("FLLevel", "inst_nom");

                entity.Property(e => e.FllevelId)
                    .HasColumnName("FLLevelID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(50);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<FlstudyType>(entity =>
            {
                entity.ToTable("FLStudyType", "inst_nom");

                entity.Property(e => e.FlstudyTypeId)
                    .HasColumnName("FLStudyTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<Founder>(entity =>
            {
                entity.ToTable("Founder", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Gender>(entity =>
            {
                entity.ToTable("Gender", "noms");

                entity.Property(e => e.GenderId)
                    .HasColumnName("GenderID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Grade>(entity =>
            {
                entity.ToTable("Grade", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<GradeCategory>(entity =>
            {
                entity.ToTable("GradeCategory", "student");

                entity.Property(e => e.Id).ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.IsValid)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<GradeNom>(entity =>
            {
                entity.ToTable("GradeNom", "student");

                entity.HasIndex(e => e.SchoolBookGradeId);

                entity.HasIndex(e => new { e.Name, e.GradeTypeId })
                    .HasName("AK_GradeNom_GradeType_Name")
                    .IsUnique();

                entity.Property(e => e.Id).ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.IsValid)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");

                entity.HasOne(d => d.GradeType)
                    .WithMany(p => p.GradeNoms)
                    .HasForeignKey(d => d.GradeTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_GradeNom_GradeType");
            });

            modelBuilder.Entity<GradeResult>(entity =>
            {
                entity.HasKey(e => new { e.SchoolYear, e.GradeResultId })
                    .IsClustered(false);

                entity.ToTable("GradeResult", "school_books");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassBookId, e.GradeResultId })
                    .HasName("UK_GradeResult")
                    .IsUnique()
                    .IsClustered();

                entity.HasIndex(e => new { e.SchoolYear, e.ClassBookId, e.PersonId })
                    .HasName("UK_GradeResult_ClassBookId_PersonId")
                    .IsUnique();

                entity.Property(e => e.Version)
                    .IsRequired()
                    .IsRowVersion()
                    .IsConcurrencyToken();

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.GradeResultCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_GradeResult_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.GradeResultModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_GradeResult_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.GradeResults)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_GradeResult_Person");

                entity.HasOne(d => d.ClassBook)
                    .WithMany(p => p.GradeResults)
                    .HasForeignKey(d => new { d.SchoolYear, d.ClassBookId })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_GradeResult_ClassBook");
            });

            modelBuilder.Entity<GradeResultSubject>(entity =>
            {
                entity.HasKey(e => new { e.SchoolYear, e.GradeResultId, e.CurriculumId });

                entity.ToTable("GradeResultSubject", "school_books");

                entity.HasOne(d => d.Curriculum)
                    .WithMany(p => p.GradeResultSubjects)
                    .HasForeignKey(d => d.CurriculumId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_GradeResultSubject_Curriculum");

                entity.HasOne(d => d.GradeResult)
                    .WithMany(p => p.GradeResultSubjects)
                    .HasForeignKey(d => new { d.SchoolYear, d.GradeResultId })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_GradeResultSubject_GradeResult");
            });

            modelBuilder.Entity<GradeType>(entity =>
            {
                entity.ToTable("GradeType", "student");

                entity.Property(e => e.Id).ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.IsValid)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<GraduationCommissionMember>(entity =>
            {
                entity.ToTable("GraduationCommissionMember", "document");

                entity.HasIndex(e => e.DiplomaId);

                entity.Property(e => e.FullName)
                    .IsRequired()
                    .HasMaxLength(1000);

                entity.Property(e => e.FullNameLatin).HasMaxLength(1000);

                entity.Property(e => e.TmpTemplateId).HasColumnName("tmp_TemplateID");

                entity.HasOne(d => d.Diploma)
                    .WithMany(p => p.GraduationCommissionMembers)
                    .HasForeignKey(d => d.DiplomaId)
                    .OnDelete(DeleteBehavior.Cascade)
                    .HasConstraintName("FK_GraduationCommissionMember_Diploma");

                entity.HasOne(d => d.Template)
                    .WithMany(p => p.GraduationCommissionMembers)
                    .HasForeignKey(d => d.TemplateId)
                    .OnDelete(DeleteBehavior.Cascade)
                    .HasConstraintName("FK_GraduationCommissionMember_Template");
            });

            modelBuilder.Entity<GuardianType>(entity =>
            {
                entity.ToTable("GuardianType", "refugee");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<HealthInsuranceExport>(entity =>
            {
                entity.ToTable("HealthInsuranceExport", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.SchoolYear).HasComputedColumnSql("(case when [Month]<=(8) then [Year]-(1) else [Year] end)");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.HealthInsuranceExportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_HealthInsuranceExport_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.HealthInsuranceExportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_HealthInsuranceExport_ModifiedSysUser");

                entity.HasOne(d => d.MonthNavigation)
                    .WithMany(p => p.HealthInsuranceExports)
                    .HasForeignKey(d => d.Month)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_HealthInsuranceExport_Month");
            });

            modelBuilder.Entity<HealthInsuranceIncomeRate>(entity =>
            {
                entity.ToTable("HealthInsuranceIncomeRate", "student");

                entity.Property(e => e.AltCurrency)
                    .IsRequired()
                    .HasMaxLength(3)
                    .IsUnicode(false)
                    .HasComputedColumnSql("(case when [Currency]='BGN' then 'EUR' else 'BGN' end)");

                entity.Property(e => e.AltInsuranceRate)
                    .HasColumnType("decimal(10, 2)")
                    .HasComputedColumnSql("(case when [Currency]='BGN' then CONVERT([decimal](10,2),(CONVERT([decimal](10,2),(round([MinimalInsuranceIncome]/(1.955830),(2))*[MinimaInsuranceIncomePercentage])/(100))*[InsuranceContributionPercentage])/(100)) else CONVERT([decimal](10,2),(CONVERT([decimal](10,2),(round([MinimalInsuranceIncome]/(0.511292),(2))*[MinimaInsuranceIncomePercentage])/(100))*[InsuranceContributionPercentage])/(100)) end)");

                entity.Property(e => e.AltMinimalInsuranceIncome)
                    .HasColumnType("decimal(10, 2)")
                    .HasComputedColumnSql("(case when [Currency]='BGN' then CONVERT([decimal](10,2),round([MinimalInsuranceIncome]/(1.955830),(2))) else CONVERT([decimal](10,2),round([MinimalInsuranceIncome]/(0.511292),(2))) end)");

                entity.Property(e => e.AltMinimalInsuranceIncomeRate)
                    .HasColumnType("decimal(10, 2)")
                    .HasComputedColumnSql("(case when [Currency]='BGN' then CONVERT([decimal](10,2),(round([MinimalInsuranceIncome]/(1.955830),(2))*[MinimaInsuranceIncomePercentage])/(100)) else CONVERT([decimal](10,2),(round([MinimalInsuranceIncome]/(0.511292),(2))*[MinimaInsuranceIncomePercentage])/(100)) end)");

                entity.Property(e => e.Currency)
                    .IsRequired()
                    .HasMaxLength(3)
                    .IsUnicode(false)
                    .HasDefaultValueSql("('BGN')");

                entity.Property(e => e.InsuranceRate)
                    .HasColumnType("decimal(10, 2)")
                    .HasComputedColumnSql("(CONVERT([decimal](10,2),(CONVERT([decimal](10,2),([MinimalInsuranceIncome]*[MinimaInsuranceIncomePercentage])/(100))*[InsuranceContributionPercentage])/(100)))");

                entity.Property(e => e.MinimalInsuranceIncome).HasColumnType("decimal(10, 2)");

                entity.Property(e => e.MinimalInsuranceIncomeRate)
                    .HasColumnType("decimal(10, 2)")
                    .HasComputedColumnSql("(CONVERT([decimal](10,2),([MinimalInsuranceIncome]*[MinimaInsuranceIncomePercentage])/(100)))");
            });

            modelBuilder.Entity<InnovationType>(entity =>
            {
                entity.ToTable("InnovationType", "inst_nom");

                entity.Property(e => e.InnovationTypeId)
                    .HasColumnName("InnovationTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<InstAdminDatum>(entity =>
            {
                entity.HasKey(e => e.InstAdminDataId);

                entity.ToTable("InstAdminData", "inst_nom");

                entity.HasIndex(e => e.InstitutionId);

                entity.Property(e => e.InstAdminDataId).HasColumnName("InstAdminDataID");

                entity.Property(e => e.InstitutionDepartmentId).HasColumnName("InstitutionDepartmentID");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");
            });

            modelBuilder.Entity<InstType>(entity =>
            {
                entity.ToTable("InstType", "inst_nom");

                entity.Property(e => e.InstTypeId)
                    .HasColumnName("InstTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Name)
                    .HasMaxLength(10)
                    .IsFixedLength();
            });

            modelBuilder.Entity<Institution>(entity =>
            {
                entity.ToTable("Institution", "core");

                entity.HasComment("Данни за институциите");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията")
                    .ValueGeneratedNever();

                entity.Property(e => e.Abbreviation)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Кратко наименование");

                entity.Property(e => e.BaseSchoolTypeId)
                    .HasColumnName("BaseSchoolTypeID")
                    .HasComment("Вид по чл. 37 (общ, според вид");

                entity.Property(e => e.BudgetingSchoolTypeId)
                    .HasColumnName("BudgetingSchoolTypeID")
                    .HasComment("Вид по чл. 35-36 (според собст");

                entity.Property(e => e.Bulstat)
                    .HasMaxLength(13)
                    .HasComment("Булстат/ЕИК");

                entity.Property(e => e.CountryId)
                    .HasColumnName("CountryID")
                    .HasComment("Код на държава");

                entity.Property(e => e.DetailedSchoolTypeId)
                    .HasColumnName("DetailedSchoolTypeID")
                    .HasComment("Вид по чл. 38 (детайлен)");

                entity.Property(e => e.FinancialSchoolTypeId)
                    .HasColumnName("FinancialSchoolTypeID")
                    .HasComment("Източник на финансиране");

                entity.Property(e => e.LocalAreaId)
                    .HasColumnName("LocalAreaID")
                    .HasComment("Код на район (основен адрес)");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024)
                    .HasComment("Пълно наименование");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.Property(e => e.TownId)
                    .HasColumnName("TownID")
                    .HasComment("Код на населеното място (основ");

                entity.HasOne(d => d.BaseSchoolType)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.BaseSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Institution_BaseSchoolType");

                entity.HasOne(d => d.BudgetingSchoolType)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.BudgetingSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Institution_BudgetingSchoolType");

                entity.HasOne(d => d.Country)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.CountryId)
                    .HasConstraintName("FK_Institution_Country");

                entity.HasOne(d => d.DetailedSchoolType)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.DetailedSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Institution_DetailedSchoolType");

                entity.HasOne(d => d.FinancialSchoolType)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.FinancialSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Institution_FinancialSchoolType");

                entity.HasOne(d => d.LocalArea)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.LocalAreaId)
                    .HasConstraintName("FK_Institution_LocalArea");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_Institution_SysUser");

                entity.HasOne(d => d.Town)
                    .WithMany(p => p.Institutions)
                    .HasForeignKey(d => d.TownId)
                    .HasConstraintName("FK_Institution_Town");
            });

            modelBuilder.Entity<InstitutionAll>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("InstitutionAll", "inst_basic");

                entity.Property(e => e.Abbreviation)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Address).HasMaxLength(255);

                entity.Property(e => e.BankAccountHolder).HasMaxLength(255);

                entity.Property(e => e.BankBic)
                    .HasColumnName("BankBIC")
                    .HasMaxLength(255);

                entity.Property(e => e.BankIban)
                    .HasColumnName("BankIBAN")
                    .HasMaxLength(255);

                entity.Property(e => e.BankName).HasMaxLength(255);

                entity.Property(e => e.BaseSchoolTypeId).HasColumnName("BaseSchoolTypeID");

                entity.Property(e => e.BudgetingSchoolTypeId).HasColumnName("BudgetingSchoolTypeID");

                entity.Property(e => e.Bulstat).HasMaxLength(13);

                entity.Property(e => e.ConstitActFirst).HasMaxLength(1024);

                entity.Property(e => e.ConstitActLast).HasMaxLength(1024);

                entity.Property(e => e.CountryId).HasColumnName("CountryID");

                entity.Property(e => e.DetailedSchoolTypeId).HasColumnName("DetailedSchoolTypeID");

                entity.Property(e => e.Email).HasMaxLength(255);

                entity.Property(e => e.EstablishedYear).HasMaxLength(255);

                entity.Property(e => e.FinancialSchoolTypeId).HasColumnName("FinancialSchoolTypeID");

                entity.Property(e => e.FullName).HasMaxLength(1055);

                entity.Property(e => e.InstDepName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstitutionDepartmentId).HasColumnName("InstitutionDepartmentID");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.InstitutionOtherDataId).HasColumnName("InstitutionOtherDataID");

                entity.Property(e => e.IsOdz).HasColumnName("IsODZ");

                entity.Property(e => e.LocalAreaId).HasColumnName("LocalAreaID");

                entity.Property(e => e.Message)
                    .IsRequired()
                    .HasMaxLength(103)
                    .IsUnicode(false);

                entity.Property(e => e.MunicipalityId).HasColumnName("MunicipalityID");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.RegionId).HasColumnName("RegionID");

                entity.Property(e => e.SchoolShiftTypeId).HasColumnName("SchoolShiftTypeID");

                entity.Property(e => e.TextInfo).HasMaxLength(284);

                entity.Property(e => e.TownId).HasColumnName("TownID");

                entity.Property(e => e.Website).HasMaxLength(50);

                entity.Property(e => e.YearlyBudget).HasColumnType("decimal(12, 2)");
            });

            modelBuilder.Entity<InstitutionChange>(entity =>
            {
                entity.ToTable("InstitutionChange", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.InstitutionChanges)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionChange_InstitutionSchoolYear_Institution");
            });

            modelBuilder.Entity<InstitutionConfDatum>(entity =>
            {
                entity.HasKey(e => e.InstitutionConfDataId);

                entity.ToTable("InstitutionConfData", "core");

                entity.HasComment("Конфигурационни данни за текущ");

                entity.HasIndex(e => e.CbextProviderId);

                entity.HasIndex(e => e.InstitutionId)
                    .HasName("IX_InstitutionConfData_InstitutionId");

                entity.HasIndex(e => new { e.InstitutionId, e.SchoolYear })
                    .HasName("IX_InstitutionConfData_InstitutionId_SchoolYear");

                entity.Property(e => e.InstitutionConfDataId)
                    .HasColumnName("InstitutionConfDataID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.CbextProviderId)
                    .HasColumnName("CBExtProviderID")
                    .HasComment("Код на външен доставчик на ЕД");

                entity.Property(e => e.Cbversion)
                    .HasColumnName("CBVersion")
                    .HasComment("Версия на данните за ЕД");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.SoextProviderId)
                    .HasColumnName("SOExtProviderID")
                    .HasComment("Код на външен доставчик на СО");

                entity.Property(e => e.Soversion)
                    .HasColumnName("SOVersion")
                    .HasComment("Версия на данните за СО");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.HasOne(d => d.Institution)
                    .WithMany(p => p.InstitutionConfData)
                    .HasForeignKey(d => d.InstitutionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionConfDataInstitution");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.InstitutionConfData)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionConfDataSchoolYear");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.InstitutionConfData)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_InstitutionConfDataSysUser");
            });

            modelBuilder.Entity<InstitutionDepartment>(entity =>
            {
                entity.ToTable("InstitutionDepartment", "inst_basic");

                entity.HasComment("Други адреси за осъществяване ");

                entity.HasIndex(e => e.InstitutionId)
                    .HasName("IX_InstitutionDepartment_InstitutionId");

                entity.Property(e => e.InstitutionDepartmentId)
                    .HasColumnName("InstitutionDepartmentID")
                    .HasComment("ID на записа (autoincrement)");

                entity.Property(e => e.Address)
                    .HasMaxLength(255)
                    .HasComment("Адрес");

                entity.Property(e => e.CountryId)
                    .HasColumnName("CountryID")
                    .HasComment("Код на държава");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.IsMain)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Основен адрес\"");

                entity.Property(e => e.IsValid).HasComment("Активен адрес");

                entity.Property(e => e.LocalAreaId)
                    .HasColumnName("LocalAreaID")
                    .HasComment("Код на район");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Наименование на другия адрес н");

                entity.Property(e => e.PostCode).HasComment("Пощенски код");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.TmpDepId).HasColumnName("tmp_DepID");

                entity.Property(e => e.TmpSchoolYear).HasColumnName("tmp_SchoolYear");

                entity.Property(e => e.TownId)
                    .HasColumnName("TownID")
                    .HasComment("Код на населено място");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.HasOne(d => d.Country)
                    .WithMany(p => p.InstitutionDepartments)
                    .HasForeignKey(d => d.CountryId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstDep_Country");

                entity.HasOne(d => d.LocalArea)
                    .WithMany(p => p.InstitutionDepartments)
                    .HasForeignKey(d => d.LocalAreaId)
                    .HasConstraintName("FK_InstDep_LocalArea");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.InstitutionDepartments)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_InstDep_SysUser");

                entity.HasOne(d => d.Town)
                    .WithMany(p => p.InstitutionDepartments)
                    .HasForeignKey(d => d.TownId)
                    .HasConstraintName("FK_InstDep_Town");
            });

            modelBuilder.Entity<InstitutionDetail>(entity =>
            {
                entity.HasKey(e => e.InstitutionId);

                entity.ToTable("InstitutionDetail", "inst_basic");

                entity.HasComment("Допълнителни данни за институц");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията")
                    .ValueGeneratedNever();

                entity.Property(e => e.BankAccountHolder)
                    .HasMaxLength(255)
                    .HasComment("Титуляр на банковата сметка");

                entity.Property(e => e.BankBic)
                    .HasColumnName("BankBIC")
                    .HasMaxLength(255)
                    .HasComment("Код на банката");

                entity.Property(e => e.BankIban)
                    .HasColumnName("BankIBAN")
                    .HasMaxLength(255)
                    .HasComment("Банкова сметка на институцията");

                entity.Property(e => e.BankName)
                    .HasMaxLength(255)
                    .HasComment("Наименование на банката");

                entity.Property(e => e.ConstitActFirst)
                    .HasMaxLength(1024)
                    .HasComment("Акт за учредяване или преобраз");

                entity.Property(e => e.ConstitActLast)
                    .HasMaxLength(1024)
                    .HasComment("Акт за учредяване или собствен");

                entity.Property(e => e.Email)
                    .HasMaxLength(255)
                    .HasComment("Електронна поща");

                entity.Property(e => e.EstablishedYear)
                    .HasMaxLength(255)
                    .HasComment("Година на основаване");

                entity.Property(e => e.IsAppInnovSystem)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"ДГ прилага иновативна ");

                entity.Property(e => e.IsDelegateBudget)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"На делегиран бюджет\"");

                entity.Property(e => e.IsInternContract)
                    .HasDefaultValueSql("((0))")
                    .HasComment("не се използва");

                entity.Property(e => e.IsNational)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"С национално значение\"");

                entity.Property(e => e.IsNonIndDormitory)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Към училището има неса");

                entity.Property(e => e.IsOdz)
                    .HasColumnName("IsODZ")
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Към ДГ има яслена груп");

                entity.Property(e => e.IsProfSchool)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Осигурява професионалн");

                entity.Property(e => e.IsProvideEduServ)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Oрганизира допълнителн");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.Website)
                    .HasMaxLength(50)
                    .HasComment("Интернет адрес");

                entity.HasOne(d => d.Institution)
                    .WithOne(p => p.InstitutionDetail)
                    .HasForeignKey<InstitutionDetail>(d => d.InstitutionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionDetailInstitution");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.InstitutionDetails)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_InstDetails_SysUser");
            });

            modelBuilder.Entity<InstitutionOtherDatum>(entity =>
            {
                entity.HasKey(e => e.InstitutionOtherDataId);

                entity.ToTable("InstitutionOtherData", "inst_year");

                entity.HasComment("Допълнителни данни за институц");

                entity.HasIndex(e => e.InstitutionId)
                    .HasName("IX_InstitutionOtherData_InstitutionId");

                entity.Property(e => e.InstitutionOtherDataId)
                    .HasColumnName("InstitutionOtherDataID")
                    .HasComment("ID на записа (autoincrement)");

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.NonpedagogStaffCount).HasComment("Утвърдена численост - непедаго");

                entity.Property(e => e.NonpedagogStaffSalary).HasComment("Средна заплата - непедагогичес");

                entity.Property(e => e.PedagogStaffCount).HasComment("Утвърдена численост - педагоги");

                entity.Property(e => e.PedagogStaffSalary).HasComment("Средна заплата - педагогически");

                entity.Property(e => e.SchoolShiftTypeId)
                    .HasColumnName("SchoolShiftTypeID")
                    .HasComment("Сменност на обучение");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.StaffCountAll).HasComment("Утвърдена численост на персона");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.ValidTo).HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))");

                entity.Property(e => e.YearlyBudget)
                    .HasColumnType("decimal(12, 2)")
                    .HasComment("Утвърден бюджет");

                entity.HasOne(d => d.SchoolShiftType)
                    .WithMany(p => p.InstitutionOtherData)
                    .HasForeignKey(d => d.SchoolShiftTypeId)
                    .HasConstraintName("FK_InstitutionOtherDataSchoolShiftType");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.InstitutionOtherData)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionOtherDataCurrentYear");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.InstitutionOtherData)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionOtherDataInstitution");
            });

            modelBuilder.Entity<InstitutionPhone>(entity =>
            {
                entity.ToTable("InstitutionPhone", "inst_basic");

                entity.HasComment("Телефони");

                entity.HasIndex(e => e.DepartmentId)
                    .HasName("IX_InstitutionPhone_InstitutionDepartmentID");

                entity.HasIndex(e => e.InstitutionId);

                entity.Property(e => e.InstitutionPhoneId)
                    .HasColumnName("InstitutionPhoneID")
                    .HasComment("ID на записа (autoincrement)");

                entity.Property(e => e.ContactKind)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Контакт");

                entity.Property(e => e.DepartmentId)
                    .HasColumnName("DepartmentID")
                    .HasComment("Код на адреса на провеждане на");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.IsInstitution)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Телефон на институцият");

                entity.Property(e => e.IsMain)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Основен за институцият");

                entity.Property(e => e.PhoneCode)
                    .HasMaxLength(10)
                    .HasComment("Код за АТИ");

                entity.Property(e => e.PhoneNumber)
                    .IsRequired()
                    .HasMaxLength(50)
                    .HasComment("Телефонен номер");

                entity.Property(e => e.PhoneTypeId)
                    .HasColumnName("PhoneTypeID")
                    .HasComment("Тип телефон");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.HasOne(d => d.Department)
                    .WithMany(p => p.InstitutionPhones)
                    .HasForeignKey(d => d.DepartmentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionPhone_InstitutionDepartment");

                entity.HasOne(d => d.Institution)
                    .WithMany(p => p.InstitutionPhones)
                    .HasForeignKey(d => d.InstitutionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionPhone_Institution");

                entity.HasOne(d => d.PhoneType)
                    .WithMany(p => p.InstitutionPhones)
                    .HasForeignKey(d => d.PhoneTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionPhone_PhoneType");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.InstitutionPhones)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_InstPhoneSysUser");
            });

            modelBuilder.Entity<InstitutionPublicCouncil>(entity =>
            {
                entity.ToTable("InstitutionPublicCouncil", "inst_basic");

                entity.HasComment("Обществен съвет");

                entity.HasIndex(e => e.InstitutionId);

                entity.Property(e => e.InstitutionPublicCouncilId)
                    .HasColumnName("InstitutionPublicCouncilID")
                    .HasComment("ID на записа (autoincrement)");

                entity.Property(e => e.Email)
                    .HasMaxLength(150)
                    .HasComment("Електронна поща");

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.FamilyName)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Фамилия");

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Име");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.MiddleName)
                    .HasMaxLength(255)
                    .HasComment("Презиме");

                entity.Property(e => e.PhoneNumber)
                    .HasMaxLength(150)
                    .HasComment("Телефонен номер");

                entity.Property(e => e.PublicCouncilRoleId)
                    .HasColumnName("PublicCouncilRoleID")
                    .HasComment("Роля");

                entity.Property(e => e.PublicCouncilTypeId)
                    .HasColumnName("PublicCouncilTypeID")
                    .HasComment("Институция, на която е предста");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.HasOne(d => d.Institution)
                    .WithMany(p => p.InstitutionPublicCouncils)
                    .HasForeignKey(d => d.InstitutionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionPublicCouncilInstitution");

                entity.HasOne(d => d.PublicCouncilRole)
                    .WithMany(p => p.InstitutionPublicCouncils)
                    .HasForeignKey(d => d.PublicCouncilRoleId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionPublicCouncilPublicCouncilRole");

                entity.HasOne(d => d.PublicCouncilType)
                    .WithMany(p => p.InstitutionPublicCouncils)
                    .HasForeignKey(d => d.PublicCouncilTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionPublicCouncilPublicCouncilType");
            });

            modelBuilder.Entity<InstitutionSchoolYear>(entity =>
            {
                entity.HasKey(e => new { e.InstitutionId, e.SchoolYear });

                entity.ToTable("InstitutionSchoolYear", "core");

                entity.HasComment("Основни данни за институцията ");

                entity.Property(e => e.InstitutionId).HasComment("Код на институцията");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.Abbreviation)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Кратко наименование");

                entity.Property(e => e.BaseSchoolTypeId)
                    .HasColumnName("BaseSchoolTypeID")
                    .HasComment("Вид по чл. 37 (общ, според вид");

                entity.Property(e => e.BudgetingSchoolTypeId)
                    .HasColumnName("BudgetingSchoolTypeID")
                    .HasComment("Вид по чл. 35-36 (според собст");

                entity.Property(e => e.Bulstat)
                    .HasMaxLength(13)
                    .HasComment("БУЛСТАТ");

                entity.Property(e => e.CountryId)
                    .HasColumnName("CountryID")
                    .HasComment("Код на държава");

                entity.Property(e => e.DetailedSchoolTypeId)
                    .HasColumnName("DetailedSchoolTypeID")
                    .HasComment("Вид по чл. 38 (детайлен)");

                entity.Property(e => e.FinancialSchoolTypeId)
                    .HasColumnName("FinancialSchoolTypeID")
                    .HasComment("Източник на финансиране");

                entity.Property(e => e.IsFinalized).HasComment("Финализирана");

                entity.Property(e => e.LocalAreaId)
                    .HasColumnName("LocalAreaID")
                    .HasComment("Код на район (основен адрес)");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024)
                    .HasComment("Наименование");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.TownId)
                    .HasColumnName("TownID")
                    .HasComment("Код на града (основен адрес)");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.HasOne(d => d.BaseSchoolType)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.BaseSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionSchoolYear_BaseSchoolType");

                entity.HasOne(d => d.BudgetingSchoolType)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.BudgetingSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionSchoolYear_BudgetingSchoolType");

                entity.HasOne(d => d.Country)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.CountryId)
                    .HasConstraintName("FK_InstitutionSchoolYear_Country");

                entity.HasOne(d => d.DetailedSchoolType)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.DetailedSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionSchoolYear_DetailedSchoolType");

                entity.HasOne(d => d.FinancialSchoolType)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.FinancialSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionSchoolYear_FinancialSchoolType");

                entity.HasOne(d => d.LocalArea)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.LocalAreaId)
                    .HasConstraintName("FK_InstitutionSchoolYear_LocalArea");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InstitutionSchoolYear_CurrentYear");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_InstitutionSchoolYear_SysUser");

                entity.HasOne(d => d.Town)
                    .WithMany(p => p.InstitutionSchoolYears)
                    .HasForeignKey(d => d.TownId)
                    .HasConstraintName("FK_InstitutionSchoolYear_Town");
            });

            modelBuilder.Entity<InternationalMobility>(entity =>
            {
                entity.ToTable("InternationalMobility", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.MainObjectives)
                    .IsRequired()
                    .HasMaxLength(2000);

                entity.Property(e => e.Project)
                    .IsRequired()
                    .HasMaxLength(1000);

                entity.Property(e => e.ReceivingInstitution)
                    .IsRequired()
                    .HasMaxLength(1000);

                entity.HasOne(d => d.Country)
                    .WithMany(p => p.InternationalMobilities)
                    .HasForeignKey(d => d.CountryId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalMobility_Country_Country");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.InternationalMobilityCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalMobility_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.InternationalMobilityModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_InternationalMobility_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.InternationalMobilities)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalMobility_Student");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.InternationalMobilities)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalMobility_SchoolYear");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.InternationalMobilities)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_InternationalMobility_InstitutionSchoolYear");
            });

            modelBuilder.Entity<InternationalMobilityDocument>(entity =>
            {
                entity.ToTable("InternationalMobilityDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.InternationalMobilityDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalMobilityDocument_Document");

                entity.HasOne(d => d.InternationalMobility)
                    .WithMany(p => p.InternationalMobilityDocuments)
                    .HasForeignKey(d => d.InternationalMobilityId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalMobilityDocument_InternationalMobility");
            });

            modelBuilder.Entity<InternationalProtection>(entity =>
            {
                entity.ToTable("InternationalProtection", "student");

                entity.Property(e => e.DocDate).HasColumnType("date");

                entity.Property(e => e.DocNumber).HasMaxLength(50);

                entity.Property(e => e.ValidFrom).HasColumnType("date");

                entity.Property(e => e.ValidTo).HasColumnType("date");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.InternationalProtections)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_InternationalProtection_Person");
            });

            modelBuilder.Entity<Itlevel>(entity =>
            {
                entity.ToTable("ITLevel", "document");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Language>(entity =>
            {
                entity.ToTable("Language", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<LeadTeacher>(entity =>
            {
                entity.ToTable("LeadTeacher", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.Class)
                    .WithMany(p => p.LeadTeachers)
                    .HasForeignKey(d => d.ClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LeadTeacher_ClassGroup");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LeadTeacherCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LeadTeacher_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LeadTeacherModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LeadTeacher_Updater_SysUser");

                entity.HasOne(d => d.StaffPosition)
                    .WithMany(p => p.LeadTeachers)
                    .HasForeignKey(d => d.StaffPositionId)
                    .HasConstraintName("FK_LeadTeacher_StaffPosition");
            });

            modelBuilder.Entity<LocalArea>(entity =>
            {
                entity.ToTable("LocalArea", "location");

                entity.Property(e => e.LocalAreaId)
                    .HasColumnName("LocalAreaID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.HasOne(d => d.TownCodeNavigation)
                    .WithMany(p => p.LocalAreas)
                    .HasForeignKey(d => d.TownCode)
                    .HasConstraintName("FK_LocalArea_Town");
            });

            modelBuilder.Entity<LodAssessment>(entity =>
            {
                entity.ToTable("LodAssessment", "student");

                entity.HasIndex(e => e.ParentId)
                    .HasName("IX_LodAssessment_Parent");

                entity.HasIndex(e => e.PersonId)
                    .HasName("IX_LodAssessment_Person");

                entity.HasIndex(e => new { e.InstitutionId, e.SchoolYear, e.IsImported })
                    .HasName("IX_LodAssessment_Institution_SchoolYear_IsImported");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.FlLevel).HasMaxLength(255);

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.LodAssessments)
                    .HasForeignKey(d => d.BasicClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessment_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodAssessmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessment_Creator_SysUser");

                entity.HasOne(d => d.CurriculumPart)
                    .WithMany(p => p.LodAssessments)
                    .HasForeignKey(d => d.CurriculumPartId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessment_CurriculumPart");

                entity.HasOne(d => d.FlSubject)
                    .WithMany(p => p.LodAssessments)
                    .HasForeignKey(d => d.FlSubjectId)
                    .HasConstraintName("FK_LodAssessment_FLSubject");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodAssessmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodAssessment_Updater_SysUser");

                entity.HasOne(d => d.Parent)
                    .WithMany(p => p.InverseParent)
                    .HasForeignKey(d => d.ParentId)
                    .HasConstraintName("FK_LodAssessment_Self");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodAssessments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessment_Person");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.LodAssessments)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessment_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.LodAssessments)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessment_SubjectType");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.LodAssessments)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessment_InstitutionSchoolYear");
            });

            modelBuilder.Entity<LodAssessmentGrade>(entity =>
            {
                entity.ToTable("LodAssessmentGrade", "student");

                entity.HasIndex(e => e.LodAssessmentId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DecimalGrade).HasColumnType("decimal(3, 2)");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodAssessmentGradeCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessmentGrade_Creator_SysUser");

                entity.HasOne(d => d.GradeCategory)
                    .WithMany(p => p.LodAssessmentGrades)
                    .HasForeignKey(d => d.GradeCategoryId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessmentGrade_GradeCategory");

                entity.HasOne(d => d.Grade)
                    .WithMany(p => p.LodAssessmentGrades)
                    .HasForeignKey(d => d.GradeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessmentGrade_GradeNom");

                entity.HasOne(d => d.LodAssessment)
                    .WithMany(p => p.LodAssessmentGrades)
                    .HasForeignKey(d => d.LodAssessmentId)
                    .HasConstraintName("FK_LodAssessmentGrade_LodAssessment");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodAssessmentGradeModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodAssessmentGrade_Updater_SysUser");
            });

            modelBuilder.Entity<LodAssessmentTemplate>(entity =>
            {
                entity.ToTable("LodAssessmentTemplate", "student");

                entity.HasIndex(e => e.InstitutionId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(450);

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.LodAssessmentTemplates)
                    .HasForeignKey(d => d.BasicClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessmentTemplate_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodAssessmentTemplateCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessmentTemplate_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodAssessmentTemplateModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodAssessmentTemplate_Updater_SysUser");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.LodAssessmentTemplates)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodAssessmentTemplate_InstitutionSchoolYear");
            });

            modelBuilder.Entity<LodEvaluationGeneral>(entity =>
            {
                entity.ToTable("LodEvaluationGeneral", "student");

                entity.HasIndex(e => e.PersonId);

                entity.HasIndex(e => e.StudentClassId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((1))");

                entity.Property(e => e.IsSelfEduForm).HasColumnName("isSelfEduForm");

                entity.Property(e => e.MajorCourse1).HasMaxLength(255);

                entity.Property(e => e.MajorCourse2).HasMaxLength(255);

                entity.Property(e => e.MajorCourse3).HasMaxLength(255);

                entity.Property(e => e.MajorCourse4).HasMaxLength(255);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodEvaluationGeneralCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationGeneral_Person_CreatedBySysUserId");

                entity.HasOne(d => d.LodEvaluationsResult)
                    .WithMany(p => p.LodEvaluationGenerals)
                    .HasForeignKey(d => d.LodEvaluationsResultId)
                    .HasConstraintName("FK_LodEvaluationGeneral_LodEvaluationsResult");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodEvaluationGeneralModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodEvaluationGeneral_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodEvaluationGenerals)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationGeneral_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodEvaluationGenerals)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationGeneral_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodEvaluationGenerals)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodEvaluationGeneral_StudentClass");
            });

            modelBuilder.Entity<LodEvaluationSectionAb>(entity =>
            {
                entity.ToTable("LodEvaluationSectionAB", "student");

                entity.HasIndex(e => e.PersonId);

                entity.HasIndex(e => e.StudentClassId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((1))");

                entity.Property(e => e.SectionAfinalGrade).HasColumnName("SectionAFinalGrade");

                entity.Property(e => e.SectionAfirstTermGrade).HasColumnName("SectionAFirstTermGrade");

                entity.Property(e => e.SectionAhours).HasColumnName("SectionAHours");

                entity.Property(e => e.SectionAsecondTermGrade).HasColumnName("SectionASecondTermGrade");

                entity.Property(e => e.SectionAsession1Grade).HasColumnName("SectionASession1Grade");

                entity.Property(e => e.SectionAsession2Grade).HasColumnName("SectionASession2Grade");

                entity.Property(e => e.SectionAsession3Grade).HasColumnName("SectionASession3Grade");

                entity.Property(e => e.SectionBfinalGrade).HasColumnName("SectionBFinalGrade");

                entity.Property(e => e.SectionBfirstTermGrade).HasColumnName("SectionBFirstTermGrade");

                entity.Property(e => e.SectionBhours).HasColumnName("SectionBHours");

                entity.Property(e => e.SectionBsecondTermGrade).HasColumnName("SectionBSecondTermGrade");

                entity.Property(e => e.SectionBsession1Grade).HasColumnName("SectionBSession1Grade");

                entity.Property(e => e.SectionBsession2Grade).HasColumnName("SectionBSession2Grade");

                entity.Property(e => e.SectionBsession3Grade).HasColumnName("SectionBSession3Grade");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodEvaluationSectionAbCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionAB_Person_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodEvaluationSectionAbModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodEvaluationSectionAB_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodEvaluationSectionAbs)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionAB_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodEvaluationSectionAbs)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionAB_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodEvaluationSectionAbs)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodEvaluationSectionAb_StudentClass");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.LodEvaluationSectionAbs)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionAB_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.LodEvaluationSectionAbs)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_LodEvaluationSectionAB_SubjectType");
            });

            modelBuilder.Entity<LodEvaluationSectionG>(entity =>
            {
                entity.ToTable("LodEvaluationSectionG", "student");

                entity.HasIndex(e => e.PersonId);

                entity.HasIndex(e => e.StudentClassId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((1))");

                entity.Property(e => e.IsSelfEduForm).HasColumnName("isSelfEduForm");

                entity.Property(e => e.SectionGfinalGrade).HasColumnName("SectionGFinalGrade");

                entity.Property(e => e.SectionGfirstTermGrade).HasColumnName("SectionGFirstTermGrade");

                entity.Property(e => e.SectionGhours).HasColumnName("SectionGHours");

                entity.Property(e => e.SectionGsecondTermGrade).HasColumnName("SectionGSecondTermGrade");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodEvaluationSectionGCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionG_Person_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodEvaluationSectionGModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodEvaluationSectionG_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodEvaluationSectionGs)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionG_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodEvaluationSectionGs)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionG_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodEvaluationSectionGs)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodEvaluationSectionG_StudentClass");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.LodEvaluationSectionGs)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionG_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.LodEvaluationSectionGs)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_LodEvaluationSectionG_SubjectType");
            });

            modelBuilder.Entity<LodEvaluationSectionV>(entity =>
            {
                entity.ToTable("LodEvaluationSectionV", "student");

                entity.HasIndex(e => e.PersonId);

                entity.HasIndex(e => e.StudentClassId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((1))");

                entity.Property(e => e.SectionVfinalGrade).HasColumnName("SectionVFinalGrade");

                entity.Property(e => e.SectionVfirstTermGrade).HasColumnName("SectionVFirstTermGrade");

                entity.Property(e => e.SectionVhours).HasColumnName("SectionVHours");

                entity.Property(e => e.SectionVsecondTermGrade).HasColumnName("SectionVSecondTermGrade");

                entity.Property(e => e.SectionVsession1Grade).HasColumnName("SectionVSession1Grade");

                entity.Property(e => e.SectionVsession2Grade).HasColumnName("SectionVSession2Grade");

                entity.Property(e => e.SectionVsession3Grade).HasColumnName("SectionVSession3Grade");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodEvaluationSectionVCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionV_Person_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodEvaluationSectionVModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodEvaluationSectionV_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodEvaluationSectionVs)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionV_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodEvaluationSectionVs)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionV_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodEvaluationSectionVs)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodEvaluationSectionV_StudentClass");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.LodEvaluationSectionVs)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodEvaluationSectionV_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.LodEvaluationSectionVs)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_LodEvaluationSectionV_SubjectType");
            });

            modelBuilder.Entity<LodEvaluationsResult>(entity =>
            {
                entity.ToTable("LodEvaluationsResult", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<LodFinalizationSignatory>(entity =>
            {
                entity.ToTable("LodFinalizationSignatory", "student");

                entity.Property(e => e.Activity).IsRequired();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.LodfinalizationId).HasColumnName("LODFinalizationId");

                entity.Property(e => e.Reason).HasMaxLength(1000);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodFinalizationSignatories)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFinalizationSignatory_Creator_SysUser");

                entity.HasOne(d => d.Lodfinalization)
                    .WithMany(p => p.LodFinalizationSignatories)
                    .HasForeignKey(d => d.LodfinalizationId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LODFinalizationSignatory_LODFinalization");

                entity.HasOne(d => d.SysRole)
                    .WithMany(p => p.LodFinalizationSignatories)
                    .HasForeignKey(d => d.SysRoleId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LODFinalizationSignatory_SysRole");
            });

            modelBuilder.Entity<LodFirstGradeEvaluation>(entity =>
            {
                entity.ToTable("LodFirstGradeEvaluation", "student");

                entity.HasIndex(e => e.PersonId);

                entity.HasIndex(e => e.StudentClassId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((1))");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodFirstGradeEvaluationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_Person_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodFirstGradeEvaluationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodFirstGradeEvaluations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodFirstGradeEvaluations)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodFirstGradeEvaluations)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_StudentClass");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.LodFirstGradeEvaluations)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.LodFirstGradeEvaluations)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_LodFirstGradeEvaluation_SubjectType");
            });

            modelBuilder.Entity<LodFirstGradeResult>(entity =>
            {
                entity.ToTable("LodFirstGradeResult", "student");

                entity.HasIndex(e => e.PersonId);

                entity.HasIndex(e => e.StudentClassId);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodFirstGradeResultCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeResult_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodFirstGradeResultModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodFirstGradeResult_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodFirstGradeResults)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeResult_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodFirstGradeResults)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodFirstGradeResult_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodFirstGradeResults)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodFirstGradeResult_StudentClass");
            });

            modelBuilder.Entity<LodSelfEduFormEvaluation>(entity =>
            {
                entity.ToTable("LodSelfEduFormEvaluation", "student");

                entity.HasIndex(e => e.PersonId);

                entity.HasIndex(e => e.StudentClassId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((1))");

                entity.Property(e => e.SectionAfinalGrade).HasColumnName("SectionAFinalGrade");

                entity.Property(e => e.SectionAhours).HasColumnName("SectionAHours");

                entity.Property(e => e.SectionAsession0Grade).HasColumnName("SectionASession0Grade");

                entity.Property(e => e.SectionAsession1Grade).HasColumnName("SectionASession1Grade");

                entity.Property(e => e.SectionAsession2Grade).HasColumnName("SectionASession2Grade");

                entity.Property(e => e.SectionAsession3Grade).HasColumnName("SectionASession3Grade");

                entity.Property(e => e.SectionBfinalGrade).HasColumnName("SectionBFinalGrade");

                entity.Property(e => e.SectionBhours).HasColumnName("SectionBHours");

                entity.Property(e => e.SectionBsession0Grade).HasColumnName("SectionBSession0Grade");

                entity.Property(e => e.SectionBsession1Grade).HasColumnName("SectionBSession1Grade");

                entity.Property(e => e.SectionBsession2Grade).HasColumnName("SectionBSession2Grade");

                entity.Property(e => e.SectionBsession3Grade).HasColumnName("SectionBSession3Grade");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodSelfEduFormEvaluationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_Person_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodSelfEduFormEvaluationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.LodSelfEduFormEvaluations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.LodSelfEduFormEvaluations)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_CurrentYear");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.LodSelfEduFormEvaluations)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_StudentClass");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.LodSelfEduFormEvaluations)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.LodSelfEduFormEvaluations)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_LodSelfEduFormEvaluation_SubjectType");
            });

            modelBuilder.Entity<Lodfinalization>(entity =>
            {
                entity.ToTable("LODFinalization", "student");

                entity.HasIndex(e => new { e.PersonId, e.SchoolYear })
                    .HasName("AK_PersonId_SchoolYear")
                    .IsUnique();

                entity.HasIndex(e => new { e.PersonId, e.SchoolYear, e.IsFinalized })
                    .HasName("IX_LODFinalization_SchoolYear_IsFinalized");

                entity.HasIndex(e => new { e.IsFinalized, e.IsApproved, e.PersonId, e.SchoolYear })
                    .HasName("IX_LODFinalization_PersonId_SchoolYear");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.LodfinalizationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LODFinalization_Creator_SysUser");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.Lodfinalizations)
                    .HasForeignKey(d => d.DocumentId)
                    .HasConstraintName("FK_LODFinalization_Document");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.LodfinalizationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_LODFinalization_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Lodfinalizations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_LODFinalization_Person");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.Lodfinalizations)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_Lodfinalization_StudentClass");
            });

            modelBuilder.Entity<Message>(entity =>
            {
                entity.ToTable("Message", "student");

                entity.HasIndex(e => e.ReceiverId);

                entity.Property(e => e.Contents).IsRequired();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Subject)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.MessageCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Message_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.MessageModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Message_Updater_SysUser");

                entity.HasOne(d => d.Receiver)
                    .WithMany(p => p.MessageReceivers)
                    .HasForeignKey(d => d.ReceiverId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Message_Receiver_SysUser");

                entity.HasOne(d => d.Sender)
                    .WithMany(p => p.MessageSenders)
                    .HasForeignKey(d => d.SenderId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Message_Sender_SysUser");
            });

            modelBuilder.Entity<MessageAttachment>(entity =>
            {
                entity.ToTable("MessageAttachment", "student");

                entity.HasIndex(e => e.MessageId);

                entity.Property(e => e.ContentType).HasMaxLength(255);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.FileName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.MessageAttachmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_MessageAttachment_Creator_SysUser");

                entity.HasOne(d => d.Message)
                    .WithMany(p => p.MessageAttachments)
                    .HasForeignKey(d => d.MessageId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_MessageAttachmentDocument_Message");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.MessageAttachmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_MessageAttachment_Updater_SysUser");
            });

            modelBuilder.Entity<Ministry>(entity =>
            {
                entity.ToTable("Ministry", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.NameDe)
                    .HasColumnName("NameDE")
                    .HasMaxLength(255);

                entity.Property(e => e.NameEn)
                    .HasColumnName("NameEN")
                    .HasMaxLength(255);

                entity.Property(e => e.NameFr)
                    .HasColumnName("NameFR")
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ModernizationDegree>(entity =>
            {
                entity.ToTable("ModernizationDegree", "inst_nom");

                entity.Property(e => e.ModernizationDegreeId).HasColumnName("ModernizationDegreeID");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<Month>(entity =>
            {
                entity.ToTable("Month", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Municipality>(entity =>
            {
                entity.ToTable("Municipality", "location");

                entity.Property(e => e.MunicipalityId)
                    .HasColumnName("MunicipalityID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Code)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.RegionId).HasColumnName("RegionID");

                entity.HasOne(d => d.Region)
                    .WithMany(p => p.Municipalities)
                    .HasForeignKey(d => d.RegionId)
                    .HasConstraintName("FK_Municipality_Region");
            });

            modelBuilder.Entity<NaturalIndicator>(entity =>
            {
                entity.HasKey(e => new { e.SchoolYear, e.Period, e.InstitutionId })
                    .HasName("PK__NaturalI__A603B8BDB67299D8");

                entity.ToTable("NaturalIndicators", "finance");

                entity.Property(e => e.Col1)
                    .HasColumnName("col1")
                    .HasMaxLength(255);

                entity.Property(e => e.Col10)
                    .HasColumnName("col10")
                    .HasMaxLength(50);

                entity.Property(e => e.Col100).HasColumnName("col100");

                entity.Property(e => e.Col101).HasColumnName("col101");

                entity.Property(e => e.Col106).HasColumnName("col106");

                entity.Property(e => e.Col107).HasColumnName("col107");

                entity.Property(e => e.Col108).HasColumnName("col108");

                entity.Property(e => e.Col109).HasColumnName("col109");

                entity.Property(e => e.Col11)
                    .HasColumnName("col11")
                    .HasColumnType("decimal(18, 2)");

                entity.Property(e => e.Col110).HasColumnName("col110");

                entity.Property(e => e.Col111).HasColumnName("col111");

                entity.Property(e => e.Col112).HasColumnName("col112");

                entity.Property(e => e.Col113).HasColumnName("col113");

                entity.Property(e => e.Col114).HasColumnName("col114");

                entity.Property(e => e.Col115).HasColumnName("col115");

                entity.Property(e => e.Col116).HasColumnName("col116");

                entity.Property(e => e.Col117).HasColumnName("col117");

                entity.Property(e => e.Col118).HasColumnName("col118");

                entity.Property(e => e.Col119).HasColumnName("col119");

                entity.Property(e => e.Col12).HasColumnName("col12");

                entity.Property(e => e.Col120).HasColumnName("col120");

                entity.Property(e => e.Col121).HasColumnName("col121");

                entity.Property(e => e.Col122).HasColumnName("col122");

                entity.Property(e => e.Col123).HasColumnName("col123");

                entity.Property(e => e.Col124).HasColumnName("col124");

                entity.Property(e => e.Col125).HasColumnName("col125");

                entity.Property(e => e.Col126).HasColumnName("col126");

                entity.Property(e => e.Col127).HasColumnName("col127");

                entity.Property(e => e.Col128).HasColumnName("col128");

                entity.Property(e => e.Col129).HasColumnName("col129");

                entity.Property(e => e.Col13)
                    .HasColumnName("col13")
                    .HasColumnType("decimal(18, 2)");

                entity.Property(e => e.Col130).HasColumnName("col130");

                entity.Property(e => e.Col131).HasColumnName("col131");

                entity.Property(e => e.Col132).HasColumnName("col132");

                entity.Property(e => e.Col133).HasColumnName("col133");

                entity.Property(e => e.Col134).HasColumnName("col134");

                entity.Property(e => e.Col135).HasColumnName("col135");

                entity.Property(e => e.Col136).HasColumnName("col136");

                entity.Property(e => e.Col137).HasColumnName("col137");

                entity.Property(e => e.Col138).HasColumnName("col138");

                entity.Property(e => e.Col139).HasColumnName("col139");

                entity.Property(e => e.Col14).HasColumnName("col14");

                entity.Property(e => e.Col140).HasColumnName("col140");

                entity.Property(e => e.Col141).HasColumnName("col141");

                entity.Property(e => e.Col142).HasColumnName("col142");

                entity.Property(e => e.Col143).HasColumnName("col143");

                entity.Property(e => e.Col144).HasColumnName("col144");

                entity.Property(e => e.Col145).HasColumnName("col145");

                entity.Property(e => e.Col146).HasColumnName("col146");

                entity.Property(e => e.Col146a).HasColumnName("col146a");

                entity.Property(e => e.Col147).HasColumnName("col147");

                entity.Property(e => e.Col148).HasColumnName("col148");

                entity.Property(e => e.Col149).HasColumnName("col149");

                entity.Property(e => e.Col15).HasColumnName("col15");

                entity.Property(e => e.Col150).HasColumnName("col150");

                entity.Property(e => e.Col150a).HasColumnName("col150a");

                entity.Property(e => e.Col151).HasColumnName("col151");

                entity.Property(e => e.Col151a).HasColumnName("col151a");

                entity.Property(e => e.Col152).HasColumnName("col152");

                entity.Property(e => e.Col153).HasColumnName("col153");

                entity.Property(e => e.Col154).HasColumnName("col154");

                entity.Property(e => e.Col155).HasColumnName("col155");

                entity.Property(e => e.Col156).HasColumnName("col156");

                entity.Property(e => e.Col157).HasColumnName("col157");

                entity.Property(e => e.Col158).HasColumnName("col158");

                entity.Property(e => e.Col159).HasColumnName("col159");

                entity.Property(e => e.Col16).HasColumnName("col16");

                entity.Property(e => e.Col160).HasColumnName("col160");

                entity.Property(e => e.Col161).HasColumnName("col161");

                entity.Property(e => e.Col162).HasColumnName("col162");

                entity.Property(e => e.Col163).HasColumnName("col163");

                entity.Property(e => e.Col164).HasColumnName("col164");

                entity.Property(e => e.Col165).HasColumnName("col165");

                entity.Property(e => e.Col166).HasColumnName("col166");

                entity.Property(e => e.Col167).HasColumnName("col167");

                entity.Property(e => e.Col168).HasColumnName("col168");

                entity.Property(e => e.Col169).HasColumnName("col169");

                entity.Property(e => e.Col17).HasColumnName("col17");

                entity.Property(e => e.Col170).HasColumnName("col170");

                entity.Property(e => e.Col171).HasColumnName("col171");

                entity.Property(e => e.Col172).HasColumnName("col172");

                entity.Property(e => e.Col173).HasColumnName("col173");

                entity.Property(e => e.Col174).HasColumnName("col174");

                entity.Property(e => e.Col175).HasColumnName("col175");

                entity.Property(e => e.Col176).HasColumnName("col176");

                entity.Property(e => e.Col177).HasColumnName("col177");

                entity.Property(e => e.Col178).HasColumnName("col178");

                entity.Property(e => e.Col179).HasColumnName("col179");

                entity.Property(e => e.Col18).HasColumnName("col18");

                entity.Property(e => e.Col180).HasColumnName("col180");

                entity.Property(e => e.Col181).HasColumnName("col181");

                entity.Property(e => e.Col182).HasColumnName("col182");

                entity.Property(e => e.Col183).HasColumnName("col183");

                entity.Property(e => e.Col184).HasColumnName("col184");

                entity.Property(e => e.Col19).HasColumnName("col19");

                entity.Property(e => e.Col2)
                    .HasColumnName("col2")
                    .HasMaxLength(255);

                entity.Property(e => e.Col20).HasColumnName("col20");

                entity.Property(e => e.Col21)
                    .HasColumnName("col21")
                    .HasColumnType("decimal(18, 2)");

                entity.Property(e => e.Col22)
                    .HasColumnName("col22")
                    .HasColumnType("decimal(18, 2)");

                entity.Property(e => e.Col23).HasColumnName("col23");

                entity.Property(e => e.Col24).HasColumnName("col24");

                entity.Property(e => e.Col25).HasColumnName("col25");

                entity.Property(e => e.Col26).HasColumnName("col26");

                entity.Property(e => e.Col27).HasColumnName("col27");

                entity.Property(e => e.Col28).HasColumnName("col28");

                entity.Property(e => e.Col29).HasColumnName("col29");

                entity.Property(e => e.Col3)
                    .HasColumnName("col3")
                    .HasMaxLength(255);

                entity.Property(e => e.Col30).HasColumnName("col30");

                entity.Property(e => e.Col31)
                    .HasColumnName("col31")
                    .HasColumnType("decimal(18, 2)");

                entity.Property(e => e.Col32).HasColumnName("col32");

                entity.Property(e => e.Col33).HasColumnName("col33");

                entity.Property(e => e.Col34).HasColumnName("col34");

                entity.Property(e => e.Col35).HasColumnName("col35");

                entity.Property(e => e.Col36).HasColumnName("col36");

                entity.Property(e => e.Col37).HasColumnName("col37");

                entity.Property(e => e.Col38).HasColumnName("col38");

                entity.Property(e => e.Col39).HasColumnName("col39");

                entity.Property(e => e.Col4).HasColumnName("col4");

                entity.Property(e => e.Col40).HasColumnName("col40");

                entity.Property(e => e.Col41).HasColumnName("col41");

                entity.Property(e => e.Col42).HasColumnName("col42");

                entity.Property(e => e.Col43).HasColumnName("col43");

                entity.Property(e => e.Col44).HasColumnName("col44");

                entity.Property(e => e.Col45).HasColumnName("col45");

                entity.Property(e => e.Col46).HasColumnName("col46");

                entity.Property(e => e.Col47).HasColumnName("col47");

                entity.Property(e => e.Col48)
                    .HasColumnName("col48")
                    .HasColumnType("decimal(18, 2)");

                entity.Property(e => e.Col49).HasColumnName("col49");

                entity.Property(e => e.Col5)
                    .HasColumnName("col5")
                    .HasMaxLength(255);

                entity.Property(e => e.Col50).HasColumnName("col50");

                entity.Property(e => e.Col51)
                    .HasColumnName("col51")
                    .HasColumnType("decimal(18, 2)");

                entity.Property(e => e.Col52).HasColumnName("col52");

                entity.Property(e => e.Col53)
                    .HasColumnName("col53")
                    .HasColumnType("decimal(18, 2)");

                entity.Property(e => e.Col54).HasColumnName("col54");

                entity.Property(e => e.Col55)
                    .HasColumnName("col55")
                    .HasColumnType("decimal(18, 2)");

                entity.Property(e => e.Col56).HasColumnName("col56");

                entity.Property(e => e.Col57)
                    .HasColumnName("col57")
                    .HasColumnType("decimal(18, 2)");

                entity.Property(e => e.Col58).HasColumnName("col58");

                entity.Property(e => e.Col59).HasColumnName("col59");

                entity.Property(e => e.Col6)
                    .HasColumnName("col6")
                    .HasMaxLength(255);

                entity.Property(e => e.Col60).HasColumnName("col60");

                entity.Property(e => e.Col61).HasColumnName("col61");

                entity.Property(e => e.Col62).HasColumnName("col62");

                entity.Property(e => e.Col63).HasColumnName("col63");

                entity.Property(e => e.Col64).HasColumnName("col64");

                entity.Property(e => e.Col65).HasColumnName("col65");

                entity.Property(e => e.Col66).HasColumnName("col66");

                entity.Property(e => e.Col67).HasColumnName("col67");

                entity.Property(e => e.Col68).HasColumnName("col68");

                entity.Property(e => e.Col69).HasColumnName("col69");

                entity.Property(e => e.Col7)
                    .HasColumnName("col7")
                    .HasMaxLength(255);

                entity.Property(e => e.Col70).HasColumnName("col70");

                entity.Property(e => e.Col71).HasColumnName("col71");

                entity.Property(e => e.Col72).HasColumnName("col72");

                entity.Property(e => e.Col73).HasColumnName("col73");

                entity.Property(e => e.Col74).HasColumnName("col74");

                entity.Property(e => e.Col75).HasColumnName("col75");

                entity.Property(e => e.Col76).HasColumnName("col76");

                entity.Property(e => e.Col77).HasColumnName("col77");

                entity.Property(e => e.Col78).HasColumnName("col78");

                entity.Property(e => e.Col79).HasColumnName("col79");

                entity.Property(e => e.Col8)
                    .HasColumnName("col8")
                    .HasMaxLength(255);

                entity.Property(e => e.Col80).HasColumnName("col80");

                entity.Property(e => e.Col81).HasColumnName("col81");

                entity.Property(e => e.Col82).HasColumnName("col82");

                entity.Property(e => e.Col83).HasColumnName("col83");

                entity.Property(e => e.Col84).HasColumnName("col84");

                entity.Property(e => e.Col85).HasColumnName("col85");

                entity.Property(e => e.Col86).HasColumnName("col86");

                entity.Property(e => e.Col87).HasColumnName("col87");

                entity.Property(e => e.Col88).HasColumnName("col88");

                entity.Property(e => e.Col89).HasColumnName("col89");

                entity.Property(e => e.Col9).HasColumnName("col9");

                entity.Property(e => e.Col90).HasColumnName("col90");

                entity.Property(e => e.Col91).HasColumnName("col91");

                entity.Property(e => e.Col98).HasColumnName("col98");

                entity.Property(e => e.Col99).HasColumnName("col99");

                entity.Property(e => e.ExecutionTime).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<NaturalIndicatorsColumn>(entity =>
            {
                entity.ToTable("NaturalIndicatorsColumn", "finance");

                entity.Property(e => e.ColumnName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Description).HasMaxLength(255);

                entity.Property(e => e.DetailedSchoolTypes).HasMaxLength(255);
            });

            modelBuilder.Entity<NaturalIndicatorsPrice>(entity =>
            {
                entity.ToTable("NaturalIndicatorsPrice", "finance");

                entity.Property(e => e.AltCurrency)
                    .IsRequired()
                    .HasMaxLength(3)
                    .IsUnicode(false)
                    .HasComputedColumnSql("(case when [Currency]='BGN' then 'EUR' else 'BGN' end)");

                entity.Property(e => e.AltPrice)
                    .HasColumnType("numeric(21, 10)")
                    .HasComputedColumnSql("(case when [Currency]='BGN' then round([Price]/(1.955830),(6)) else round([Price]*(1.955830),(6)) end)");

                entity.Property(e => e.ColumnName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Currency)
                    .IsRequired()
                    .HasMaxLength(3)
                    .IsUnicode(false)
                    .HasDefaultValueSql("('BGN')");

                entity.Property(e => e.Price).HasColumnType("decimal(7, 2)");
            });

            modelBuilder.Entity<Nkpdclass>(entity =>
            {
                entity.ToTable("NKPDClass", "inst_nom");

                entity.Property(e => e.NkpdclassId)
                    .HasColumnName("NKPDClassID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Code)
                    .HasMaxLength(10)
                    .IsFixedLength();

                entity.Property(e => e.Descrition).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<Nkpdgroup>(entity =>
            {
                entity.ToTable("NKPDGroup", "inst_nom");

                entity.Property(e => e.NkpdgroupId)
                    .HasColumnName("NKPDGroupID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Code)
                    .HasMaxLength(10)
                    .IsFixedLength();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.NkpdsubClassId).HasColumnName("NKPDSubClassID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.NkpdsubClass)
                    .WithMany(p => p.Nkpdgroups)
                    .HasForeignKey(d => d.NkpdsubClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_NKPDGroupNKPDSubClass");
            });

            modelBuilder.Entity<Nkpdposition>(entity =>
            {
                entity.ToTable("NKPDPosition", "inst_nom");

                entity.Property(e => e.NkpdpositionId)
                    .HasColumnName("NKPDPositionID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Code)
                    .HasMaxLength(10)
                    .IsFixedLength();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.NkpdsubGroupId).HasColumnName("NKPDSubGroupID");

                entity.Property(e => e.StaffTypeId).HasColumnName("StaffTypeID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.NkpdsubGroup)
                    .WithMany(p => p.Nkpdpositions)
                    .HasForeignKey(d => d.NkpdsubGroupId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_NKPDPositionNKPDSubGroup");
            });

            modelBuilder.Entity<NkpdsubClass>(entity =>
            {
                entity.ToTable("NKPDSubClass", "inst_nom");

                entity.Property(e => e.NkpdsubClassId)
                    .HasColumnName("NKPDSubClassID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Code)
                    .HasMaxLength(10)
                    .IsFixedLength();

                entity.Property(e => e.Descrition).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.NkpdclassId).HasColumnName("NKPDClassID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.Nkpdclass)
                    .WithMany(p => p.NkpdsubClasses)
                    .HasForeignKey(d => d.NkpdclassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_NKPDSubClassNKPDClass");
            });

            modelBuilder.Entity<NkpdsubGroup>(entity =>
            {
                entity.ToTable("NKPDSubGroup", "inst_nom");

                entity.Property(e => e.NkpdsubGroupId)
                    .HasColumnName("NKPDSubGroupID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Code)
                    .HasMaxLength(10)
                    .IsFixedLength();

                entity.Property(e => e.Descrition).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.NkpdgroupId).HasColumnName("NKPDGroupID");

                entity.Property(e => e.StaffTypeId).HasColumnName("StaffTypeID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.Nkpdgroup)
                    .WithMany(p => p.NkpdsubGroups)
                    .HasForeignKey(d => d.NkpdgroupId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_NKPDSubGroupNKPDGroup");
            });

            modelBuilder.Entity<Nkrtype>(entity =>
            {
                entity.ToTable("NKRType", "document");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Note>(entity =>
            {
                entity.ToTable("Note", "student");

                entity.Property(e => e.Content).IsRequired();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.IssueDate).HasColumnType("date");

                entity.Property(e => e.Title)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.NoteCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Note_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.NoteModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Note_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Notes)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Note_Person");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Notes)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_Note_InstitutionSchoolYear");
            });

            modelBuilder.Entity<NoteDocument>(entity =>
            {
                entity.ToTable("NoteDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.NoteDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_NoteDocument_Document");

                entity.HasOne(d => d.Note)
                    .WithMany(p => p.NoteDocuments)
                    .HasForeignKey(d => d.NoteId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_NoteDocument_Note");
            });

            modelBuilder.Entity<ORESType>(entity =>
            {
                entity.ToTable("ORESType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Ore>(entity =>
            {
                entity.ToTable("Ores", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.OreCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Ores_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.OreModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Ores_Updater_SysUser");

                entity.HasOne(d => d.OresType)
                    .WithMany(p => p.Ores)
                    .HasForeignKey(d => d.OresTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Ores_OresType");
            });

            modelBuilder.Entity<OresAttachment>(entity =>
            {
                entity.ToTable("OresAttachment", "student");

                entity.HasIndex(e => e.OresId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.OresAttachmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OresAttachment_Creator_SysUser");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.OresAttachments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OresAttachment_Document");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.OresAttachmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Ores_OresAttachment_SysUser");

                entity.HasOne(d => d.Ores)
                    .WithMany(p => p.OresAttachments)
                    .HasForeignKey(d => d.OresId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OresAttachment_Ores");
            });

            modelBuilder.Entity<OresToEntity>(entity =>
            {
                entity.ToTable("OresToEntity", "student");

                entity.HasIndex(e => e.OresId);

                entity.HasIndex(e => new { e.OresId, e.ClassId })
                    .HasName("UQ_OresToEntity_ClassId")
                    .IsUnique()
                    .HasFilter("([ClassId] IS NOT NULL)");

                entity.HasIndex(e => new { e.OresId, e.InstitutionId })
                    .HasName("UQ_OresToEntity_InstitutionId")
                    .IsUnique()
                    .HasFilter("([InstitutionId] IS NOT NULL)");

                entity.HasIndex(e => new { e.OresId, e.PersonId })
                    .HasName("UQ_OresToEntity_PersonId")
                    .IsUnique()
                    .HasFilter("([PersonId] IS NOT NULL)");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.Class)
                    .WithMany(p => p.OresToEntities)
                    .HasForeignKey(d => d.ClassId)
                    .HasConstraintName("FK_OresToEntity_ClassGroup");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.OresToEntityCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OresToEntity_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.OresToEntityModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Ores_OresToEntity_SysUser");

                entity.HasOne(d => d.Ores)
                    .WithMany(p => p.OresToEntities)
                    .HasForeignKey(d => d.OresId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OresToEntity_Ores");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.OresToEntities)
                    .HasForeignKey(d => d.PersonId)
                    .HasConstraintName("FK_OresToEntity_Person");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.OresToEntities)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_Ores_OresToEntity_StudentClass");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.OresToEntities)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_OresToEntity_InstitutionSchoolYear");
            });

            modelBuilder.Entity<OriginalDiploma>(entity =>
            {
                entity.ToTable("OriginalDiploma", "document");

                entity.HasIndex(e => e.DiplomaId)
                    .HasName("UQ__Original__048740513A7612B5");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.EducationType).HasMaxLength(100);

                entity.Property(e => e.InstituionRegion).HasMaxLength(50);

                entity.Property(e => e.InstitutionDistrict).HasMaxLength(50);

                entity.Property(e => e.InstitutionMunicipality).HasMaxLength(50);

                entity.Property(e => e.InstitutionName).HasMaxLength(255);

                entity.Property(e => e.InstitutionTown).HasMaxLength(50);

                entity.Property(e => e.Number).HasMaxLength(50);

                entity.Property(e => e.Qualification).HasMaxLength(100);

                entity.Property(e => e.RegDate).HasColumnType("date");

                entity.Property(e => e.RegNumber1).HasMaxLength(50);

                entity.Property(e => e.RegNumber2).HasMaxLength(50);

                entity.Property(e => e.Series).HasMaxLength(50);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.OriginalDiplomaCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OriginalDiploma_Creator_SysUser");

                entity.HasOne(d => d.Diploma)
                    .WithMany(p => p.OriginalDiplomas)
                    .HasForeignKey(d => d.DiplomaId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OriginalDiploma_Diploma");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.OriginalDiplomaModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Originaliploma_Updater_SysUser");
            });

            modelBuilder.Entity<OtherDocument>(entity =>
            {
                entity.ToTable("OtherDocument", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DeliveryDate).HasColumnType("date");

                entity.Property(e => e.Description).HasMaxLength(400);

                entity.Property(e => e.FactoryNumber).HasMaxLength(50);

                entity.Property(e => e.InstitutionName).HasMaxLength(1000);

                entity.Property(e => e.IssueDate).HasColumnType("date");

                entity.Property(e => e.RegNumber).HasMaxLength(400);

                entity.Property(e => e.RegNumberTotal).HasMaxLength(400);

                entity.Property(e => e.Series).HasMaxLength(50);

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.OtherDocuments)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherDocument_BasicDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.OtherDocuments)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherDocument_Creator_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.OtherDocuments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherDocument_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.OtherDocuments)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherDocument_SchoolYear");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.OtherDocuments)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_OtherDocument_InstitutionSchoolYear");
            });

            modelBuilder.Entity<OtherDocumentDocument>(entity =>
            {
                entity.ToTable("OtherDocumentDocument", "student");

                entity.HasIndex(e => e.OtherDocumentId);

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.OtherDocumentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherDocumentDocument_Document");

                entity.HasOne(d => d.OtherDocument)
                    .WithMany(p => p.OtherDocumentDocuments)
                    .HasForeignKey(d => d.OtherDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherDocumentDocument_OtherDocument");
            });

            modelBuilder.Entity<OtherInstitution>(entity =>
            {
                entity.ToTable("OtherInstitution", "student");

                entity.HasIndex(e => new { e.InstitutionId, e.PersonId });

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ModifyDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.Reason).HasMaxLength(2048);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.OtherInstitutionCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherInstitution_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.OtherInstitutionModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_OtherInstitution_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.OtherInstitutions)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_OtherInstitution_Person");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.OtherInstitutions)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_OtherInstitution_InstitutionSchoolYear");
            });

            modelBuilder.Entity<Participation>(entity =>
            {
                entity.ToTable("Participation", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidForStudent)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<PedStaffDatum>(entity =>
            {
                entity.HasKey(e => e.PedStaffDataId);

                entity.ToTable("PedStaffData", "inst_year");

                entity.HasComment("Годишна преподавателска заетос");

                entity.HasIndex(e => e.StaffPositionId);

                entity.Property(e => e.PedStaffDataId)
                    .HasColumnName("PedStaffDataID")
                    .HasComment("ID на записа (autoincrement)");

                entity.Property(e => e.DeficitNorma).HasComment("Недостиг до минимална ЗНПР");

                entity.Property(e => e.DeficitNormaT).HasComment("Недостиг до индивидуална ЗНПР");

                entity.Property(e => e.DiffNorma).HasComment("Часове с различен норматив");

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.HoursForReduction).HasComment("Часове, подлежащи на редукция ");

                entity.Property(e => e.Lect).HasComment("Лекторски / недостиг - инд.ЗНП");

                entity.Property(e => e.LectYear).HasComment("Лекторски / недостиг - инд.ЗНП");

                entity.Property(e => e.Norma).HasComment("Минимална ЗНПР");

                entity.Property(e => e.NormaS).HasComment("Часове по норматив на РМ");

                entity.Property(e => e.NormaT).HasComment("Индивидуална ЗНПР");

                entity.Property(e => e.ReductionCoef).HasComment("Коефициент на редукция към ЗНП");

                entity.Property(e => e.ReductionHours).HasComment("Брой часове след редукция");

                entity.Property(e => e.StaffPositionId)
                    .HasColumnName("StaffPositionID")
                    .HasComment("Връзка към  длъжност");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.HasOne(d => d.StaffPosition)
                    .WithMany(p => p.PedStaffData)
                    .HasForeignKey(d => d.StaffPositionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PedStaffDataStaffPosition");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.PedStaffData)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_PedStaffDataSysUser");
            });

            modelBuilder.Entity<Person>(entity =>
            {
                entity.ToTable("Person", "core");

                entity.HasComment("Персонал, ученици, родители - ");

                entity.HasIndex(e => e.PersonalId)
                    .HasName("UQ_Person_PersonalID")
                    .IsUnique()
                    .HasFilter("([PersonalID] IS NOT NULL)");

                entity.Property(e => e.PersonId)
                    .HasColumnName("PersonID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.AzureId)
                    .HasColumnName("AzureID")
                    .HasMaxLength(100)
                    .IsUnicode(false);

                entity.Property(e => e.BirthDate)
                    .HasColumnType("date")
                    .HasComment("Дата на раждане");

                entity.Property(e => e.BirthPlace).HasMaxLength(255);

                entity.Property(e => e.BirthPlaceCountry).HasComment("Месторождение - Държава");

                entity.Property(e => e.BirthPlaceTownId)
                    .HasColumnName("BirthPlaceTownID")
                    .HasComment("Месторождение - населено място");

                entity.Property(e => e.CurrentAddress)
                    .HasMaxLength(2048)
                    .HasComment("Настоящ адрес");

                entity.Property(e => e.CurrentTownId)
                    .HasColumnName("CurrentTownID")
                    .HasComment("Настоящ адрес - населено място");

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Име");

                entity.Property(e => e.Gender).HasComment("Пол");

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Фамилия");

                entity.Property(e => e.MiddleName)
                    .HasMaxLength(255)
                    .HasComment("Презиме");

                entity.Property(e => e.NationalityId)
                    .HasColumnName("NationalityID")
                    .HasComment("Гражданство");

                entity.Property(e => e.PermanentAddress)
                    .HasMaxLength(2048)
                    .HasComment("Постоянен адрес");

                entity.Property(e => e.PermanentTownId)
                    .HasColumnName("PermanentTownID")
                    .HasComment("Постоянен адрес - населено мяс");

                entity.Property(e => e.PersonalId)
                    .HasColumnName("PersonalID")
                    .HasMaxLength(255)
                    .HasComment("ЕГН/ЛНЧ/Личен номер на чуждене");

                entity.Property(e => e.PersonalIdtype)
                    .HasColumnName("PersonalIDType")
                    .HasComment("Вид идентификатор");

                entity.Property(e => e.PublicEduNumber).HasComment("Личен образователен номер");

                entity.Property(e => e.SchoolBooksCodesId)
                    .HasColumnName("SchoolBooksCodesID")
                    .HasMaxLength(10)
                    .IsUnicode(false);

                entity.HasOne(d => d.BirthPlaceCountryNavigation)
                    .WithMany(p => p.PersonBirthPlaceCountryNavigations)
                    .HasForeignKey(d => d.BirthPlaceCountry)
                    .HasConstraintName("FK_Person_Country_BirthPlace");

                entity.HasOne(d => d.BirthPlaceTown)
                    .WithMany(p => p.PersonBirthPlaceTowns)
                    .HasForeignKey(d => d.BirthPlaceTownId)
                    .HasConstraintName("FK_Person_Town_BirthPlace");

                entity.HasOne(d => d.CurrentTown)
                    .WithMany(p => p.PersonCurrentTowns)
                    .HasForeignKey(d => d.CurrentTownId)
                    .HasConstraintName("FK_Person_Town_Current");

                entity.HasOne(d => d.GenderNavigation)
                    .WithMany(p => p.People)
                    .HasForeignKey(d => d.Gender)
                    .HasConstraintName("FK_Person_Gender");

                entity.HasOne(d => d.Nationality)
                    .WithMany(p => p.PersonNationalities)
                    .HasForeignKey(d => d.NationalityId)
                    .HasConstraintName("FK_Person_Country");

                entity.HasOne(d => d.PermanentTown)
                    .WithMany(p => p.PersonPermanentTowns)
                    .HasForeignKey(d => d.PermanentTownId)
                    .HasConstraintName("FK_Person_Town_Permanent");

                entity.HasOne(d => d.PersonalIdtypeNavigation)
                    .WithMany(p => p.People)
                    .HasForeignKey(d => d.PersonalIdtype)
                    .HasConstraintName("FK_Person_PersonalIDType");
            });

            modelBuilder.Entity<PersonalDevelopmentAdditionalSupportType>(entity =>
            {
                entity.ToTable("PersonalDevelopmentAdditionalSupportType", "student");

                entity.Property(e => e.Information).HasMaxLength(2000);

                entity.HasOne(d => d.AdditionalSupportType)
                    .WithMany(p => p.PersonalDevelopmentAdditionalSupportTypes)
                    .HasForeignKey(d => d.AdditionalSupportTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentAdditionalSupportType_AdditionalSupportType");

                entity.HasOne(d => d.PersonalDevelopmentSupport)
                    .WithMany(p => p.PersonalDevelopmentAdditionalSupportTypes)
                    .HasForeignKey(d => d.PersonalDevelopmentSupportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentAdditionalSupportType_PersonalDevelopmentSupport");
            });

            modelBuilder.Entity<PersonalDevelopmentCommonSupportType>(entity =>
            {
                entity.ToTable("PersonalDevelopmentCommonSupportType", "student");

                entity.Property(e => e.Information).HasMaxLength(2000);

                entity.HasOne(d => d.CommonSupportType)
                    .WithMany(p => p.PersonalDevelopmentCommonSupportTypes)
                    .HasForeignKey(d => d.CommonSupportTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentCommonSupportType_CommonSupportType");

                entity.HasOne(d => d.PersonalDevelopmentSupport)
                    .WithMany(p => p.PersonalDevelopmentCommonSupportTypes)
                    .HasForeignKey(d => d.PersonalDevelopmentSupportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentCommonSupportType_PersonalDevelopmentSupport");
            });

            modelBuilder.Entity<PersonalDevelopmentDocument>(entity =>
            {
                entity.ToTable("PersonalDevelopmentDocument", "student");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.PersonalDevelopmentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentDocument_Document");

                entity.HasOne(d => d.PersonalDevelopmentSupport)
                    .WithMany(p => p.PersonalDevelopmentDocuments)
                    .HasForeignKey(d => d.PersonalDevelopmentSupportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentDocument_PersonalDevelopmentSupport");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.PersonalDevelopmentDocuments)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_PersonalDevelopmentDocument_SysUser");
            });

            modelBuilder.Entity<PersonalDevelopmentEarlyEvaluationReason>(entity =>
            {
                entity.ToTable("PersonalDevelopmentEarlyEvaluationReason", "student");

                entity.Property(e => e.Information).HasMaxLength(2000);

                entity.HasOne(d => d.EarlyEvaluationReason)
                    .WithMany(p => p.PersonalDevelopmentEarlyEvaluationReasons)
                    .HasForeignKey(d => d.EarlyEvaluationReasonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentEarlyEvaluationReason_EarlyEvaluationReason");

                entity.HasOne(d => d.PersonalDevelopmentSupport)
                    .WithMany(p => p.PersonalDevelopmentEarlyEvaluationReasons)
                    .HasForeignKey(d => d.PersonalDevelopmentSupportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentEarlyEvaluationReason_PersonalDevelopmentSupport");
            });

            modelBuilder.Entity<PersonalDevelopmentSupport>(entity =>
            {
                entity.ToTable("PersonalDevelopmentSupport", "student");

                entity.HasIndex(e => new { e.SchoolYear, e.PersonId, e.StudentTypeId, e.SupportPeriodTypeId })
                    .HasName("UQ_PersonalDevelopmentSupport")
                    .IsUnique();

                entity.Property(e => e.AdditionalModulesNeededForNonBulgarianSpeakingInfo).HasMaxLength(2000);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasDefaultValueSql("((8))");

                entity.Property(e => e.EarlyEvaluationAndEducationalRiskInfo).HasMaxLength(2000);

                entity.Property(e => e.EvaluationConclusionInfo).HasMaxLength(2000);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.PersonalDevelopmentSupportCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentSupport_Person_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.PersonalDevelopmentSupportModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_PersonalDevelopmentSupport_Person_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.PersonalDevelopmentSupports)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentSupport_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.PersonalDevelopmentSupports)
                    .HasPrincipalKey(p => p.TempCurrentYearId)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalDevelopmentSupport_SchoolYear");

                entity.HasOne(d => d.StudentType)
                    .WithMany(p => p.PersonalDevelopmentSupports)
                    .HasForeignKey(d => d.StudentTypeId)
                    .HasConstraintName("FK_PersonalDevelopmentSupport_StudentType");

                entity.HasOne(d => d.SupportPeriodType)
                    .WithMany(p => p.PersonalDevelopmentSupports)
                    .HasForeignKey(d => d.SupportPeriodTypeId)
                    .HasConstraintName("FK_PersonalDevelopmentSupport_SupportPeriod");
            });

            modelBuilder.Entity<PersonalEarlyAssessment>(entity =>
            {
                entity.ToTable("PersonalEarlyAssessment", "student");

                entity.HasIndex(e => e.PersonId);

                entity.Property(e => e.AdditionalInfo).HasMaxLength(2048);

                entity.Property(e => e.BgAdditionalTrainingInfo).HasMaxLength(2048);

                entity.Property(e => e.ConclusionInfo).HasMaxLength(2048);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.PersonalEarlyAssessmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalEarlyAssessment_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.PersonalEarlyAssessmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_PersonalEarlyAssessment_ModifiedSysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.PersonalEarlyAssessments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalEarlyAssessment_Person");
            });

            modelBuilder.Entity<PersonalEarlyAssessmentAttachment>(entity =>
            {
                entity.ToTable("PersonalEarlyAssessmentAttachment", "student");

                entity.HasIndex(e => e.PersonalEarlyAssessmentId);

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.PersonalEarlyAssessmentAttachments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalEarlyAssessmentAttachment_Document");

                entity.HasOne(d => d.PersonalEarlyAssessment)
                    .WithMany(p => p.PersonalEarlyAssessmentAttachments)
                    .HasForeignKey(d => d.PersonalEarlyAssessmentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalEarlyAssessmentAttachment_PersonalEarlyAssessment");
            });

            modelBuilder.Entity<PersonalEarlyAssessmentDisabilityReason>(entity =>
            {
                entity.ToTable("PersonalEarlyAssessmentDisabilityReason", "student");

                entity.HasIndex(e => e.PersonalEarlyAssessmentId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Details).HasMaxLength(2048);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.PersonalEarlyAssessmentDisabilityReasonCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalEarlyAssessmentDisabilityReason_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.PersonalEarlyAssessmentDisabilityReasonModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_PersonalEarlyAssessmentDisabilityReaso_ModifiedSysUser");

                entity.HasOne(d => d.PersonalEarlyAssessment)
                    .WithMany(p => p.PersonalEarlyAssessmentDisabilityReasons)
                    .HasForeignKey(d => d.PersonalEarlyAssessmentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalEarlyAssessmentDisabilityReason_PersonalEarlyAssessmentt");

                entity.HasOne(d => d.Reason)
                    .WithMany(p => p.PersonalEarlyAssessmentDisabilityReasons)
                    .HasForeignKey(d => d.ReasonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalEarlyAssessmentDisabilityReason_EarlyEvaluationReason");
            });

            modelBuilder.Entity<PersonalEarlyAssessmentLearningDisability>(entity =>
            {
                entity.HasKey(e => e.PersonalEarlyAssessmentId);

                entity.ToTable("PersonalEarlyAssessmentLearningDisability", "student");

                entity.Property(e => e.PersonalEarlyAssessmentId).ValueGeneratedNever();

                entity.Property(e => e.AgeRange).HasMaxLength(255);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Details).HasMaxLength(2048);

                entity.Property(e => e.Result).HasMaxLength(255);

                entity.Property(e => e.Score).HasColumnType("decimal(5, 2)");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.PersonalEarlyAssessmentLearningDisabilityCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalEarlyAssessmentLearningDisability_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.PersonalEarlyAssessmentLearningDisabilityModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_PersonalEarlyAssessmentLearningDisabilityt_ModifiedSysUser");

                entity.HasOne(d => d.PersonalEarlyAssessment)
                    .WithOne(p => p.PersonalEarlyAssessmentLearningDisability)
                    .HasForeignKey<PersonalEarlyAssessmentLearningDisability>(d => d.PersonalEarlyAssessmentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PersonalEarlyAssessmentLearningDisability_PersonalEarlyAssessment");
            });

            modelBuilder.Entity<PersonalIdtype>(entity =>
            {
                entity.ToTable("PersonalIDType", "noms");

                entity.Property(e => e.PersonalIdtypeId)
                    .HasColumnName("PersonalIDTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<PgResult>(entity =>
            {
                entity.HasKey(e => new { e.SchoolYear, e.PgResultId })
                    .IsClustered(false);

                entity.ToTable("PgResult", "school_books");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassBookId, e.PersonId })
                    .HasName("UK_PgResult_SchoolYear_ClassBookId_PersonId")
                    .IsUnique();

                entity.HasIndex(e => new { e.SchoolYear, e.ClassBookId, e.PgResultId })
                    .HasName("UK_PgResult")
                    .IsUnique()
                    .IsClustered();

                entity.Property(e => e.EndSchoolYearResult).HasMaxLength(4000);

                entity.Property(e => e.StartSchoolYearResult).HasMaxLength(4000);

                entity.Property(e => e.Version)
                    .IsRequired()
                    .IsRowVersion()
                    .IsConcurrencyToken();

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.PgResultCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PgResult_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.PgResultModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PgResult_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.PgResults)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PgResult_Person");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.PgResults)
                    .HasForeignKey(d => d.SubjectId)
                    .HasConstraintName("FK_PgResult_Subject");

                entity.HasOne(d => d.ClassBook)
                    .WithMany(p => p.PgResults)
                    .HasForeignKey(d => new { d.SchoolYear, d.ClassBookId })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PgResult_ClassBook");
            });

            modelBuilder.Entity<PhoneType>(entity =>
            {
                entity.ToTable("PhoneType", "inst_nom");

                entity.Property(e => e.PhoneTypeId)
                    .HasColumnName("PhoneTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<Pkstype>(entity =>
            {
                entity.ToTable("PKSType", "inst_nom");

                entity.Property(e => e.PkstypeId)
                    .HasColumnName("PKSTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<PlaceCountType>(entity =>
            {
                entity.ToTable("PlaceCountType", "inst_nom");

                entity.Property(e => e.PlaceCountTypeId)
                    .HasColumnName("PlaceCountTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<Position>(entity =>
            {
                entity.ToTable("Position", "core");

                entity.Property(e => e.PositionId).HasColumnName("PositionID");

                entity.Property(e => e.Description)
                    .IsRequired()
                    .HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SysRoleId).HasColumnName("SysRoleID");

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");

                entity.HasOne(d => d.SysRole)
                    .WithMany(p => p.Positions)
                    .HasForeignKey(d => d.SysRoleId)
                    .HasConstraintName("FK_Position_SysRole");
            });

            modelBuilder.Entity<PositionKind>(entity =>
            {
                entity.ToTable("PositionKind", "inst_nom");

                entity.Property(e => e.PositionKindId)
                    .HasColumnName("PositionKindID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<PreSchoolEvaluation>(entity =>
            {
                entity.ToTable("PreSchoolEvaluation", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.PreSchoolEvaluations)
                    .HasForeignKey(d => d.BasicClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PreSchoolEvaluation_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.PreSchoolEvaluationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PreSchoolEvaluation_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.PreSchoolEvaluationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_PreSchoolEvaluation_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.PreSchoolEvaluations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PreSchoolEvaluation_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.PreSchoolEvaluations)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PreSchoolEvaluation_SchoolYear");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.PreSchoolEvaluations)
                    .HasForeignKey(d => d.SubjectId)
                    .HasConstraintName("FK_PreSchoolEvaluation_Subject");
            });

            modelBuilder.Entity<PreSchoolReadiness>(entity =>
            {
                entity.ToTable("PreSchoolReadiness", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.PreSchoolReadinessCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PreSchoolReadiness_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.PreSchoolReadinessModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_PreSchool_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.PreSchoolReadinesses)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PreSchoolReadiness_Person");
            });

            modelBuilder.Entity<PrintTemplate>(entity =>
            {
                entity.ToTable("PrintTemplate", "document");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1000);

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.PrintTemplates)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PrintTemplate_BasicDocument");

                entity.HasOne(d => d.BasicDocumentPrintForm)
                    .WithMany(p => p.PrintTemplates)
                    .HasForeignKey(d => d.BasicDocumentPrintFormId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PrintTemplate_BasicDocumentPrintForm");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.PrintTemplateCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_PrintTemplate_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.PrintTemplateModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_PrintTemplate_Updater_SysUser");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.PrintTemplates)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_PrintTemplate_Institution");
            });

            modelBuilder.Entity<ProfSubjectType>(entity =>
            {
                entity.ToTable("ProfSubjectType", "inst_nom");

                entity.Property(e => e.ProfSubjectTypeId)
                    .HasColumnName("ProfSubjectTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<ProfileClass>(entity =>
            {
                entity.ToTable("ProfileClass", "inst_year");

                entity.HasIndex(e => e.ClassId);

                entity.HasIndex(e => e.ParentClassId);

                entity.Property(e => e.ProfileClassId).HasColumnName("ProfileClassID");

                entity.Property(e => e.ClassId).HasColumnName("ClassID");

                entity.Property(e => e.ParentClassId).HasColumnName("ParentClassID");

                entity.Property(e => e.ProfSubjId).HasColumnName("ProfSubjID");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.ValidTo).HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))");

                entity.HasOne(d => d.Class)
                    .WithMany(p => p.ProfileClassClasses)
                    .HasForeignKey(d => d.ClassId)
                    .HasConstraintName("FK_ProfileClassClass");

                entity.HasOne(d => d.ParentClass)
                    .WithMany(p => p.ProfileClassParentClasses)
                    .HasForeignKey(d => d.ParentClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ProfileClassParentClass");

                entity.HasOne(d => d.ProfSubj)
                    .WithMany(p => p.ProfileClasses)
                    .HasForeignKey(d => d.ProfSubjId)
                    .HasConstraintName("FK_ProfileClassProfSubj");

                entity.HasOne(d => d.ProfSubjTypeNavigation)
                    .WithMany(p => p.ProfileClasses)
                    .HasForeignKey(d => d.ProfSubjType)
                    .HasConstraintName("FK_ProfileClassProfSubjType");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.ProfileClasses)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ProfileClassCurrentYear");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.ProfileClasses)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_ProfileClassSysUser");
            });

            modelBuilder.Entity<ProjectPartnerType>(entity =>
            {
                entity.ToTable("ProjectPartnerType", "inst_nom");

                entity.Property(e => e.ProjectPartnerTypeId)
                    .HasColumnName("ProjectPartnerTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<ProjectPriorityAreaType>(entity =>
            {
                entity.ToTable("ProjectPriorityAreaType", "inst_nom");

                entity.Property(e => e.ProjectPriorityAreaTypeId)
                    .HasColumnName("ProjectPriorityAreaTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<ProjectProgramType>(entity =>
            {
                entity.ToTable("ProjectProgramType", "inst_nom");

                entity.Property(e => e.ProjectProgramTypeId)
                    .HasColumnName("ProjectProgramTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<ProjectType>(entity =>
            {
                entity.ToTable("ProjectType", "inst_nom");

                entity.Property(e => e.ProjectTypeId)
                    .HasColumnName("ProjectTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<PublicCouncilRole>(entity =>
            {
                entity.ToTable("PublicCouncilRole", "inst_nom");

                entity.Property(e => e.PublicCouncilRoleId)
                    .HasColumnName("PublicCouncilRoleID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<PublicCouncilType>(entity =>
            {
                entity.ToTable("PublicCouncilType", "inst_nom");

                entity.Property(e => e.PublicCouncilTypeId)
                    .HasColumnName("PublicCouncilTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<QcourseActType>(entity =>
            {
                entity.ToTable("QCourseActType", "inst_nom");

                entity.Property(e => e.QcourseActTypeId)
                    .HasColumnName("QCourseActTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<QcourseBudgetSourceType>(entity =>
            {
                entity.ToTable("QCourseBudgetSourceType", "inst_nom");

                entity.Property(e => e.QcourseBudgetSourceTypeId)
                    .HasColumnName("QCourseBudgetSourceTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.QcourseActTypeId).HasColumnName("QCourseActTypeID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.QcourseActType)
                    .WithMany(p => p.QcourseBudgetSourceTypes)
                    .HasForeignKey(d => d.QcourseActTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_QCourseBudgetSourceTypeQCourseActType");
            });

            modelBuilder.Entity<QcourseDurationType>(entity =>
            {
                entity.ToTable("QCourseDurationType", "inst_nom");

                entity.Property(e => e.QcourseDurationTypeId)
                    .HasColumnName("QCourseDurationTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.QcourseActTypeId).HasColumnName("QCourseActTypeID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.QcourseActType)
                    .WithMany(p => p.QcourseDurationTypes)
                    .HasForeignKey(d => d.QcourseActTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_QCourseDurationTypeQCourseActType");
            });

            modelBuilder.Entity<QcourseType>(entity =>
            {
                entity.ToTable("QCourseType", "inst_nom");

                entity.Property(e => e.QcourseTypeId)
                    .HasColumnName("QCourseTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.QcourseActTypeId).HasColumnName("QCourseActTypeID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.QcourseActType)
                    .WithMany(p => p.QcourseTypes)
                    .HasForeignKey(d => d.QcourseActTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_QCourseTypeQCourseActType");
            });

            modelBuilder.Entity<ReasonForEqualizationType>(entity =>
            {
                entity.ToTable("ReasonForEqualizationType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ReasonForReassessmentType>(entity =>
            {
                entity.ToTable("ReasonForReassessmentType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Reassessment>(entity =>
            {
                entity.ToTable("Reassessment", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.Reassessments)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_Reassessment_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ReassessmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Reassessment_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ReassessmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Reassessment_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Reassessments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Reassessment_Student");

                entity.HasOne(d => d.Reason)
                    .WithMany(p => p.Reassessments)
                    .HasForeignKey(d => d.ReasonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Reassessment_ReasonForReassessmentType");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.Reassessments)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Reassessment_SchoolYear");
            });

            modelBuilder.Entity<ReassessmentDetail>(entity =>
            {
                entity.ToTable("ReassessmentDetails", "student");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Grade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.Position).HasDefaultValueSql("((1))");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ReassessmentDetailCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ReassessmentDetails_Creator_SysUser");

                entity.HasOne(d => d.GradeCategoryNavigation)
                    .WithMany(p => p.ReassessmentDetails)
                    .HasForeignKey(d => d.GradeCategory)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ReassessmentDetails_GradeCategory");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ReassessmentDetailModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ReassessmentDetails_Updater_SysUserd");

                entity.HasOne(d => d.Reassessment)
                    .WithMany(p => p.ReassessmentDetails)
                    .HasForeignKey(d => d.ReassessmentId)
                    .HasConstraintName("FK_ReassessmentDetails_Reassessment");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.ReassessmentDetails)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ReassessmentDetails_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.ReassessmentDetails)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_ReassessmentDetails_SubjectType");
            });

            modelBuilder.Entity<ReassessmentDocument>(entity =>
            {
                entity.ToTable("ReassessmentDocument", "student");

                entity.HasIndex(e => e.DocumentId);

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.ReassessmentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ReassessmentDocument_Document");

                entity.HasOne(d => d.Reassessment)
                    .WithMany(p => p.ReassessmentDocuments)
                    .HasForeignKey(d => d.ReassessmentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ReassessmentDocument_Reassessment");
            });

            modelBuilder.Entity<Recognition>(entity =>
            {
                entity.ToTable("Recognition", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DiplomaDate).HasColumnType("date");

                entity.Property(e => e.DiplomaNumber).HasMaxLength(100);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(1000);

                entity.Property(e => e.OrderDate).HasColumnType("date");

                entity.Property(e => e.OrderNumber).HasMaxLength(100);

                entity.Property(e => e.RuoDocumentDate).HasColumnType("date");

                entity.Property(e => e.RuoDocumentNumber).HasMaxLength(100);

                entity.Property(e => e.SppooprofessionId).HasColumnName("SPPOOProfessionId");

                entity.Property(e => e.SppoospecialityId).HasColumnName("SPPOOSpecialityId");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.Recognitions)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_Recognition_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.RecognitionCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Recognition_Creator_SysUser");

                entity.HasOne(d => d.EducationLevel)
                    .WithMany(p => p.Recognitions)
                    .HasForeignKey(d => d.EducationLevelId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Recognition_RecognitionEducationLevel");

                entity.HasOne(d => d.InstitutionCountry)
                    .WithMany(p => p.Recognitions)
                    .HasForeignKey(d => d.InstitutionCountryId)
                    .HasConstraintName("FK_Recognition_InstitutionCountry");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.RecognitionModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Recognition_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Recognitions)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Recognition_Student");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.Recognitions)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Recognition_SchoolYear");

                entity.HasOne(d => d.Sppooprofession)
                    .WithMany(p => p.Recognitions)
                    .HasForeignKey(d => d.SppooprofessionId)
                    .HasConstraintName("FK_Recognition_SPPOOProfession");

                entity.HasOne(d => d.Sppoospeciality)
                    .WithMany(p => p.Recognitions)
                    .HasForeignKey(d => d.SppoospecialityId)
                    .HasConstraintName("FK_Recognition_SPPOOSpeciality");
            });

            modelBuilder.Entity<RecognitionDocument>(entity =>
            {
                entity.ToTable("RecognitionDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.RecognitionDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RecognitionDocument_Document");

                entity.HasOne(d => d.Recognition)
                    .WithMany(p => p.RecognitionDocuments)
                    .HasForeignKey(d => d.RecognitionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RecognitionDocument_Recognition");
            });

            modelBuilder.Entity<RecognitionEducationLevel>(entity =>
            {
                entity.ToTable("RecognitionEducationLevel", "student");

                entity.HasIndex(e => e.Name)
                    .HasName("AK_RecognitionEducationLevel_Name")
                    .IsUnique();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<RecognitionEqualization>(entity =>
            {
                entity.ToTable("RecognitionEqualization", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ExamDate).HasColumnType("date");

                entity.Property(e => e.ExamFinalDate).HasColumnType("date");

                entity.Property(e => e.Grade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.OriginalGrade).HasMaxLength(100);

                entity.Property(e => e.OriginalSubject).HasMaxLength(400);

                entity.Property(e => e.Position).HasDefaultValueSql("((1))");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.RecognitionEqualizations)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_RecognitionEqualization_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.RecognitionEqualizationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RecognitionEqualization_Creator_SysUser");

                entity.HasOne(d => d.GradeCategoryNavigation)
                    .WithMany(p => p.RecognitionEqualizations)
                    .HasForeignKey(d => d.GradeCategory)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RecognitionEqualization_GradeCategory");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.RecognitionEqualizationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_RecognitionEqualization_Updater_SysUser");

                entity.HasOne(d => d.Recognition)
                    .WithMany(p => p.RecognitionEqualizations)
                    .HasForeignKey(d => d.RecognitionId)
                    .HasConstraintName("FK_RecognitionEqualization_Recognition");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.RecognitionEqualizations)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RecognitionEqualization_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.RecognitionEqualizations)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_RecognitionEqualization_SubjectType");
            });

            modelBuilder.Entity<Region>(entity =>
            {
                entity.ToTable("Region", "location");

                entity.Property(e => e.RegionId)
                    .HasColumnName("RegionID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Code)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);
            });

            modelBuilder.Entity<Relative>(entity =>
            {
                entity.ToTable("Relative", "family");

                entity.HasIndex(e => e.PersonId)
                    .HasName("IX_Relative_PersonId");

                entity.Property(e => e.RelativeId).HasColumnName("RelativeID");

                entity.Property(e => e.CurrentAddress).HasMaxLength(2048);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Email).HasMaxLength(255);

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.FirstName).HasMaxLength(255);

                entity.Property(e => e.LastName).HasMaxLength(255);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.Notes).HasMaxLength(4000);

                entity.Property(e => e.PersonId).HasColumnName("PersonID");

                entity.Property(e => e.PersonalId)
                    .HasColumnName("PersonalID")
                    .HasMaxLength(255);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");

                entity.Property(e => e.PhoneNumber).HasMaxLength(255);

                entity.Property(e => e.RelativeTypeId).HasColumnName("RelativeTypeID");

                entity.Property(e => e.TmpRelativeType).HasColumnName("tmp_RelativeType");

                entity.Property(e => e.TmpStudentId).HasColumnName("tmp_StudentID");

                entity.Property(e => e.WorkStatusId).HasColumnName("WorkStatusID");

                entity.HasOne(d => d.EducationType)
                    .WithMany(p => p.Relatives)
                    .HasForeignKey(d => d.EducationTypeId)
                    .HasConstraintName("FK_Relative_EducationType");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Relatives)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Relative_Person");

                entity.HasOne(d => d.PersonalIdtypeNavigation)
                    .WithMany(p => p.Relatives)
                    .HasForeignKey(d => d.PersonalIdtype)
                    .HasConstraintName("FK_Relative_PersonalIDType");

                entity.HasOne(d => d.RelativeType)
                    .WithMany(p => p.Relatives)
                    .HasForeignKey(d => d.RelativeTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Relative_RelativeType");

                entity.HasOne(d => d.WorkStatus)
                    .WithMany(p => p.Relatives)
                    .HasForeignKey(d => d.WorkStatusId)
                    .HasConstraintName("FK_Relative_WorkStatus");
            });

            modelBuilder.Entity<RelativeType>(entity =>
            {
                entity.ToTable("RelativeType", "family");

                entity.Property(e => e.RelativeTypeId).HasColumnName("RelativeTypeID");

                entity.Property(e => e.Description)
                    .IsRequired()
                    .HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);
            });

            modelBuilder.Entity<RelocationDocument>(entity =>
            {
                entity.ToTable("RelocationDocument", "student");

                entity.HasIndex(e => e.CurrentStudentClassId)
                    .HasName("IX_RelocationDocument_CurrentStudentClass");

                entity.HasIndex(e => e.PersonId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.DischargeDate).HasColumnType("date");

                entity.Property(e => e.NoteDate).HasColumnType("date");

                entity.Property(e => e.NoteNumber)
                    .IsRequired()
                    .HasMaxLength(20);

                entity.Property(e => e.RuoorderDate)
                    .HasColumnName("RUOOrderDate")
                    .HasColumnType("date");

                entity.Property(e => e.RuoorderNumber)
                    .HasColumnName("RUOOrderNumber")
                    .HasMaxLength(20);

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.RelocationDocumentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocument_Creator_SysUser");

                entity.HasOne(d => d.CurrentStudentClass)
                    .WithMany(p => p.RelocationDocuments)
                    .HasForeignKey(d => d.CurrentStudentClassId)
                    .HasConstraintName("FK_RelocationDocument_StudentClass");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.RelocationDocumentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_RelocationDocument_Updater_SysUserd");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.RelocationDocuments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocument_Person");

                entity.HasOne(d => d.RelocationReasonType)
                    .WithMany(p => p.RelocationDocuments)
                    .HasForeignKey(d => d.RelocationReasonTypeId)
                    .HasConstraintName("FK_RelocationDocument_DischargeReasonType");

                entity.HasOne(d => d.HostInstitution)
                    .WithMany(p => p.RelocationDocumentHostInstitutions)
                    .HasForeignKey(d => new { d.HostInstitutionId, d.HostInstitutionSchoolYear })
                    .HasConstraintName("FK_RelocationDocument_InstitutionSchoolYear_HostInstitution");

                entity.HasOne(d => d.SendingInstitution)
                    .WithMany(p => p.RelocationDocumentSendingInstitutions)
                    .HasForeignKey(d => new { d.SendingInstitutionId, d.SendingInstitutionSchoolYear })
                    .HasConstraintName("FK_RelocationDocument_InstitutionSchoolYear_SendingInstitution");
            });

            modelBuilder.Entity<RelocationDocumentCurrentTermGrade>(entity =>
            {
                entity.ToTable("RelocationDocumentCurrentTermGrades", "student");

                entity.HasIndex(e => e.RelocationDocumentId);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.CurriculumId).HasColumnName("CurriculumID");

                entity.Property(e => e.CurriculumPartId).HasColumnName("CurriculumPartID");

                entity.Property(e => e.Grades).HasMaxLength(2048);

                entity.Property(e => e.SubjectId).HasColumnName("SubjectID");

                entity.Property(e => e.SubjectName)
                    .IsRequired()
                    .HasMaxLength(2048);

                entity.Property(e => e.SubjectTypeId).HasColumnName("SubjectTypeID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.RelocationDocumentCurrentTermGradeCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocumentCurrentTermGrades_Creator_SysUser");

                entity.HasOne(d => d.CurriculumPart)
                    .WithMany(p => p.RelocationDocumentCurrentTermGrades)
                    .HasForeignKey(d => d.CurriculumPartId)
                    .HasConstraintName("FK_RelocationDocumentCurrentTermGrades_CurriculumPart");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.RelocationDocumentCurrentTermGradeModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_RelocationDocumentCurrentTermGrades_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.RelocationDocumentCurrentTermGrades)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocumentCurrentTermGrades_Person");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.RelocationDocumentCurrentTermGrades)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocumentCurrentTermGrades_RelocationDocument");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.RelocationDocumentCurrentTermGrades)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_RelocationDocumentCurrentTermGrades_SubjectType");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.RelocationDocumentCurrentTermGrades)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocumentCurrentTermGrades_InstitutionSchoolYear");
            });

            modelBuilder.Entity<RelocationDocumentDocument>(entity =>
            {
                entity.ToTable("RelocationDocumentDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.RelocationDocumentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocumentDocument_Document");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.RelocationDocumentDocuments)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_RelocationDocumentDocument_RelocationDocument");
            });

            modelBuilder.Entity<RepeaterReason>(entity =>
            {
                entity.ToTable("RepeaterReason", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ResourceSupport>(entity =>
            {
                entity.ToTable("ResourceSupport", "student");

                entity.HasComment("Данни за РП");

                entity.HasIndex(e => e.AdditionalPersonalDevelopmentSupportItemId);

                entity.HasIndex(e => e.ResourceSupportReportId)
                    .HasName("IX_ResourceSupportDocument_ResourceSupportReportId");

                entity.Property(e => e.Id).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.ResourceSupportReportId).HasComment("Връзка документ за насочване з");

                entity.Property(e => e.ResourceSupportTypeId).HasComment("Вид на РП");

                entity.HasOne(d => d.AdditionalPersonalDevelopmentSupportItem)
                    .WithMany(p => p.ResourceSupports)
                    .HasForeignKey(d => d.AdditionalPersonalDevelopmentSupportItemId)
                    .HasConstraintName("FK_ResourceSupport_AdditionalPersonalDevelopmentSupportItem");

                entity.HasOne(d => d.ResourceSupportReport)
                    .WithMany(p => p.ResourceSupports)
                    .HasForeignKey(d => d.ResourceSupportReportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupport_ResourceSupportReport");

                entity.HasOne(d => d.ResourceSupportType)
                    .WithMany(p => p.ResourceSupports)
                    .HasForeignKey(d => d.ResourceSupportTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupport_ResourceSupportType");
            });

            modelBuilder.Entity<ResourceSupportDataColumn>(entity =>
            {
                entity.ToTable("ResourceSupportDataColumn", "finance");

                entity.Property(e => e.ColumnName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Description).HasMaxLength(1000);

                entity.Property(e => e.DetailedSchoolTypes).HasMaxLength(255);
            });

            modelBuilder.Entity<ResourceSupportDatum>(entity =>
            {
                entity.HasKey(e => new { e.SchoolYear, e.Period, e.InstitutionId })
                    .HasName("PK__Resource__A603B8BD7433AEFF");

                entity.ToTable("ResourceSupportData", "finance");

                entity.Property(e => e.BrGrDplr).HasColumnName("br_gr_DPLR");

                entity.Property(e => e.BrGrRes).HasColumnName("br_gr_Res");

                entity.Property(e => e.BrGrResIsNotNpo109).HasColumnName("br_gr_Res_IsNotNPO109");

                entity.Property(e => e.BrStdsDplr).HasColumnName("br_stds_DPLR");

                entity.Property(e => e.BrStdsDplrCol136)
                    .HasColumnName("br_stds_DPLR_col136")
                    .HasComputedColumnSql("([br_stds_DPLR]-[col136])");

                entity.Property(e => e.BrStdsRes).HasColumnName("br_stds_Res");

                entity.Property(e => e.BrStdsResCol136)
                    .HasColumnName("br_stds_Res_col136")
                    .HasComputedColumnSql("([br_stds_Res]-[col136])");

                entity.Property(e => e.Col1)
                    .HasColumnName("col1")
                    .HasMaxLength(255);

                entity.Property(e => e.Col134).HasColumnName("col134");

                entity.Property(e => e.Col135).HasColumnName("col135");

                entity.Property(e => e.Col136).HasColumnName("col136");

                entity.Property(e => e.Col137).HasColumnName("col137");

                entity.Property(e => e.Col138).HasColumnName("col138");

                entity.Property(e => e.Col139).HasColumnName("col139");

                entity.Property(e => e.Col140).HasColumnName("col140");

                entity.Property(e => e.Col141).HasColumnName("col141");

                entity.Property(e => e.Col142).HasColumnName("col142");

                entity.Property(e => e.Col2)
                    .HasColumnName("col2")
                    .HasMaxLength(255);

                entity.Property(e => e.Col3)
                    .HasColumnName("col3")
                    .HasMaxLength(255);

                entity.Property(e => e.Col4).HasColumnName("col4");

                entity.Property(e => e.Col5)
                    .HasColumnName("col5")
                    .HasMaxLength(255);

                entity.Property(e => e.Col6)
                    .HasColumnName("col6")
                    .HasMaxLength(255);

                entity.Property(e => e.Col7)
                    .HasColumnName("col7")
                    .HasMaxLength(255);

                entity.Property(e => e.Col8)
                    .HasColumnName("col8")
                    .HasMaxLength(255);

                entity.Property(e => e.Difference)
                    .HasColumnName("difference")
                    .HasComputedColumnSql("([col135]-((((([col136]+[col137])+[col138])+[col139])+[col140])+[col141]))");

                entity.Property(e => e.ExecutionTime).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.IntbrGrDplrIsNotNpo109).HasColumnName("INTbr_gr_DPLR_IsNotNPO109");
            });

            modelBuilder.Entity<ResourceSupportDocument>(entity =>
            {
                entity.ToTable("ResourceSupportDocument", "student");

                entity.HasIndex(e => e.ResourceSupporReportId);

                entity.Property(e => e.Description).HasMaxLength(2000);

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.ResourceSupportDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportDocument_Document");

                entity.HasOne(d => d.ResourceSupporReport)
                    .WithMany(p => p.ResourceSupportDocuments)
                    .HasForeignKey(d => d.ResourceSupporReportId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportDocument_ResourceSupportReport");
            });

            modelBuilder.Entity<ResourceSupportReport>(entity =>
            {
                entity.ToTable("ResourceSupportReport", "student");

                entity.HasComment("РП - данни за документите за н");

                entity.HasIndex(e => e.PersonId);

                entity.Property(e => e.Id).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.PersonId).HasComment("Връзка към човек");

                entity.Property(e => e.ReportDate)
                    .HasColumnType("date")
                    .HasComment("Дата на документа");

                entity.Property(e => e.ReportNumber)
                    .IsRequired()
                    .HasMaxLength(100)
                    .HasComment("Номер на документа за насочван");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.ResourceSupportReports)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportReport_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.ResourceSupportReports)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportReport_SchoolYear");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.ResourceSupportReports)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_ResourceSupportReport_SysUser");
            });

            modelBuilder.Entity<ResourceSupportSpecialist>(entity =>
            {
                entity.ToTable("ResourceSupportSpecialist", "student");

                entity.HasComment("РП - данни за специалистите, к");

                entity.HasIndex(e => e.ResourceSupportId)
                    .HasName("IX_ResourceSupportSpecialist_ResourceSupportReportId");

                entity.Property(e => e.Id).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.Name)
                    .HasMaxLength(200)
                    .HasComment("Име на специалиста");

                entity.Property(e => e.OrganizationName)
                    .HasMaxLength(200)
                    .HasComment("Организация-име");

                entity.Property(e => e.OrganizationType)
                    .HasMaxLength(200)
                    .HasComment("Организация-вид");

                entity.Property(e => e.ResourceSupportId).HasComment("Връзка към документ за ресурсн");

                entity.Property(e => e.ResourceSupportSpecialistTypeId).HasComment("Вид специалист");

                entity.Property(e => e.SpecialistType)
                    .HasMaxLength(200)
                    .HasComment("Вид специалист");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.WorkPlaceId)
                    .HasDefaultValueSql("((1))")
                    .HasComment("Работи в");

                entity.HasOne(d => d.ResourceSupport)
                    .WithMany(p => p.ResourceSupportSpecialists)
                    .HasForeignKey(d => d.ResourceSupportId)
                    .HasConstraintName("FK_ResourceSupportSpecialist_Support");

                entity.HasOne(d => d.ResourceSupportSpecialistType)
                    .WithMany(p => p.ResourceSupportSpecialists)
                    .HasForeignKey(d => d.ResourceSupportSpecialistTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportSpecialist_Type");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.ResourceSupportSpecialists)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_ResourceSupportSpecialist_SysUser");

                entity.HasOne(d => d.WorkPlace)
                    .WithMany(p => p.ResourceSupportSpecialists)
                    .HasForeignKey(d => d.WorkPlaceId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportSpecialistWorkPlace");
            });

            modelBuilder.Entity<ResourceSupportSpecialistType>(entity =>
            {
                entity.ToTable("ResourceSupportSpecialistType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ResourceSupportSpecialistWorkPlace>(entity =>
            {
                entity.ToTable("ResourceSupportSpecialistWorkPlace", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ResourceSupportSpecialistWorkPlaceToResourceSupportType>(entity =>
            {
                entity.HasKey(e => new { e.ResourceSupportSpecialistWorkPlaceId, e.ResourceSupportTypeId });

                entity.ToTable("ResourceSupportSpecialistWorkPlaceToResourceSupportType", "student");

                entity.HasOne(d => d.ResourceSupportSpecialistWorkPlace)
                    .WithMany(p => p.ResourceSupportSpecialistWorkPlaceToResourceSupportTypes)
                    .HasForeignKey(d => d.ResourceSupportSpecialistWorkPlaceId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportSpecialistWorkPlaceToResourceSupportType_ResourceSupportSpecialistWorkPlace");

                entity.HasOne(d => d.ResourceSupportType)
                    .WithMany(p => p.ResourceSupportSpecialistWorkPlaceToResourceSupportTypes)
                    .HasForeignKey(d => d.ResourceSupportTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ResourceSupportSpecialistWorkPlaceToResourceSupportType_ResourceSupportType");
            });

            modelBuilder.Entity<ResourceSupportType>(entity =>
            {
                entity.ToTable("ResourceSupportType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Sanction>(entity =>
            {
                entity.ToTable("Sanction", "student");

                entity.Property(e => e.CancelOrderNumber).HasMaxLength(100);

                entity.Property(e => e.CancelReason).HasMaxLength(1000);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.OrderNumber)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.RuoOrderNumber).HasMaxLength(100);

                entity.Property(e => e.StartDate).HasColumnType("date");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SanctionCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SanctionModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Sanction_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Sanctions)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_Student");

                entity.HasOne(d => d.SanctionType)
                    .WithMany(p => p.Sanctions)
                    .HasForeignKey(d => d.SanctionTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_SanctionType");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.Sanctions)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_SchoolYear");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Sanctions)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_Sanction_InstitutionSchoolYear");
            });

            modelBuilder.Entity<SanctionDocument>(entity =>
            {
                entity.ToTable("SanctionDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.SanctionDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SanctionDocument_Document");

                entity.HasOne(d => d.Sanction)
                    .WithMany(p => p.SanctionDocuments)
                    .HasForeignKey(d => d.SanctionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SanctionDocument_Sanction");
            });

            modelBuilder.Entity<SanctionType>(entity =>
            {
                entity.ToTable("SanctionType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ScholarshipAmount>(entity =>
            {
                entity.ToTable("ScholarshipAmount", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ScholarshipFinancingOrgan>(entity =>
            {
                entity.ToTable("ScholarshipFinancingOrgan", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<ScholarshipStudent>(entity =>
            {
                entity.ToTable("ScholarshipStudent", "student");

                entity.HasComment("Ученици - стипендии");

                entity.HasIndex(e => e.PersonId);

                entity.HasIndex(e => e.StudentClassId)
                    .HasName("IX_ScholarshipStudent_StudentClassId");

                entity.Property(e => e.Id).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.AltAmountRate)
                    .HasColumnType("numeric(20, 10)")
                    .HasComputedColumnSql("(case when [Currency]='BGN' then round([AmountRate]/(1.955830),(6)) else round([AmountRate]/(0.511292),(6)) end)");

                entity.Property(e => e.AltCurrency)
                    .IsRequired()
                    .HasMaxLength(3)
                    .IsUnicode(false)
                    .HasComputedColumnSql("(case when [Currency]='BGN' then 'EUR' else 'BGN' end)");

                entity.Property(e => e.AmountRate)
                    .HasColumnType("decimal(6, 2)")
                    .HasComment("Стипендия - сума");

                entity.Property(e => e.CommissionDate).HasColumnType("date");

                entity.Property(e => e.CommissionNumber).HasMaxLength(200);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.Currency)
                    .IsRequired()
                    .HasMaxLength(3)
                    .IsUnicode(false)
                    .HasDefaultValueSql("('BGN')");

                entity.Property(e => e.Description)
                    .HasMaxLength(1000)
                    .HasComment("Бележки");

                entity.Property(e => e.FinancingOrganId).HasComment("Финансиращ орган");

                entity.Property(e => e.InstitutionId).HasComment("Код на институцията");

                entity.Property(e => e.OrderDate)
                    .HasColumnType("date")
                    .HasComment("Дата на заповедта");

                entity.Property(e => e.OrderNumber)
                    .HasMaxLength(100)
                    .HasComment("Номер на заповедта");

                entity.Property(e => e.Periodicity).HasComment("Период, за който е отпусната");

                entity.Property(e => e.PersonId).HasComment("Уникален идентификатор на лице");

                entity.Property(e => e.ScholarshipAmountId)
                    .HasColumnName("ScholarshipAmountID")
                    .HasComment("Код на размера на стипендията");

                entity.Property(e => e.ScholarshipTypeId).HasComment("Код на вида стипендия");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.StudentClassId)
                    .HasColumnName("StudentClassID")
                    .HasComment("Уникален идентификатор на учен");

                entity.Property(e => e.ValidFrom)
                    .HasColumnType("datetime")
                    .HasDefaultValueSql("(getdate())");

                entity.Property(e => e.ValidTo).HasColumnType("date");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ScholarshipStudentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ScholarshipStudent_Creator_SysUser");

                entity.HasOne(d => d.FinancingOrgan)
                    .WithMany(p => p.ScholarshipStudents)
                    .HasForeignKey(d => d.FinancingOrganId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_FinancingOrgan_ScholarshipStudent");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ScholarshipStudentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_ScholarshipStudent_Updater_SysUserd");

                entity.HasOne(d => d.ScholarshipAmount)
                    .WithMany(p => p.ScholarshipStudents)
                    .HasForeignKey(d => d.ScholarshipAmountId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ScholarshipStudent_ScholarshipAmount");

                entity.HasOne(d => d.ScholarshipType)
                    .WithMany(p => p.ScholarshipStudents)
                    .HasForeignKey(d => d.ScholarshipTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ScholarshipStudent_ScholarshipType");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.ScholarshipStudents)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_ScholarshipStudent_StudentClassId");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.ScholarshipStudents)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_ScholarshipStudent_InstitutionSchoolYear");
            });

            modelBuilder.Entity<ScholarshipStudentDocument>(entity =>
            {
                entity.ToTable("ScholarshipStudentDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.ScholarshipStudentDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ScholarshipStudentDocument_Document");

                entity.HasOne(d => d.ScholarshipStudent)
                    .WithMany(p => p.ScholarshipStudentDocuments)
                    .HasForeignKey(d => d.ScholarshipStudentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ScholarshipStudentDocument_Scholarship");
            });

            modelBuilder.Entity<ScholarshipType>(entity =>
            {
                entity.ToTable("ScholarshipType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<SchoolBasicProfile>(entity =>
            {
                entity.ToTable("SchoolBasicProfile", "inst_nom");

                entity.Property(e => e.SchoolBasicProfileId)
                    .HasColumnName("SchoolBasicProfileID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<SchoolBooksAbsence>(entity =>
            {
                entity.HasKey(e => new { e.SchoolYear, e.AbsenceId })
                    .IsClustered(false);

                entity.ToTable("Absence", "school_books");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassBookId, e.AbsenceId })
                    .HasName("UK_Absence")
                    .IsUnique()
                    .IsClustered();

                entity.HasIndex(e => new { e.TeacherAbsenceId, e.SchoolYear, e.ScheduleLessonId })
                    .HasName("IX_Absence_ScheduleLesson");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassBookId, e.PersonId, e.ScheduleLessonId })
                    .HasName("UK_Absence_ClassBookId_PersonId_ScheduleLessonId")
                    .IsUnique();

                entity.Property(e => e.Date).HasColumnType("date");

                entity.Property(e => e.ExcusedReasonComment).HasMaxLength(1000);

                entity.Property(e => e.Version)
                    .IsRequired()
                    .IsRowVersion()
                    .IsConcurrencyToken();

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SchoolBooksAbsenceCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Absence_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SchoolBooksAbsenceModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Absence_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.SchoolBooksAbsences)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Absence_Person");

                entity.HasOne(d => d.ClassBook)
                    .WithMany(p => p.SchoolBooksAbsences)
                    .HasForeignKey(d => new { d.SchoolYear, d.ClassBookId })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Absence_ClassBook");
            });

            modelBuilder.Entity<SchoolBooksGrade>(entity =>
            {
                entity.HasKey(e => new { e.SchoolYear, e.GradeId })
                    .IsClustered(false);

                entity.ToTable("Grade", "school_books");

                entity.HasIndex(e => new { e.PersonId, e.Type })
                    .HasName("IX_Grade_PersonId");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassBookId, e.GradeId })
                    .HasName("UK_Grade")
                    .IsUnique()
                    .IsClustered();

                entity.HasIndex(e => new { e.TeacherAbsenceId, e.SchoolYear, e.ScheduleLessonId })
                    .HasName("IX_Grade_ScheduleLesson");

                entity.Property(e => e.Comment).HasMaxLength(1000);

                entity.Property(e => e.Date).HasColumnType("date");

                entity.Property(e => e.DecimalGrade).HasColumnType("decimal(3, 2)");

                entity.Property(e => e.Version)
                    .IsRequired()
                    .IsRowVersion()
                    .IsConcurrencyToken();

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SchoolBooksGradeCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Grade_CreatedBySysUserId");

                entity.HasOne(d => d.Curriculum)
                    .WithMany(p => p.SchoolBooksGrades)
                    .HasForeignKey(d => d.CurriculumId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Grade_Curriculum");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SchoolBooksGradeModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Grade_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.SchoolBooksGrades)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Grade_Person");

                entity.HasOne(d => d.ClassBook)
                    .WithMany(p => p.SchoolBooksGrades)
                    .HasForeignKey(d => new { d.SchoolYear, d.ClassBookId })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Grade_ClassBook");
            });

            modelBuilder.Entity<SchoolBooksSanction>(entity =>
            {
                entity.HasKey(e => new { e.SchoolYear, e.SanctionId })
                    .IsClustered(false);

                entity.ToTable("Sanction", "school_books");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassBookId, e.SanctionId })
                    .HasName("UK_Sanction")
                    .IsUnique()
                    .IsClustered();

                entity.Property(e => e.CancelOrderDate).HasColumnType("date");

                entity.Property(e => e.CancelOrderNumber).HasMaxLength(100);

                entity.Property(e => e.CancelReason).HasMaxLength(1000);

                entity.Property(e => e.Description).HasMaxLength(1000);

                entity.Property(e => e.EndDate).HasColumnType("date");

                entity.Property(e => e.OrderDate).HasColumnType("date");

                entity.Property(e => e.OrderNumber)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.RuoOrderDate).HasColumnType("date");

                entity.Property(e => e.RuoOrderNumber).HasMaxLength(100);

                entity.Property(e => e.StartDate).HasColumnType("date");

                entity.Property(e => e.Version)
                    .IsRequired()
                    .IsRowVersion()
                    .IsConcurrencyToken();

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SchoolBooksSanctionCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_CreatedBySysUserId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SchoolBooksSanctionModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_ModifiedBySysUserId");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.SchoolBooksSanctions)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_Person");

                entity.HasOne(d => d.SanctionType)
                    .WithMany(p => p.SchoolBooksSanctions)
                    .HasForeignKey(d => d.SanctionTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_SanctionType");

                entity.HasOne(d => d.ClassBook)
                    .WithMany(p => p.SchoolBooksSanctions)
                    .HasForeignKey(d => new { d.SchoolYear, d.ClassBookId })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Sanction_ClassBook");
            });

            modelBuilder.Entity<SchoolProfile>(entity =>
            {
                entity.ToTable("SchoolProfile", "inst_nom");

                entity.Property(e => e.SchoolProfileId)
                    .HasColumnName("SchoolProfileID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SchoolBasicProfileId).HasColumnName("SchoolBasicProfileID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.SchoolBasicProfile)
                    .WithMany(p => p.SchoolProfiles)
                    .HasForeignKey(d => d.SchoolBasicProfileId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SchoolProfileSchoolBasicProfile");
            });

            modelBuilder.Entity<SchoolShiftType>(entity =>
            {
                entity.ToTable("SchoolShiftType", "inst_nom");

                entity.Property(e => e.SchoolShiftTypeId)
                    .HasColumnName("SchoolShiftTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<SchoolTypeLodAccess>(entity =>
            {
                entity.ToTable("SchoolTypeLodAccess", "student");

                entity.HasIndex(e => new { e.DetailedSchoolTypeId, e.IsLodAccessAllowed });

                entity.Property(e => e.IsLodAccessAllowed).HasColumnName("isLodAccessAllowed");

                entity.HasOne(d => d.DetailedSchoolType)
                    .WithMany(p => p.SchoolTypeLodAccesses)
                    .HasForeignKey(d => d.DetailedSchoolTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SchoolTypeLodAccess_DetailedSchoolType");
            });

            modelBuilder.Entity<SelfGovernment>(entity =>
            {
                entity.ToTable("SelfGovernment", "student");

                entity.HasIndex(e => new { e.SchoolYear, e.StaffPositionId });

                entity.Property(e => e.AdditionalInformation).HasMaxLength(2048);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.ParticipationAdditionalInformation).HasMaxLength(2048);

                entity.Property(e => e.StaffPositionId).HasColumnName("StaffPositionID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SelfGovernmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SelfGovernment_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SelfGovernmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_SelfGovernment_Updater_SysUser");

                entity.HasOne(d => d.Participation)
                    .WithMany(p => p.SelfGovernments)
                    .HasForeignKey(d => d.ParticipationId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SelfGovernment_Participation");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.SelfGovernments)
                    .HasForeignKey(d => d.PersonId)
                    .HasConstraintName("FK_SelfGovernment_Student");

                entity.HasOne(d => d.Position)
                    .WithMany(p => p.SelfGovernments)
                    .HasForeignKey(d => d.PositionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SelfGovernment_SelfGovernmentPosition");

                entity.HasOne(d => d.StaffPosition)
                    .WithMany(p => p.SelfGovernments)
                    .HasForeignKey(d => d.StaffPositionId)
                    .HasConstraintName("FK_SelfGovernmentStaffPosition");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.SelfGovernments)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_SelfGovernment_StudentClass");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.SelfGovernments)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_SelfGovernment_InstitutionSchoolYear");
            });

            modelBuilder.Entity<SelfGovernmentPosition>(entity =>
            {
                entity.ToTable("SelfGovernmentPosition", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<SpecialEquipment>(entity =>
            {
                entity.ToTable("SpecialEquipment", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.StudentClassId).HasColumnName("StudentClassID");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SpecialEquipmentCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialEquipment_Creator_SysUser");

                entity.HasOne(d => d.EquipmentType)
                    .WithMany(p => p.SpecialEquipments)
                    .HasForeignKey(d => d.EquipmentTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialEquipment_EquipmentType");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SpecialEquipmentModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_SpecialEquipment_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.SpecialEquipments)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialEquipment_Student");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.SpecialEquipments)
                    .HasForeignKey(d => d.StudentClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialEquipment_StudentClassId");
            });

            modelBuilder.Entity<SpecialNeed>(entity =>
            {
                entity.ToTable("SpecialNeeds", "student");

                entity.HasComment("СОП");

                entity.HasIndex(e => new { e.SpecialNeedsYearId, e.SpecialNeedsTypeId, e.SpecialNeedsSubTypeId })
                    .HasName("UQ_SpecialNeedsYear")
                    .IsUnique();

                entity.Property(e => e.Id).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId)
                    .HasColumnName("CreatedBySysUserID")
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.SpecialNeedsSubTypeId).HasComment("Вид СОП - детайлен");

                entity.Property(e => e.SpecialNeedsTypeId).HasComment("Вид СОП");

                entity.Property(e => e.SpecialNeedsYearId).HasComment("Връзка с SpecialNeedsType");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SpecialNeedCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeeds_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SpecialNeedModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_SpecialNeeds_Updater_SysUserd");

                entity.HasOne(d => d.SpecialNeedsSubType)
                    .WithMany(p => p.SpecialNeeds)
                    .HasForeignKey(d => d.SpecialNeedsSubTypeId)
                    .HasConstraintName("FK_SpecialNeeds_SpecialNeedsSubType");

                entity.HasOne(d => d.SpecialNeedsType)
                    .WithMany(p => p.SpecialNeeds)
                    .HasForeignKey(d => d.SpecialNeedsTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeeds_SpecialNeedsType");

                entity.HasOne(d => d.SpecialNeedsYear)
                    .WithMany(p => p.SpecialNeeds)
                    .HasForeignKey(d => d.SpecialNeedsYearId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeeds_SpecialNeedsYear");
            });

            modelBuilder.Entity<SpecialNeedsSubType>(entity =>
            {
                entity.ToTable("SpecialNeedsSubType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");

                entity.HasOne(d => d.SpecialNeedsType)
                    .WithMany(p => p.SpecialNeedsSubTypes)
                    .HasForeignKey(d => d.SpecialNeedsTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeedsSubType_SpecialNeedsType");
            });

            modelBuilder.Entity<SpecialNeedsType>(entity =>
            {
                entity.ToTable("SpecialNeedsType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<SpecialNeedsYear>(entity =>
            {
                entity.ToTable("SpecialNeedsYear", "student");

                entity.HasComment("СОП - година");

                entity.HasIndex(e => new { e.PersonId, e.SchoolYear });

                entity.Property(e => e.Id).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.HasSuportiveEnvironment).HasComment("не се използва");

                entity.Property(e => e.PersonId).HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.SchoolYear).HasComment("Учебна година");

                entity.Property(e => e.SupportiveEnvironment)
                    .HasMaxLength(1000)
                    .HasComment("не се използва");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.SpecialNeedsYearCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeedsYear_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.SpecialNeedsYearModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_SpecialNeedsYear_Updater_SysUserd");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.SpecialNeedsYears)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeedsYear_Person");

                entity.HasOne(d => d.SchoolYearNavigation)
                    .WithMany(p => p.SpecialNeedsYears)
                    .HasForeignKey(d => d.SchoolYear)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeedsYear_SchoolYear");
            });

            modelBuilder.Entity<SpecialNeedsYearAttachment>(entity =>
            {
                entity.ToTable("SpecialNeedsYearAttachment", "student");

                entity.HasIndex(e => e.SpecialNeedsYearId);

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.SpecialNeedsYearAttachments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeedsYearAttachment_Document");

                entity.HasOne(d => d.SpecialNeedsYear)
                    .WithMany(p => p.SpecialNeedsYearAttachments)
                    .HasForeignKey(d => d.SpecialNeedsYearId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SpecialNeedsYearAttachment_SpecialNeedsYear");
            });

            modelBuilder.Entity<SpecialityOrdType>(entity =>
            {
                entity.ToTable("SpecialityOrdType", "inst_nom");

                entity.Property(e => e.SpecialityOrdTypeId)
                    .HasColumnName("SpecialityOrdTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<SppooeducArea>(entity =>
            {
                entity.ToTable("SPPOOEducArea", "inst_nom");

                entity.Property(e => e.SppooeducAreaId)
                    .HasColumnName("SPPOOEducAreaID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SppooeducAreaCode)
                    .HasColumnName("SPPOOEducAreaCode")
                    .HasMaxLength(10);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<SppooprofArea>(entity =>
            {
                entity.ToTable("SPPOOProfArea", "inst_nom");

                entity.Property(e => e.SppooprofAreaId)
                    .HasColumnName("SPPOOProfAreaID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.EducAreaId).HasColumnName("EducAreaID");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SppooprofAreaCode)
                    .HasColumnName("SPPOOProfAreaCode")
                    .HasMaxLength(10);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.EducArea)
                    .WithMany(p => p.SppooprofAreas)
                    .HasForeignKey(d => d.EducAreaId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SPPOOProfAreaSPPOOEducArea");
            });

            modelBuilder.Entity<Sppooprofession>(entity =>
            {
                entity.ToTable("SPPOOProfession", "inst_nom");

                entity.Property(e => e.SppooprofessionId)
                    .HasColumnName("SPPOOProfessionID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.NameDe)
                    .HasColumnName("NameDE")
                    .HasMaxLength(255);

                entity.Property(e => e.NameEn)
                    .HasColumnName("NameEN")
                    .HasMaxLength(255);

                entity.Property(e => e.NameFr)
                    .HasColumnName("NameFR")
                    .HasMaxLength(255);

                entity.Property(e => e.ProfAreaId).HasColumnName("ProfAreaID");

                entity.Property(e => e.ProfGroupMonid).HasColumnName("ProfGroupMONID");

                entity.Property(e => e.SppooprofessionCode)
                    .HasColumnName("SPPOOProfessionCode")
                    .HasMaxLength(10);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.ProfArea)
                    .WithMany(p => p.Sppooprofessions)
                    .HasForeignKey(d => d.ProfAreaId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SPPOOProfessionProfArea");
            });

            modelBuilder.Entity<Sppoospeciality>(entity =>
            {
                entity.ToTable("SPPOOSpeciality", "inst_nom");

                entity.Property(e => e.SppoospecialityId)
                    .HasColumnName("SPPOOSpecialityID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.NameDe)
                    .HasColumnName("NameDE")
                    .HasMaxLength(255);

                entity.Property(e => e.NameEn)
                    .HasColumnName("NameEN")
                    .HasMaxLength(255);

                entity.Property(e => e.NameFr)
                    .HasColumnName("NameFR")
                    .HasMaxLength(255);

                entity.Property(e => e.ProfessionId).HasColumnName("ProfessionID");

                entity.Property(e => e.SppoospecialityCode)
                    .HasColumnName("SPPOOSpecialityCode")
                    .HasMaxLength(10);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.Property(e => e.Vetlevel).HasColumnName("VETLevel");

                entity.HasOne(d => d.Profession)
                    .WithMany(p => p.Sppoospecialities)
                    .HasForeignKey(d => d.ProfessionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SPPOOSpecialityProfession");
            });

            modelBuilder.Entity<StaffPosition>(entity =>
            {
                entity.ToTable("StaffPosition", "inst_basic");

                entity.HasComment("Персонал - Длъжности");

                entity.HasIndex(e => e.InstitutionId)
                    .HasName("IX_StaffPosition_InstitutionId");

                entity.HasIndex(e => e.MainPersonOksid)
                    .HasName("IX_StaffPosition_PersonOKSID");

                entity.HasIndex(e => e.PersonId);

                entity.Property(e => e.StaffPositionId)
                    .HasColumnName("StaffPositionID")
                    .HasComment("ID на записа (autoincrement)");

                entity.Property(e => e.CategoryStaffTypeId)
                    .HasColumnName("CategoryStaffTypeID")
                    .HasComment("Категория персонал (детайлна)");

                entity.Property(e => e.ContractNo)
                    .HasMaxLength(50)
                    .HasComment("Номер на договора");

                entity.Property(e => e.ContractNotes)
                    .HasMaxLength(1024)
                    .HasComment("Бележки по договора");

                entity.Property(e => e.ContractReasonId)
                    .HasColumnName("ContractReasonID")
                    .HasComment("Основание за сключване");

                entity.Property(e => e.ContractTypeId)
                    .HasColumnName("ContractTypeID")
                    .HasComment("Вид на договора");

                entity.Property(e => e.ContractWithId)
                    .HasColumnName("ContractWithID")
                    .HasComment("Назначен към:");

                entity.Property(e => e.ContractYear).HasComment("Година на договора");

                entity.Property(e => e.CurrentlyValid)
                    .HasDefaultValueSql("((1))")
                    .HasComment("Маркер \"Длъжността е активна з");

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.HasTelk)
                    .HasColumnName("HasTELK")
                    .HasComment("Прилагат се условията по чл.4,");

                entity.Property(e => e.InstitutionId)
                    .HasColumnName("InstitutionID")
                    .HasComment("Код на институцията");

                entity.Property(e => e.IsAccountablePerson)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Материално-отговорно л");

                entity.Property(e => e.IsHospital)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Mаркер \"Болничен учител\"");

                entity.Property(e => e.IsMentor)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Mаркер \"Учител - наставник\"");

                entity.Property(e => e.IsNotMeetReq)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Не отговаря на изисква");

                entity.Property(e => e.IsTrainee)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Mаркер \"Учител - стажант\"");

                entity.Property(e => e.IsTravel)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер \"Пътуващ\"");

                entity.Property(e => e.MainClassId).HasColumnName("MainClassID");

                entity.Property(e => e.MainPersonOksid)
                    .HasColumnName("MainPersonOKSID")
                    .HasComment("Основна специалност, по която ");

                entity.Property(e => e.NkpdpositionId)
                    .HasColumnName("NKPDPositionID")
                    .HasComment("Код по НКПД на длъжността");

                entity.Property(e => e.PersonId)
                    .HasColumnName("PersonID")
                    .HasComment("Връзка към човек");

                entity.Property(e => e.PositionCount).HasComment("Щат");

                entity.Property(e => e.PositionKindId)
                    .HasColumnName("PositionKindID")
                    .HasComment("Титуляр/заместник");

                entity.Property(e => e.PositionNotes)
                    .HasMaxLength(1024)
                    .HasComment("Бележки по длъжността");

                entity.Property(e => e.PositionSubjectGroupId)
                    .HasColumnName("PositionSubjectGroupID")
                    .HasComment("Назначен на щатно място по");

                entity.Property(e => e.StaffOrd).HasComment("Пореден номер");

                entity.Property(e => e.StaffPositionNo).HasComment("Пореден номер на длъжността");

                entity.Property(e => e.StaffTypeId)
                    .HasColumnName("StaffTypeID")
                    .HasComment("Категория персонал (обобщена)");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Потребител");

                entity.Property(e => e.TeachStageId)
                    .HasColumnName("TeachStageID")
                    .HasComment("Основен етап, в който преподав");

                entity.Property(e => e.TerminationDate).HasColumnType("date");

                entity.Property(e => e.TerminationReasonId).HasColumnName("TerminationReasonID");

                entity.Property(e => e.ValidFrom)
                    .HasDefaultValueSql("(sysutcdatetime())")
                    .HasComment("Дата, от която е валидна стойн");

                entity.Property(e => e.ValidTo)
                    .HasDefaultValueSql("(CONVERT([datetime2],'9999-12-31 23:59:59.9999999'))")
                    .HasComment("Дата, до която е валидна стойн");

                entity.Property(e => e.WorkExpSpecYears).HasComment("Трудов стаж по специалността (");

                entity.Property(e => e.WorkExpTeachYears).HasComment("Учителски трудов стаж (г.)");

                entity.Property(e => e.WorkExpTotalYears).HasComment("Общ трудов стаж (г.)");

                entity.Property(e => e.WorkStartYear).HasComment("Година на постъпване");

                entity.HasOne(d => d.CategoryStaffType)
                    .WithMany(p => p.StaffPositions)
                    .HasForeignKey(d => d.CategoryStaffTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StaffPositionCategoryStaffType");

                entity.HasOne(d => d.ContractReason)
                    .WithMany(p => p.StaffPositions)
                    .HasForeignKey(d => d.ContractReasonId)
                    .HasConstraintName("FK_StaffPositionContractReason");

                entity.HasOne(d => d.ContractType)
                    .WithMany(p => p.StaffPositions)
                    .HasForeignKey(d => d.ContractTypeId)
                    .HasConstraintName("FK_StaffPositionContractType");

                entity.HasOne(d => d.ContractWith)
                    .WithMany(p => p.StaffPositions)
                    .HasForeignKey(d => d.ContractWithId)
                    .HasConstraintName("FK_StaffPositionContractWith");

                entity.HasOne(d => d.Institution)
                    .WithMany(p => p.StaffPositions)
                    .HasForeignKey(d => d.InstitutionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StaffPositionInstitution");

                entity.HasOne(d => d.MainClass)
                    .WithMany(p => p.StaffPositions)
                    .HasForeignKey(d => d.MainClassId)
                    .HasConstraintName("FK_StaffPositionClassGroup");

                entity.HasOne(d => d.Nkpdposition)
                    .WithMany(p => p.StaffPositions)
                    .HasForeignKey(d => d.NkpdpositionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StaffPositionNKPDPosition");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.StaffPositions)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StaffPositionPerson");

                entity.HasOne(d => d.PositionKind)
                    .WithMany(p => p.StaffPositions)
                    .HasForeignKey(d => d.PositionKindId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StaffPositionPositionKind");

                entity.HasOne(d => d.StaffType)
                    .WithMany(p => p.StaffPositions)
                    .HasForeignKey(d => d.StaffTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StaffPositionStaffType");

                entity.HasOne(d => d.SysUser)
                    .WithMany(p => p.StaffPositions)
                    .HasForeignKey(d => d.SysUserId)
                    .HasConstraintName("FK_StaffPositionSysUser");
            });

            modelBuilder.Entity<StaffType>(entity =>
            {
                entity.ToTable("StaffType", "inst_nom");

                entity.Property(e => e.StaffTypeId)
                    .HasColumnName("StaffTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<Student>(entity =>
            {
                entity.HasKey(e => e.PersonId);

                entity.ToTable("Student", "student");

                entity.HasComment("Ученици - допълнителни данни");

                entity.Property(e => e.PersonId)
                    .HasColumnName("PersonID")
                    .HasComment("Връзка ученик")
                    .ValueGeneratedNever();

                entity.Property(e => e.Email)
                    .HasMaxLength(100)
                    .HasComment("Е-мейл");

                entity.Property(e => e.FamilyEducationWeight)
                    .HasColumnType("decimal(18, 2)")
                    .HasComment("Коефициент на пазара на труда ");

                entity.Property(e => e.FamilyWorkStatusWeight)
                    .HasColumnType("decimal(18, 2)")
                    .HasComment("Коефициент на образователния с");

                entity.Property(e => e.Gpname)
                    .HasColumnName("GPName")
                    .HasMaxLength(255)
                    .HasComment("Име на личния лекар");

                entity.Property(e => e.Gpphone)
                    .HasColumnName("GPPhone")
                    .HasMaxLength(255)
                    .HasComment("Телефон на личния лекар");

                entity.Property(e => e.HasParentConsent).HasComment("Родителите са дали съгласие да");

                entity.Property(e => e.HomePhone)
                    .HasMaxLength(100)
                    .HasComment("Домашен телефон");

                entity.Property(e => e.LivesWithFosterFamily).HasComment("Живее в общежитие, център за з");

                entity.Property(e => e.MobilePhone)
                    .HasMaxLength(100)
                    .HasComment("Мобилен телефон");

                entity.Property(e => e.NativeLanguageId).HasComment("Език на семейната среда");

                entity.Property(e => e.RepresentedByTheMajor).HasComment("Детето се представлява от кмет");

                entity.Property(e => e.UserManagementIntegrationResult)
                    .HasMaxLength(4000)
                    .HasComment("Резултат от интеграция");

                entity.Property(e => e.WorkPhone)
                    .HasMaxLength(100)
                    .HasComment("Служебен телефон");

                entity.HasOne(d => d.NativeLanguage)
                    .WithMany(p => p.Students)
                    .HasForeignKey(d => d.NativeLanguageId)
                    .HasConstraintName("FK_Student_Language");

                entity.HasOne(d => d.Person)
                    .WithOne(p => p.Student)
                    .HasForeignKey<Student>(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Student_Person");
            });

            modelBuilder.Entity<StudentClass>(entity =>
            {
                entity.ToTable("StudentClass", "student");

                entity.HasComment("деца/ученици, записани в класо");

                entity.HasIndex(e => e.AdmissionDocumentId)
                    .HasName("ix_StudentClass_AdmissionDocument");

                entity.HasIndex(e => e.DischargeDocumentId)
                    .HasName("IX_StudentClass_DischargeDocument");

                entity.HasIndex(e => e.FromStudentClassId)
                    .HasName("IX_StudentClass_FromStudentClass");

                entity.HasIndex(e => e.PersonId);

                entity.HasIndex(e => e.RelocationDocumentId)
                    .HasName("IX_StudentClass_RelocationDocument");

                entity.HasIndex(e => new { e.ClassId, e.IsCurrent })
                    .HasName("IX_StudentClass_IsCurrent");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassId });

                entity.HasIndex(e => new { e.PersonId, e.ClassId, e.IsCurrent })
                    .HasName("IX_StudentClass_ClassId_IsCurrent");

                entity.HasIndex(e => new { e.PersonId, e.IsCurrent, e.InstitutionId })
                    .HasName("IX_StudentClass_IsCurrent_InstitutionId");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassId, e.PersonId })
                    .HasName("AK_StudentClass_SchoolYear_ClassId_PersonId")
                    .IsUnique()
                    .HasFilter("([IsNotPresentForm]<>(1))");

                entity.HasIndex(e => new { e.ClassId, e.PersonId, e.BasicClassId, e.SchoolYear, e.InstitutionId })
                    .HasName("IX_StudentClass_SchoolYear_InstitutionId");

                entity.HasIndex(e => new { e.PersonId, e.EnrollmentDate, e.BasicClassId, e.ClassTypeId, e.InstitutionId, e.SchoolYear })
                    .HasName("IX_StudentClass_SchoolYear");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassId, e.PersonId, e.InstitutionId, e.IsCurrent, e.PositionId })
                    .HasName("IX_StudentClass_IsCurrent_Position");

                entity.HasIndex(e => new { e.PersonId, e.BasicClassId, e.ClassTypeId, e.InstitutionId, e.DischargeDate, e.SchoolYear, e.IsCurrent })
                    .HasName("IX_test");

                entity.HasIndex(e => new { e.SchoolYear, e.ClassId, e.PersonId, e.BasicClassId, e.ClassTypeId, e.InstitutionId, e.IsCurrent })
                    .HasName("IX_StudentClass_IsCurrent_EnvCharacteristics_Opt");

                entity.HasIndex(e => new { e.PersonId, e.BasicClassId, e.ClassTypeId, e.DischargeDocumentId, e.RelocationDocumentId, e.InstitutionId, e.DischargeDate, e.SchoolYear, e.IsCurrent })
                    .HasName("IX_StudentCLass_SchoolYear_IsCurrent");

                entity.Property(e => e.Id)
                    .HasColumnName("ID")
                    .HasComment("Уникален идентификатор на запи");

                entity.Property(e => e.AdmissionDocumentId).HasComment("Документ за записване в инстит");

                entity.Property(e => e.BasicClassId)
                    .HasDefaultValueSql("((1))")
                    .HasComment("Идентификатор на випуска (възр");

                entity.Property(e => e.ClassId).HasComment("Уникален идентификатор на пара");

                entity.Property(e => e.ClassNumber).HasComment("Номер в класа");

                entity.Property(e => e.ClassTypeId)
                    .HasDefaultValueSql("((1))")
                    .HasComment("Вид на паралелката/групата");

                entity.Property(e => e.CommuterTypeId).HasComment("Пътуващ");

                entity.Property(e => e.DischargeDate).HasColumnType("date");

                entity.Property(e => e.DischargeDocumentId).HasComment("Документ за отписване");

                entity.Property(e => e.DischargeReasonId).HasComment("Причина за отписване");

                entity.Property(e => e.EnrollmentDate)
                    .HasDefaultValueSql("(getdate())")
                    .HasComment("Дата на записване в класа/груп");

                entity.Property(e => e.EntryDate).HasColumnType("date");

                entity.Property(e => e.ExternalId)
                    .HasColumnName("ExternalID")
                    .HasMaxLength(100);

                entity.Property(e => e.FromStudentClassId).HasComment("Идентификатор на клас, от койт");

                entity.Property(e => e.HasSuportiveEnvironment).HasDefaultValueSql("((0))");

                entity.Property(e => e.InstitutionId).HasComment("Код на институцията");

                entity.Property(e => e.IsCurrent).HasComment("Маркер дали детето е записано ");

                entity.Property(e => e.IsForSubmissionToNra)
                    .HasColumnName("IsForSubmissionToNRA")
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер дали детето/ченикът се ");

                entity.Property(e => e.IsFtacoutsourced).HasColumnName("IsFTACOutsourced");

                entity.Property(e => e.IsHourlyOrganization)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер за \"Почасова организаци");

                entity.Property(e => e.IsIndividualCurriculum)
                    .HasDefaultValueSql("((0))")
                    .HasComment("Маркер за \"Индивидуален учебен");

                entity.Property(e => e.IsNotPresentForm).HasDefaultValueSql("((0))");

                entity.Property(e => e.NewClassId).HasColumnName("newClassId");

                entity.Property(e => e.OrestypeId)
                    .HasColumnName("ORESTypeId")
                    .HasComment("Тип ОРЕС");

                entity.Property(e => e.PersonId).HasComment("Уникален идентификатор на лице");

                entity.Property(e => e.PositionId)
                    .HasDefaultValueSql("((3))")
                    .HasComment("Позиция в институцията");

                entity.Property(e => e.RelocationDocumentId).HasComment("Документ за преместване");

                entity.Property(e => e.RepeaterId).HasComment("Повторно записан");

                entity.Property(e => e.SchoolYear).HasComment("Уникален идентификатор на учеб");

                entity.Property(e => e.Status).HasComment("Статус на ученика в класа/груп");

                entity.Property(e => e.StudentEduFormId).HasComment("Форма на обучение");

                entity.Property(e => e.StudentSpecialityId).HasComment("Специалност на ученика");

                entity.Property(e => e.SupportiveEnvironment).HasMaxLength(1000);

                entity.HasOne(d => d.AdmissionDocument)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.AdmissionDocumentId)
                    .HasConstraintName("FK_StudentClass_AdmissionDocument");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.BasicClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClass_BasicClass");

                entity.HasOne(d => d.Class)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.ClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClass_ClassGroup");

                entity.HasOne(d => d.ClassType)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.ClassTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClass_ClassType");

                entity.HasOne(d => d.CommuterType)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.CommuterTypeId)
                    .HasConstraintName("FK_StudentClass_CommuterType");

                entity.HasOne(d => d.DischargeDocument)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.DischargeDocumentId)
                    .HasConstraintName("FK_StudentClass_DischargeDocument");

                entity.HasOne(d => d.DischargeReason)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.DischargeReasonId)
                    .HasConstraintName("FK_StudentClass_DischargeReasonType");

                entity.HasOne(d => d.FromStudentClass)
                    .WithMany(p => p.InverseFromStudentClass)
                    .HasForeignKey(d => d.FromStudentClassId)
                    .HasConstraintName("FK_StudentClass_FromStudentClassId_Self");

                entity.HasOne(d => d.Orestype)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.OrestypeId)
                    .HasConstraintName("FK_StudentClass_ORESType");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClass_Student");

                entity.HasOne(d => d.Position)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.PositionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClass_PositionId");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .HasConstraintName("FK_StudentClass_RelocationDocument");

                entity.HasOne(d => d.Repeater)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.RepeaterId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Student_RepeaterReason");

                entity.HasOne(d => d.StudentEduForm)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.StudentEduFormId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClass_StudentEduForm");

                entity.HasOne(d => d.StudentSpeciality)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => d.StudentSpecialityId)
                    .HasConstraintName("FK_StudentClass_StudentSpeciality");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.StudentClasses)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClass_InstitutionSchoolYear");
            });

            modelBuilder.Entity<StudentClassDualFormCompany>(entity =>
            {
                entity.ToTable("StudentClassDualFormCompany", "student");

                entity.HasIndex(e => e.StudentClassId);

                entity.Property(e => e.CompanyAddress).HasMaxLength(255);

                entity.Property(e => e.CompanyArea).HasMaxLength(255);

                entity.Property(e => e.CompanyCountry).HasMaxLength(255);

                entity.Property(e => e.CompanyDistrict).HasMaxLength(255);

                entity.Property(e => e.CompanyEmail).HasMaxLength(255);

                entity.Property(e => e.CompanyMunicipality).HasMaxLength(255);

                entity.Property(e => e.CompanyName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.CompanyPhone).HasMaxLength(255);

                entity.Property(e => e.CompanyRegixData).HasMaxLength(2048);

                entity.Property(e => e.CompanySettlement).HasMaxLength(255);

                entity.Property(e => e.CompanyUic)
                    .IsRequired()
                    .HasMaxLength(30);

                entity.Property(e => e.CompanyUrl).HasMaxLength(255);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.EndDate).HasColumnType("date");

                entity.Property(e => e.StartDate).HasColumnType("date");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.StudentClassDualFormCompanyCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassDualFormCompany_Creator");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.StudentClassDualFormCompanyModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_StudentClassDualFormCompany_Updater");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.StudentClassDualFormCompanies)
                    .HasForeignKey(d => d.StudentClassId)
                    .HasConstraintName("FK_StudentClassDualFormCompany_StudentClass");
            });

            modelBuilder.Entity<StudentClassHistory>(entity =>
            {
                entity.ToTable("StudentClassHistory", "student");

                entity.HasIndex(e => e.AdmissionDocumentId);

                entity.HasIndex(e => e.CreateDate);

                entity.HasIndex(e => e.FromStudentClassId)
                    .HasName("IX_StudentClassHistory_FromStudentClass");

                entity.HasIndex(e => e.StudentClassId);

                entity.Property(e => e.Id).HasColumnName("ID");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.IsForSubmissionToNra).HasColumnName("IsForSubmissionToNRA");

                entity.Property(e => e.IsFtacoutsourced).HasColumnName("IsFTACOutsourced");

                entity.Property(e => e.OrestypeId).HasColumnName("ORESTypeId");

                entity.Property(e => e.SupportiveEnvironment).HasMaxLength(1000);

                entity.HasOne(d => d.AdmissionDocument)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.AdmissionDocumentId)
                    .HasConstraintName("FK_StudentClassHistory_AdmissionDocument");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.BasicClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_BasicClass");

                entity.HasOne(d => d.Class)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.ClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_ClassGroup");

                entity.HasOne(d => d.ClassType)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.ClassTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_ClassType");

                entity.HasOne(d => d.CommuterType)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.CommuterTypeId)
                    .HasConstraintName("FK_StudentClassHistory_CommuterType");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.StudentClassHistoryCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_Creator_SysUser");

                entity.HasOne(d => d.DischargeDocument)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.DischargeDocumentId)
                    .HasConstraintName("FK_StudentClassHistory_DischargeDocument");

                entity.HasOne(d => d.DischargeReason)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.DischargeReasonId)
                    .HasConstraintName("FK_StudentClassHistory_DischargeReasonType");

                entity.HasOne(d => d.FromStudentClass)
                    .WithMany(p => p.StudentClassHistoryFromStudentClasses)
                    .HasForeignKey(d => d.FromStudentClassId)
                    .HasConstraintName("FK_StudentClassHistory_FromStudentClassId");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.StudentClassHistoryModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_StudentClassHistory_Updater_SysUserd");

                entity.HasOne(d => d.Orestype)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.OrestypeId)
                    .HasConstraintName("FK_StudentClassHistory_ORESType");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_Student");

                entity.HasOne(d => d.Position)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.PositionId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_PositionId");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .HasConstraintName("FK_StudentClassHistory_RelocationDocument");

                entity.HasOne(d => d.Repeater)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.RepeaterId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_RepeaterReason");

                entity.HasOne(d => d.StudentClass)
                    .WithMany(p => p.StudentClassHistoryStudentClasses)
                    .HasForeignKey(d => d.StudentClassId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_StudentClass");

                entity.HasOne(d => d.StudentEduForm)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.StudentEduFormId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_StudentEduForm");

                entity.HasOne(d => d.StudentSpeciality)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => d.StudentSpecialityId)
                    .HasConstraintName("FK_StudentClassHistory_StudentSpeciality");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.StudentClassHistories)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentClassHistory_InstitutionSchoolYear");
            });

            modelBuilder.Entity<StudentEvaluation>(entity =>
            {
                entity.ToTable("StudentEvaluation", "student");

                entity.HasOne(d => d.AnnualEvaluationNavigation)
                    .WithMany(p => p.StudentEvaluationAnnualEvaluationNavigations)
                    .HasForeignKey(d => d.AnnualEvaluation)
                    .HasConstraintName("FK_StudentEvaluation_Annual_Grade");

                entity.HasOne(d => d.CurriculumPart)
                    .WithMany(p => p.StudentEvaluations)
                    .HasForeignKey(d => d.CurriculumPartId)
                    .HasConstraintName("FK_StudentEvaluation_CurriculumPart");

                entity.HasOne(d => d.DischargeDocument)
                    .WithMany(p => p.StudentEvaluations)
                    .HasForeignKey(d => d.DischargeDocumentId)
                    .OnDelete(DeleteBehavior.Cascade)
                    .HasConstraintName("FK_StudentEvaluation_DischargeDocument");

                entity.HasOne(d => d.FirstTermEvaluationNavigation)
                    .WithMany(p => p.StudentEvaluationFirstTermEvaluationNavigations)
                    .HasForeignKey(d => d.FirstTermEvaluation)
                    .HasConstraintName("FK_StudentEvaluation_Term1_Grade");

                entity.HasOne(d => d.OneYearAgoEvaluationNavigation)
                    .WithMany(p => p.StudentEvaluationOneYearAgoEvaluationNavigations)
                    .HasForeignKey(d => d.OneYearAgoEvaluation)
                    .HasConstraintName("FK_StudentEvaluation_1YearAgo_Grade");

                entity.HasOne(d => d.RelocationDocument)
                    .WithMany(p => p.StudentEvaluations)
                    .HasForeignKey(d => d.RelocationDocumentId)
                    .OnDelete(DeleteBehavior.Cascade)
                    .HasConstraintName("FK_StudentEvaluation_RelocationDocument");

                entity.HasOne(d => d.SecondTermEvaluationNavigation)
                    .WithMany(p => p.StudentEvaluationSecondTermEvaluationNavigations)
                    .HasForeignKey(d => d.SecondTermEvaluation)
                    .HasConstraintName("FK_StudentEvaluation_Term2_Grade");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.StudentEvaluations)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_StudentEvaluation_Subject");

                entity.HasOne(d => d.TwoYearsAgoEvaluationNavigation)
                    .WithMany(p => p.StudentEvaluationTwoYearsAgoEvaluationNavigations)
                    .HasForeignKey(d => d.TwoYearsAgoEvaluation)
                    .HasConstraintName("FK_StudentEvaluation_2YearAgo_Grade");
            });

            modelBuilder.Entity<StudentType>(entity =>
            {
                entity.ToTable("StudentType", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<Subject>(entity =>
            {
                entity.ToTable("Subject", "inst_nom");

                entity.Property(e => e.SubjectId).HasColumnName("SubjectID");

                entity.Property(e => e.NameDe)
                    .HasColumnName("NameDE")
                    .HasMaxLength(255);

                entity.Property(e => e.NameEn)
                    .HasColumnName("NameEN")
                    .HasMaxLength(255);

                entity.Property(e => e.NameFr)
                    .HasColumnName("NameFR")
                    .HasMaxLength(255);

                entity.Property(e => e.SubjectName).HasMaxLength(255);

                entity.Property(e => e.SubjectNameShort).HasMaxLength(255);
            });

            modelBuilder.Entity<SubjectInstitution>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("SubjectInstitution", "inst_nom");

                entity.Property(e => e.CustomVarValueId).HasColumnName("CustomVarValueID");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.SubjectGroupId).HasColumnName("SubjectGroupID");

                entity.Property(e => e.SubjectGroupName).HasMaxLength(255);

                entity.Property(e => e.SubjectId).HasColumnName("SubjectID");

                entity.Property(e => e.SubjectName).HasMaxLength(255);
            });

            modelBuilder.Entity<SubjectType>(entity =>
            {
                entity.ToTable("SubjectType", "inst_nom");

                entity.Property(e => e.SubjectTypeId)
                    .HasColumnName("SubjectTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.BasicSubjectTypeId).HasColumnName("BasicSubjectTypeID");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.PartId).HasColumnName("PartID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.BasicSubjectType)
                    .WithMany(p => p.SubjectTypes)
                    .HasForeignKey(d => d.BasicSubjectTypeId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SubjTypeBaseSubjType");
            });

            modelBuilder.Entity<SupportPeriod>(entity =>
            {
                entity.ToTable("SupportPeriod", "student");

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasDefaultValueSql("(getdate())");
            });

            modelBuilder.Entity<SysRole>(entity =>
            {
                entity.ToTable("SysRole", "core");

                entity.HasIndex(e => e.Name)
                    .HasName("UQ_SysRole")
                    .IsUnique();

                entity.Property(e => e.SysRoleId).HasColumnName("SysRoleID");

                entity.Property(e => e.Description)
                    .IsRequired()
                    .HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<SysUser>(entity =>
            {
                entity.ToTable("SysUser", "core");

                entity.HasComment("Потребители");

                entity.HasIndex(e => e.PersonId)
                    .HasName("uqOneToOneSysUserPersonByCondition")
                    .IsUnique()
                    .HasFilter("([DeletedOn] IS NULL)");

                entity.HasIndex(e => e.Username)
                    .HasName("uqSysUserUsername")
                    .IsUnique()
                    .HasFilter("([DeletedOn] IS NULL)");

                entity.Property(e => e.SysUserId)
                    .HasColumnName("SysUserID")
                    .HasComment("Уникален идентификатор");

                entity.Property(e => e.InitialPassword).HasMaxLength(255);

                entity.Property(e => e.IsAzureSynced).HasColumnName("isAzureSynced");

                entity.Property(e => e.IsAzureUser)
                    .IsRequired()
                    .HasDefaultValueSql("('FALSE')");

                entity.Property(e => e.Password)
                    .HasMaxLength(255)
                    .HasComment("Парола");

                entity.Property(e => e.PersonId)
                    .HasColumnName("PersonID")
                    .HasDefaultValueSql("((-1))");

                entity.Property(e => e.Username)
                    .IsRequired()
                    .HasMaxLength(255)
                    .HasComment("Потребителско име");

                entity.HasOne(d => d.Person)
                    .WithOne(p => p.SysUser)
                    .HasForeignKey<SysUser>(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SysUser_Person");
            });

            modelBuilder.Entity<SysUserSysRole>(entity =>
            {
                entity.HasNoKey();

                entity.ToTable("SysUserSysRole", "core");

                entity.HasIndex(e => e.SysUserId);

                entity.Property(e => e.BudgetingInstitutionId).HasColumnName("BudgetingInstitutionID");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.MunicipalityId).HasColumnName("MunicipalityID");

                entity.Property(e => e.RegionId).HasColumnName("RegionID");

                entity.Property(e => e.SysRoleId).HasColumnName("SysRoleID");

                entity.Property(e => e.SysUserId).HasColumnName("SysUserID");

                entity.HasOne(d => d.BudgetingInstitution)
                    .WithMany()
                    .HasForeignKey(d => d.BudgetingInstitutionId)
                    .HasConstraintName("FK_SysUserSysRole_BudgetingInstitution");

                entity.HasOne(d => d.Institution)
                    .WithMany()
                    .HasForeignKey(d => d.InstitutionId)
                    .HasConstraintName("FK_SysUserSysRole_Institution");

                entity.HasOne(d => d.Municipality)
                    .WithMany()
                    .HasForeignKey(d => d.MunicipalityId)
                    .HasConstraintName("FK_SysUserSysRole_Municipality");

                entity.HasOne(d => d.Region)
                    .WithMany()
                    .HasForeignKey(d => d.RegionId)
                    .HasConstraintName("FK_SysUserSysRole_Region");

                entity.HasOne(d => d.SysRole)
                    .WithMany()
                    .HasForeignKey(d => d.SysRoleId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SysUserSysRole_SysRole");

                entity.HasOne(d => d.SysUser)
                    .WithMany()
                    .HasForeignKey(d => d.SysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_SysUserSysRole_SysUser");
            });

            modelBuilder.Entity<TeachStage>(entity =>
            {
                entity.ToTable("TeachStage", "inst_nom");

                entity.Property(e => e.TeachStageId)
                    .HasColumnName("TeachStageID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<Template>(entity =>
            {
                entity.ToTable("Template", "document");

                entity.Property(e => e.CommissionOrderNumber).HasMaxLength(50);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getdate())");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Deputy).HasMaxLength(255);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Principal).HasMaxLength(255);

                entity.Property(e => e.TmpDocTemplateId).HasColumnName("tmp_DocTemplateID");

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.Templates)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_Template_BasicClass");

                entity.HasOne(d => d.BasicDocument)
                    .WithMany(p => p.Templates)
                    .HasForeignKey(d => d.BasicDocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Template_BasicDocument");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.TemplateCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Template_CreatedSysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.TemplateModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Template_ModifiedSysUser");

                entity.HasOne(d => d.InstitutionSchoolYear)
                    .WithMany(p => p.Templates)
                    .HasForeignKey(d => new { d.InstitutionId, d.SchoolYear })
                    .HasConstraintName("FK_Template_InstitutionSchoolYear");
            });

            modelBuilder.Entity<TemplateSubject>(entity =>
            {
                entity.ToTable("TemplateSubject", "document");

                entity.HasIndex(e => e.ParentId);

                entity.HasIndex(e => e.TemplateId);

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(sysutcdatetime())");

                entity.Property(e => e.FlLevel).HasMaxLength(255);

                entity.Property(e => e.FlSubjectName).HasMaxLength(255);

                entity.Property(e => e.Grade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.GradeCategory).HasDefaultValueSql("((1))");

                entity.Property(e => e.GradeText).HasMaxLength(100);

                entity.Property(e => e.Nvopoints)
                    .HasColumnName("NVOPoints")
                    .HasColumnType("decimal(7, 3)");

                entity.Property(e => e.SubjectName).HasMaxLength(255);

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.TemplateSubjects)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_TemplateSubject_BasicClass");

                entity.HasOne(d => d.BasicDocumentPart)
                    .WithMany(p => p.TemplateSubjects)
                    .HasForeignKey(d => d.BasicDocumentPartId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_TemplateSubject_BasicDocumentPart");

                entity.HasOne(d => d.BasicDocumentSubject)
                    .WithMany(p => p.TemplateSubjects)
                    .HasForeignKey(d => d.BasicDocumentSubjectId)
                    .OnDelete(DeleteBehavior.SetNull)
                    .HasConstraintName("FK_TemplateSubject_BasicDocumentSubject");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.TemplateSubjectCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_TemplateSubject_Creator");

                entity.HasOne(d => d.FlSubject)
                    .WithMany(p => p.TemplateSubjects)
                    .HasForeignKey(d => d.FlSubjectId)
                    .HasConstraintName("FK_TemplateSubject_FLSubject");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.TemplateSubjectModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_TemplateSubject_Updater");

                entity.HasOne(d => d.Parent)
                    .WithMany(p => p.InverseParent)
                    .HasForeignKey(d => d.ParentId)
                    .HasConstraintName("FK_TemplateSubject_Parent");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.TemplateSubjects)
                    .HasForeignKey(d => d.SubjectId)
                    .HasConstraintName("FK_TemplateSubject_Subject");

                entity.HasOne(d => d.SubjectType)
                    .WithMany(p => p.TemplateSubjects)
                    .HasForeignKey(d => d.SubjectTypeId)
                    .HasConstraintName("FK_TemplateSubject_SubjectType");

                entity.HasOne(d => d.Template)
                    .WithMany(p => p.TemplateSubjects)
                    .HasForeignKey(d => d.TemplateId)
                    .HasConstraintName("FK_TemplateSubject_Template");
            });

            modelBuilder.Entity<Town>(entity =>
            {
                entity.ToTable("Town", "location");

                entity.Property(e => e.TownId)
                    .HasColumnName("TownID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Latitude).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.Longtitude).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.MunicipalityId).HasColumnName("MunicipalityID");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.Type)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.HasOne(d => d.Municipality)
                    .WithMany(p => p.Towns)
                    .HasForeignKey(d => d.MunicipalityId)
                    .HasConstraintName("FK_Town_Municipality");
            });

            modelBuilder.Entity<TrustBoardRegistryStatus>(entity =>
            {
                entity.ToTable("TrustBoardRegistryStatus", "inst_nom");

                entity.Property(e => e.TrustBoardRegistryStatusId)
                    .HasColumnName("TrustBoardRegistryStatusID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<Uierror>(entity =>
            {
                entity.HasKey(e => new { e.CreateDate, e.Id });

                entity.ToTable("UIError", "logs");

                entity.Property(e => e.Id).ValueGeneratedOnAdd();

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.Ipaddress)
                    .HasColumnName("IPAddress")
                    .HasMaxLength(100);

                entity.Property(e => e.Message).IsRequired();

                entity.HasOne(d => d.AuditModule)
                    .WithMany(p => p.Uierrors)
                    .HasForeignKey(d => d.AuditModuleId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_UIError_AuditModuleId");
            });

            modelBuilder.Entity<University>(entity =>
            {
                entity.ToTable("University", "inst_nom");

                entity.Property(e => e.UniversityId)
                    .HasColumnName("UniversityID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(50);

                entity.Property(e => e.TownId).HasColumnName("TownID");

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");

                entity.HasOne(d => d.Town)
                    .WithMany(p => p.Universities)
                    .HasForeignKey(d => d.TownId)
                    .HasConstraintName("FK_UniversityTown");
            });

            modelBuilder.Entity<UserManagementApirequest>(entity =>
            {
                entity.HasKey(e => new { e.CreateDate, e.Id })
                    .HasName("PK_UserManagementFailedRequest");

                entity.ToTable("UserManagementAPIRequest", "logs");

                entity.Property(e => e.CreateDate).HasDefaultValueSql("(getutcdate())");

                entity.Property(e => e.Id).ValueGeneratedOnAdd();

                entity.Property(e => e.CurriculumId).HasColumnName("CurriculumID");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.IsError)
                    .IsRequired()
                    .HasDefaultValueSql("((1))");

                entity.Property(e => e.Operation).HasMaxLength(100);

                entity.Property(e => e.Url).IsRequired();

                entity.HasOne(d => d.AuditModule)
                    .WithMany(p => p.UserManagementApirequests)
                    .HasForeignKey(d => d.AuditModuleId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_UserManagementFailedRequest_AuditModuleId");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.UserManagementApirequests)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .HasConstraintName("FK_UserManagementFailedRequest_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.UserManagementApirequests)
                    .HasForeignKey(d => d.PersonId)
                    .HasConstraintName("FK_UserManagementFailedRequest_Person");
            });

            modelBuilder.Entity<VAbsenceReport>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_Absence_Reports", "student");

                entity.Property(e => e.AbsenceCampaignDescription).HasMaxLength(2048);

                entity.Property(e => e.AbsenceCampaignFromDate).HasColumnType("date");

                entity.Property(e => e.AbsenceCampaignName).HasMaxLength(255);

                entity.Property(e => e.AbsenceCampaignToDate).HasColumnType("date");

                entity.Property(e => e.AbsenceImportCmodifyDate).HasColumnName("AbsenceImportCModifyDate");

                entity.Property(e => e.CreatorUsername).HasMaxLength(255);

                entity.Property(e => e.InstitutionAbbreviation)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstitutionMunicipality).HasMaxLength(1024);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.InstitutionRegion).HasMaxLength(1024);

                entity.Property(e => e.InstitutionTown).HasMaxLength(1024);

                entity.Property(e => e.RegionId).HasColumnName("RegionID");

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.UpdaterUsername).HasMaxLength(255);
            });

            modelBuilder.Entity<VAspmonthlyBenefitReport>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_ASPMonthlyBenefitReport", "student");

                entity.Property(e => e.Absence).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.AbsenceCorrected).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.AspmonthlyBenefitsImportId).HasColumnName("ASPMonthlyBenefitsImportId");

                entity.Property(e => e.CurrentInstitutionAbbreviation)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.CurrentInstitutionCode)
                    .HasMaxLength(11)
                    .IsUnicode(false);

                entity.Property(e => e.CurrentInstitutionDetailedSchoolType).HasMaxLength(255);

                entity.Property(e => e.CurrentInstitutionName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.CurrentInstitutionTown)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.PersonIdentificationNumber).HasMaxLength(255);

                entity.Property(e => e.PersonName).HasMaxLength(768);

                entity.Property(e => e.Region)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.StatusAsp).HasColumnName("StatusASP");

                entity.Property(e => e.StatusAspname)
                    .IsRequired()
                    .HasColumnName("StatusASPName")
                    .HasMaxLength(9);

                entity.Property(e => e.StatusNeispuo).HasColumnName("StatusNEISPUO");

                entity.Property(e => e.StatusNeispuoname)
                    .IsRequired()
                    .HasColumnName("StatusNEISPUOName")
                    .HasMaxLength(57);
            });

            modelBuilder.Entity<VAuditLog>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_AuditLogs", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.EntitySetName).HasMaxLength(255);

                entity.Property(e => e.EntityTypeName).HasMaxLength(255);

                entity.Property(e => e.Id).ValueGeneratedOnAdd();

                entity.Property(e => e.Ip).HasMaxLength(40);

                entity.Property(e => e.State).HasMaxLength(255);

                entity.Property(e => e.TimestampUtc).HasColumnType("datetime");

                entity.Property(e => e.UserAgent).HasMaxLength(255);

                entity.Property(e => e.Username).HasMaxLength(255);
            });

            modelBuilder.Entity<VAvailableArchitecture>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_AvailableArchitecture", "student");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.ModernizationDegreeId).HasColumnName("ModernizationDegreeID");

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VBasicDocumentSequenceList>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_BasicDocumentSequenceList", "document");

                entity.Property(e => e.BasicDocumentName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.FullName).HasMaxLength(511);

                entity.Property(e => e.InstitutionName).HasMaxLength(1024);

                entity.Property(e => e.RegDate).HasColumnType("date");

                entity.Property(e => e.RegionId).HasColumnName("RegionID");
            });

            modelBuilder.Entity<VClassStudent>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_ClassStudents", "student");

                entity.Property(e => e.ClassName).HasMaxLength(255);

                entity.Property(e => e.EduFormName).HasMaxLength(255);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.InitialPassword).HasMaxLength(4000);

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.LodNotFinalizationYears)
                    .HasMaxLength(1)
                    .IsUnicode(false);

                entity.Property(e => e.MainClassName).HasMaxLength(255);

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinType).HasMaxLength(255);

                entity.Property(e => e.PositionName).HasMaxLength(255);

                entity.Property(e => e.Username).HasMaxLength(4000);
            });

            modelBuilder.Entity<VCurriculumStudentDetail>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_CurriculumStudentDetails", "student");

                entity.Property(e => e.CurriculumId).HasColumnName("CurriculumID");

                entity.Property(e => e.CurriculumStudentId).HasColumnName("CurriculumStudentID");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.PersonId).HasColumnName("PersonID");

                entity.Property(e => e.SubjectName).HasMaxLength(255);

                entity.Property(e => e.SubjectTypeName).HasMaxLength(255);
            });

            modelBuilder.Entity<VDiplomaList>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_DiplomaList", "document");

                entity.Property(e => e.BasicDocumentName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.BirthDate).HasColumnType("date");

                entity.Property(e => e.BirthPlaceMunicipality).HasMaxLength(255);

                entity.Property(e => e.BirthPlaceRegion).HasMaxLength(255);

                entity.Property(e => e.BirthPlaceTown).HasMaxLength(255);

                entity.Property(e => e.CreatorUsername).HasMaxLength(255);

                entity.Property(e => e.EditableSetReason).HasMaxLength(1000);

                entity.Property(e => e.EditableSetUsername).HasMaxLength(255);

                entity.Property(e => e.FactoryNumber).HasMaxLength(50);

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.GenderName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstitutionName).HasMaxLength(1024);

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.PersonalId).HasMaxLength(255);

                entity.Property(e => e.PersonalIdTypeName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ProtocolDate).HasColumnType("date");

                entity.Property(e => e.ProtocolNumber).HasMaxLength(50);

                entity.Property(e => e.RegistrationDate).HasColumnType("date");

                entity.Property(e => e.RegistrationNumberTotal)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.RegistrationNumberYear).HasMaxLength(199);

                entity.Property(e => e.ReportFormPath).HasMaxLength(1024);

                entity.Property(e => e.RuoRegCode).HasMaxLength(1024);

                entity.Property(e => e.RuoRegName).HasMaxLength(1024);

                entity.Property(e => e.SchoolYearName).HasMaxLength(255);

                entity.Property(e => e.Series).HasMaxLength(50);

                entity.Property(e => e.SignerUsername).HasMaxLength(255);

                entity.Property(e => e.UpdaterUsername).HasMaxLength(255);
            });

            modelBuilder.Entity<VDocManagementDashboard>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_DocManagementDashboard", "document");

                entity.Property(e => e.DocManagementApplicationCreatorUsername).HasMaxLength(255);

                entity.Property(e => e.DocManagementApplicationStatus).HasMaxLength(50);

                entity.Property(e => e.DocManagementApplicationUpdaterUsername).HasMaxLength(255);

                entity.Property(e => e.DocManagementCampaignDescription).HasMaxLength(2048);

                entity.Property(e => e.DocManagementCampaignFromDate).HasColumnType("date");

                entity.Property(e => e.DocManagementCampaignName).HasMaxLength(255);

                entity.Property(e => e.DocManagementCampaignToDate).HasColumnType("date");

                entity.Property(e => e.InstitutionAbbreviation)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstitutionMunicipality).HasMaxLength(1024);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.InstitutionRegion).HasMaxLength(1024);

                entity.Property(e => e.InstitutionTown).HasMaxLength(1024);

                entity.Property(e => e.RequestedInstitutionAbbreviation).HasMaxLength(255);

                entity.Property(e => e.RequestedInstitutionName).HasMaxLength(1024);

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VDocManagementReport>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_DocManagementReport", "document");

                entity.Property(e => e.BasicDocumentName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.DiplomaRegistrationDate).HasColumnType("date");

                entity.Property(e => e.DiplomaRegistrationNumberTotal).HasMaxLength(100);

                entity.Property(e => e.DiplomaRegistrationNumberYear).HasMaxLength(199);

                entity.Property(e => e.DocNumber)
                    .IsRequired()
                    .HasMaxLength(6)
                    .IsUnicode(false)
                    .IsFixedLength();

                entity.Property(e => e.InstitutionMunicipalityName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstitutionRegionName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.InstitutionTownName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.PersonFullName).HasMaxLength(768);

                entity.Property(e => e.PersonIdentifier).HasMaxLength(255);

                entity.Property(e => e.PersonIdentifierType).HasMaxLength(255);

                entity.Property(e => e.RequestedInstitutionName).HasMaxLength(255);

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Series).HasMaxLength(10);

                entity.Property(e => e.SeriesFormat).HasMaxLength(100);
            });

            modelBuilder.Entity<VFreeDocManagementApplicationItem>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_FreeDocManagementApplicationItems", "document");

                entity.Property(e => e.BasicDocumentName)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VInstitutionList>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_InstitutionList", "student");

                entity.Property(e => e.Abbreviation)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.BaseSchoolTypeName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.BudgetingSchoolTypeName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.DetailedSchoolTypeName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.FinancialSchoolTypeId).HasColumnName("FinancialSchoolTypeID");

                entity.Property(e => e.FinancialSchoolTypeName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstTypeAbbreviation)
                    .HasMaxLength(10)
                    .IsFixedLength();

                entity.Property(e => e.InstTypeName)
                    .HasMaxLength(42)
                    .IsUnicode(false);

                entity.Property(e => e.MunicipalityName).HasMaxLength(1024);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.RegionName).HasMaxLength(1024);

                entity.Property(e => e.TownName).HasMaxLength(1024);
            });

            modelBuilder.Entity<VLeadTeacher>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_LeadTeacher", "student");

                entity.Property(e => e.ClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.FullName).HasMaxLength(511);
            });

            modelBuilder.Entity<VLoadAssessmentList>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_LoadAssessmentList", "student");

                entity.Property(e => e.CurriculumPartName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.DecimalGrade).HasColumnType("decimal(3, 2)");

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.GradeCategoryName).HasMaxLength(2048);

                entity.Property(e => e.GradeName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinTypeName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SubjectName).HasMaxLength(255);

                entity.Property(e => e.SubjectTypeName)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VLodStudentAbsence>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_LodStudentAbsences", "student");

                entity.Property(e => e.Excused).HasColumnType("decimal(38, 2)");

                entity.Property(e => e.PersonId).HasColumnName("PersonID");

                entity.Property(e => e.SchoolYearName).HasMaxLength(255);

                entity.Property(e => e.Unexcused).HasColumnType("decimal(6, 2)");
            });

            modelBuilder.Entity<VLodStudentClass>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_LodStudentClasses", "student");

                entity.Property(e => e.AdmissionDocDate).HasColumnType("date");

                entity.Property(e => e.AdmissionDocNoteDate).HasColumnType("date");

                entity.Property(e => e.AdmissionDocNoteNumber).HasMaxLength(20);

                entity.Property(e => e.BasciClassName).HasMaxLength(2048);

                entity.Property(e => e.ClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ClassTypeName).HasMaxLength(255);

                entity.Property(e => e.DischargeDate).HasColumnType("date");

                entity.Property(e => e.DischargeDocDischargeDate).HasColumnType("date");

                entity.Property(e => e.DischargeDocNoteDate).HasColumnType("date");

                entity.Property(e => e.DischargeDocNoteNumber).HasMaxLength(20);

                entity.Property(e => e.EduFormName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.Profession).HasMaxLength(255);

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Speciality).HasMaxLength(255);
            });

            modelBuilder.Entity<VNotesList>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_NotesList", "student");

                entity.Property(e => e.Content).IsRequired();

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.IssueDate).HasColumnType("date");

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Title)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VOresCalendarDetail>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_OresCalendarDetails", "student");

                entity.Property(e => e.ClassName).HasMaxLength(255);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.InstitutionName).HasMaxLength(255);

                entity.Property(e => e.OresTypeName).HasMaxLength(255);

                entity.Property(e => e.RegionName).HasMaxLength(1024);

                entity.Property(e => e.StudentFullName).HasMaxLength(768);
            });

            modelBuilder.Entity<VOresList>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_OresList", "student");

                entity.Property(e => e.BasicClassName).HasMaxLength(255);

                entity.Property(e => e.BasicClassRomeName).HasMaxLength(255);

                entity.Property(e => e.ClassName).HasMaxLength(255);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.EduFormName).HasMaxLength(255);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.InstitutionName).HasMaxLength(255);

                entity.Property(e => e.MunicipalityName).HasMaxLength(1024);

                entity.Property(e => e.OresTypeName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinTypeName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.RegionName).HasMaxLength(1024);

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.TownName).HasMaxLength(1024);
            });

            modelBuilder.Entity<VPersonDetail>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_PersonDetails", "student");

                entity.Property(e => e.BirthDate).HasColumnType("date");

                entity.Property(e => e.BirthPlaceMunicipality).HasMaxLength(1024);

                entity.Property(e => e.BirthPlaceRegion).HasMaxLength(1024);

                entity.Property(e => e.BirthPlaceTown).HasMaxLength(1024);

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinType).HasMaxLength(255);
            });

            modelBuilder.Entity<VPersonExtendedDetail>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_PersonExtendedDetails", "student");

                entity.Property(e => e.BirthDate).HasColumnType("date");

                entity.Property(e => e.BirthPlaceMunicipality).HasMaxLength(1024);

                entity.Property(e => e.BirthPlaceRegion).HasMaxLength(1024);

                entity.Property(e => e.BirthPlaceTown).HasMaxLength(1024);

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.HomePhone).HasMaxLength(100);

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.MobilePhone).HasMaxLength(100);

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinType).HasMaxLength(255);
            });

            modelBuilder.Entity<VRefugeeAdmissionDetail>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_RefugeeAdmissionDetails", "student");

                entity.Property(e => e.AdmissionStatus)
                    .IsRequired()
                    .HasMaxLength(2);

                entity.Property(e => e.Classes).HasMaxLength(4000);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.InstitutioRegion).HasMaxLength(1024);

                entity.Property(e => e.InstitutioTown).HasMaxLength(1024);

                entity.Property(e => e.InstitutionAbbreviation).HasMaxLength(255);

                entity.Property(e => e.InstitutionCode)
                    .HasMaxLength(11)
                    .IsUnicode(false);

                entity.Property(e => e.InstitutionName).HasMaxLength(1024);

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinType).HasMaxLength(255);

                entity.Property(e => e.RuodocDate)
                    .HasColumnName("RUODocDate")
                    .HasColumnType("date");

                entity.Property(e => e.RuodocNumber)
                    .HasColumnName("RUODocNumber")
                    .HasMaxLength(50);
            });

            modelBuilder.Entity<VRegBookCertificate>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_RegBookCertificate", "document");

                entity.Property(e => e.FactoryNumber).HasMaxLength(50);

                entity.Property(e => e.FullName)
                    .IsRequired()
                    .HasMaxLength(767);

                entity.Property(e => e.PersonalId).HasMaxLength(255);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");

                entity.Property(e => e.RegistrationDate).HasColumnType("date");

                entity.Property(e => e.RegistrationNumberTotal).HasMaxLength(400);

                entity.Property(e => e.RegistrationNumberYear).HasMaxLength(400);

                entity.Property(e => e.Series).HasMaxLength(50);
            });

            modelBuilder.Entity<VRegBookCertificateBasicDocument>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_RegBookCertificateBasicDocument", "document");

                entity.Property(e => e.Id).ValueGeneratedOnAdd();

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VRegBookCertificateDuplicate>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_RegBookCertificateDuplicate", "document");

                entity.Property(e => e.FullName)
                    .IsRequired()
                    .HasMaxLength(767);

                entity.Property(e => e.OrigRegistrationDate).HasColumnType("date");

                entity.Property(e => e.OrigRegistrationNumber).HasMaxLength(50);

                entity.Property(e => e.OrigRegistrationNumberYear).HasMaxLength(199);

                entity.Property(e => e.PersonalId).HasMaxLength(255);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");

                entity.Property(e => e.RegistrationDate).HasColumnType("date");

                entity.Property(e => e.RegistrationNumberTotal)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.RegistrationNumberYear).HasMaxLength(199);
            });

            modelBuilder.Entity<VRegBookCertificateDuplicateBasicDocument>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_RegBookCertificateDuplicateBasicDocument", "document");

                entity.Property(e => e.Id).ValueGeneratedOnAdd();

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VRegBookQualification>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_RegBookQualification", "document");

                entity.Property(e => e.FactoryNumber).HasMaxLength(50);

                entity.Property(e => e.FullName)
                    .IsRequired()
                    .HasMaxLength(767);

                entity.Property(e => e.Gpa)
                    .IsRequired()
                    .HasColumnName("GPA")
                    .HasMaxLength(142);

                entity.Property(e => e.PersonalId).HasMaxLength(255);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");

                entity.Property(e => e.RegistrationDate).HasColumnType("date");

                entity.Property(e => e.RegistrationNumberTotal).HasMaxLength(400);

                entity.Property(e => e.RegistrationNumberYear).HasMaxLength(400);

                entity.Property(e => e.Series).HasMaxLength(50);

                entity.Property(e => e.SppooprofessionId).HasColumnName("SPPOOProfessionId");

                entity.Property(e => e.SppoospecialityId).HasColumnName("SPPOOSpecialityId");
            });

            modelBuilder.Entity<VRegBookQualificationBasicDocument>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_RegBookQualificationBasicDocument", "document");

                entity.Property(e => e.Id).ValueGeneratedOnAdd();

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VRegBookQualificationDuplicate>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_RegBookQualificationDuplicate", "document");

                entity.Property(e => e.FactoryNumber).HasMaxLength(50);

                entity.Property(e => e.FullName)
                    .IsRequired()
                    .HasMaxLength(767);

                entity.Property(e => e.OrigFactoryNumber).HasMaxLength(50);

                entity.Property(e => e.OrigRegistrationDate).HasColumnType("date");

                entity.Property(e => e.OrigRegistrationNumber).HasMaxLength(50);

                entity.Property(e => e.OrigRegistrationNumberYear).HasMaxLength(199);

                entity.Property(e => e.OrigSeries).HasMaxLength(50);

                entity.Property(e => e.PersonalId).HasMaxLength(255);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");

                entity.Property(e => e.RegistrationDate).HasColumnType("date");

                entity.Property(e => e.RegistrationNumberTotal)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.RegistrationNumberYear).HasMaxLength(199);

                entity.Property(e => e.Series).HasMaxLength(50);

                entity.Property(e => e.SppooprofessionId).HasColumnName("SPPOOProfessionId");

                entity.Property(e => e.SppoospecialityId).HasColumnName("SPPOOSpecialityId");
            });

            modelBuilder.Entity<VRegBookQualificationDuplicateBasicDocument>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_RegBookQualificationDuplicateBasicDocument", "document");

                entity.Property(e => e.Id).ValueGeneratedOnAdd();

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VRoomsAndEquipment>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_RoomsAndEquipment", "student");

                entity.Property(e => e.Area).HasMaxLength(286);

                entity.Property(e => e.BuildingAreaTypeId).HasColumnName("BuildingAreaTypeID");

                entity.Property(e => e.BuildingRoomTypeId).HasColumnName("BuildingRoomTypeID");

                entity.Property(e => e.Equipment).HasMaxLength(1055);

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.Room).HasMaxLength(1055);
            });

            modelBuilder.Entity<VSchoolBooksAbsence>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_SchoolBooksAbsences", "student");

                entity.Property(e => e.BasicClassId).HasColumnName("BasicClassID");

                entity.Property(e => e.ClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.PersonId).HasColumnName("PersonID");

                entity.Property(e => e.PersonalId)
                    .HasColumnName("PersonalID")
                    .HasMaxLength(255);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");
            });

            modelBuilder.Entity<VSchoolBooksAbsencesGroup>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_SchoolBooksAbsencesGroups", "student");

                entity.Property(e => e.BasicClassId).HasColumnName("BasicClassID");

                entity.Property(e => e.Excused).HasColumnType("decimal(38, 2)");

                entity.Property(e => e.FirstName).HasMaxLength(255);

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.LastName).HasMaxLength(255);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.PersonId).HasColumnName("PersonID");

                entity.Property(e => e.PersonalId)
                    .HasColumnName("PersonalID")
                    .HasMaxLength(255);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");

                entity.Property(e => e.Unexcused).HasColumnType("decimal(6, 2)");
            });

            modelBuilder.Entity<VSchoolBooksGrade>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_SchoolBooksGrades", "student");

                entity.Property(e => e.BasicSubjectAbrev).HasMaxLength(15);

                entity.Property(e => e.BasicSubjectName).HasMaxLength(50);

                entity.Property(e => e.CurriculumId).HasColumnName("CurriculumID");

                entity.Property(e => e.CurriculumPart).HasMaxLength(2048);

                entity.Property(e => e.CurriculumPartId).HasColumnName("CurriculumPartID");

                entity.Property(e => e.CurriculumPartName).HasMaxLength(255);

                entity.Property(e => e.FinalGrade).HasColumnType("decimal(12, 2)");

                entity.Property(e => e.FirstTermDecimalGrades).HasMaxLength(4000);

                entity.Property(e => e.FirstTermQualitativeGrades).HasMaxLength(4000);

                entity.Property(e => e.FirstTermSpecialGrades).HasMaxLength(4000);

                entity.Property(e => e.GradeFirstTerm).HasColumnType("decimal(12, 2)");

                entity.Property(e => e.GradeSecondTerm).HasColumnType("decimal(12, 2)");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.SecondTermDecimalGrades).HasMaxLength(4000);

                entity.Property(e => e.SecondTermQualitativeGrades).HasMaxLength(4000);

                entity.Property(e => e.SecondTermSpecialGrades).HasMaxLength(4000);

                entity.Property(e => e.StudentId).HasColumnName("StudentID");

                entity.Property(e => e.SubjectId).HasColumnName("SubjectID");

                entity.Property(e => e.SubjectName).HasMaxLength(255);

                entity.Property(e => e.SubjectTypeId).HasColumnName("SubjectTypeID");

                entity.Property(e => e.SubjectTypeName).HasMaxLength(255);
            });

            modelBuilder.Entity<VSchoolBooksSanction>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_SchoolBooksSanctions", "student");

                entity.Property(e => e.CancelOrderDate).HasColumnType("date");

                entity.Property(e => e.CancelOrderNumber).HasMaxLength(100);

                entity.Property(e => e.CancelReason).HasMaxLength(1000);

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.EndDate).HasColumnType("date");

                entity.Property(e => e.OrderDate).HasColumnType("date");

                entity.Property(e => e.OrderNumber)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.RuoOrderDate).HasColumnType("date");

                entity.Property(e => e.RuoOrderNumber).HasMaxLength(100);

                entity.Property(e => e.StartDate).HasColumnType("date");
            });

            modelBuilder.Entity<VSobStudentClassDetail>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_Sob_StudentClassDetails", "student");

                entity.Property(e => e.BasicClassId).HasColumnName("BasicClassID");

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");
            });

            modelBuilder.Entity<VSopEnrollmentDetail>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_SopEnrollmentDetails", "student");

                entity.Property(e => e.CsopInstName).HasMaxLength(1024);

                entity.Property(e => e.CsopRegionName).HasMaxLength(1024);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.MainInstName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.MainInstRegionName)
                    .IsRequired()
                    .HasMaxLength(1024);
            });

            modelBuilder.Entity<VStudentAbsencesList>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentAbsencesList", "student");

                entity.Property(e => e.Excused).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.MonthName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Unexcused).HasColumnType("decimal(5, 2)");
            });

            modelBuilder.Entity<VStudentClassDetail>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentClassDetails", "student");

                entity.Property(e => e.BasicClassName).HasMaxLength(255);

                entity.Property(e => e.BasicClassRomeName).HasMaxLength(255);

                entity.Property(e => e.ClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ClassTypeName).HasMaxLength(255);

                entity.Property(e => e.EduFormName).HasMaxLength(255);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.MainClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ParentBasicClassName).HasMaxLength(255);

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinType).HasMaxLength(255);

                entity.Property(e => e.Position)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Profession).HasMaxLength(255);

                entity.Property(e => e.Speciality).HasMaxLength(255);
            });

            modelBuilder.Entity<VStudentClassTimeLineList>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentClassTimeLineList", "student");

                entity.Property(e => e.AvailableArchitectures).HasMaxLength(4000);

                entity.Property(e => e.BasicClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.BasicClassRomeName).HasMaxLength(255);

                entity.Property(e => e.BuildingAreas).HasMaxLength(4000);

                entity.Property(e => e.BuildingRooms).HasMaxLength(4000);

                entity.Property(e => e.ClassGroupClassTypeName).HasMaxLength(255);

                entity.Property(e => e.ClassGroupEduFormName).HasMaxLength(255);

                entity.Property(e => e.ClassGroupProfessionName).HasMaxLength(255);

                entity.Property(e => e.ClassGroupSpecialityName).HasMaxLength(255);

                entity.Property(e => e.ClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ClassTypeId).HasColumnName("ClassTypeID");

                entity.Property(e => e.CommuterTypeName).HasMaxLength(255);

                entity.Property(e => e.DischargeDate).HasColumnType("date");

                entity.Property(e => e.EntryDate).HasColumnType("date");

                entity.Property(e => e.Id).HasColumnName("ID");

                entity.Property(e => e.InstitutionAbbreviation)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.OresTypeName).HasMaxLength(255);

                entity.Property(e => e.PositionName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.RepeaterReasonName).HasMaxLength(255);

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SpecialEquipments).HasMaxLength(4000);

                entity.Property(e => e.StudentClassClassTypeName).HasMaxLength(255);

                entity.Property(e => e.StudentClassEduFormName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.StudentClassProfessionName).HasMaxLength(255);

                entity.Property(e => e.StudentClassSpecialityName).HasMaxLength(255);

                entity.Property(e => e.SupportiveEnvironment).HasMaxLength(1000);
            });

            modelBuilder.Entity<VStudentDiploma>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentDiplomas", "student");

                entity.Property(e => e.BasicDocumentName).HasMaxLength(255);

                entity.Property(e => e.DiplomaInstitutionName).HasMaxLength(1024);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.PersonId).HasColumnName("PersonID");

                entity.Property(e => e.PersonalId)
                    .HasColumnName("PersonalID")
                    .HasMaxLength(255);

                entity.Property(e => e.PersonalIdTypeName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.StudentClassInstitutionAbbreviation).HasMaxLength(255);

                entity.Property(e => e.StudentClassInstitutionName).HasMaxLength(1024);

                entity.Property(e => e.StudentClassSchoolYearName).HasMaxLength(255);
            });

            modelBuilder.Entity<VStudentDualFormDetail>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentDualFormDetails", "student");

                entity.Property(e => e.BasicClassName).HasMaxLength(255);

                entity.Property(e => e.ClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.CompanyName).HasMaxLength(255);

                entity.Property(e => e.CompanyUic).HasMaxLength(30);

                entity.Property(e => e.EduFormName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.EndDate).HasColumnType("date");

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.InstitutionCode).HasMaxLength(11);

                entity.Property(e => e.InstitutionMunicipality).HasMaxLength(1024);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstitutionRegion).HasMaxLength(1024);

                entity.Property(e => e.InstitutionTown).HasMaxLength(1024);

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinTypeName).HasMaxLength(255);

                entity.Property(e => e.Profession).HasMaxLength(255);

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.StartDate).HasColumnType("date");
            });

            modelBuilder.Entity<VStudentEnvironmentCharacteristic>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentEnvironmentCharacteristic", "student");

                entity.Property(e => e.ClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.EducationType)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinType)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.RegionName).HasMaxLength(1024);

                entity.Property(e => e.RelativeFullName).HasMaxLength(768);

                entity.Property(e => e.RelativeType)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.WorkStatus)
                    .IsRequired()
                    .HasMaxLength(1024);
            });

            modelBuilder.Entity<VStudentEplrHoursTaken>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentEplrHoursTaken", "student");

                entity.Property(e => e.Date).HasColumnType("date");

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.PositionName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SubjectName).HasMaxLength(255);

                entity.Property(e => e.SubjectTypeName)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VStudentExternalEvaluation>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentExternalEvaluations", "student");

                entity.Property(e => e.ClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.Fllevel)
                    .HasColumnName("FLLevel")
                    .HasMaxLength(50);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.Grade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.OriginalPoints).HasColumnType("decimal(7, 2)");

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinType).HasMaxLength(255);

                entity.Property(e => e.Points).HasColumnType("decimal(7, 2)");

                entity.Property(e => e.RegionName).HasMaxLength(1024);

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SubjectName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SubjectTypeName).HasMaxLength(255);

                entity.Property(e => e.Type)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VStudentGeneralTrainingDatum>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentGeneralTrainingData", "student");

                entity.Property(e => e.ClassEduFormName).HasMaxLength(255);

                entity.Property(e => e.ClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ClassTypeName).HasMaxLength(255);

                entity.Property(e => e.DischargeDate).HasColumnType("date");

                entity.Property(e => e.Institution)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.PersonFullName).HasMaxLength(767);

                entity.Property(e => e.Position).HasMaxLength(255);

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VStudentList>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_studentList", "student");

                entity.Property(e => e.BirthDate).HasColumnType("date");

                entity.Property(e => e.District).HasMaxLength(1024);

                entity.Property(e => e.FirstName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.InstitutionId).HasColumnName("InstitutionID");

                entity.Property(e => e.LastName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.MiddleName).HasMaxLength(255);

                entity.Property(e => e.Municipality).HasMaxLength(1024);

                entity.Property(e => e.PersonalIdtype).HasColumnName("PersonalIDType");

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PositionId).HasColumnName("PositionID");

                entity.Property(e => e.RegionId).HasColumnName("RegionID");

                entity.Property(e => e.School).HasMaxLength(1024);
            });

            modelBuilder.Entity<VStudentLodAsssessment>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentLodAsssessments", "student");

                entity.Property(e => e.BasicClassName).HasMaxLength(2048);

                entity.Property(e => e.BasicClassRomeName).HasMaxLength(255);

                entity.Property(e => e.Category)
                    .IsRequired()
                    .HasMaxLength(27)
                    .IsUnicode(false);

                entity.Property(e => e.CategoryAbbreviation)
                    .IsRequired()
                    .HasMaxLength(3)
                    .IsUnicode(false);

                entity.Property(e => e.CategoryName).HasMaxLength(2048);

                entity.Property(e => e.ClassBookName).HasMaxLength(358);

                entity.Property(e => e.CurriculumPart).HasMaxLength(2048);

                entity.Property(e => e.CurriculumPartName).HasMaxLength(255);

                entity.Property(e => e.CurriculumStudentId).HasMaxLength(4000);

                entity.Property(e => e.DecimalGrade).HasColumnType("decimal(20, 2)");

                entity.Property(e => e.FlSubjectName).HasMaxLength(50);

                entity.Property(e => e.GradeText).HasMaxLength(2048);

                entity.Property(e => e.QualitativeGrade).HasColumnType("decimal(12, 2)");

                entity.Property(e => e.SchoolYearName).HasMaxLength(255);

                entity.Property(e => e.SubjectName).HasMaxLength(261);

                entity.Property(e => e.SubjectNameDe).HasMaxLength(255);

                entity.Property(e => e.SubjectNameEn).HasMaxLength(255);

                entity.Property(e => e.SubjectNameFr).HasMaxLength(255);

                entity.Property(e => e.SubjectTypeName).HasMaxLength(255);

                entity.Property(e => e.TypeName)
                    .IsRequired()
                    .HasMaxLength(7)
                    .IsUnicode(false);
            });

            modelBuilder.Entity<VStudentLodAsssessmentList>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentLodAsssessmentList", "student");

                entity.Property(e => e.BasicClassId).HasColumnName("BasicClassID");

                entity.Property(e => e.BasicClassName).HasMaxLength(2048);

                entity.Property(e => e.BasicClassRomeName).HasMaxLength(255);

                entity.Property(e => e.Categories)
                    .HasMaxLength(8000)
                    .IsUnicode(false);

                entity.Property(e => e.Classes).HasMaxLength(4000);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.SchoolYearName).HasMaxLength(255);
            });

            modelBuilder.Entity<VStudentLodCurrentAsssessment>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentLodCurrentAsssessments", "student");

                entity.Property(e => e.BasicClassName).HasMaxLength(2048);

                entity.Property(e => e.BasicClassRomeName).HasMaxLength(255);

                entity.Property(e => e.Category)
                    .IsRequired()
                    .HasMaxLength(7)
                    .IsUnicode(false);

                entity.Property(e => e.CategoryName).HasMaxLength(2048);

                entity.Property(e => e.ClassBookName).HasMaxLength(358);

                entity.Property(e => e.CurriculumPart).HasMaxLength(2048);

                entity.Property(e => e.CurriculumPartName).HasMaxLength(255);

                entity.Property(e => e.DecimalGrade).HasColumnType("decimal(5, 2)");

                entity.Property(e => e.FlSubjectName).HasMaxLength(50);

                entity.Property(e => e.GradeText).HasMaxLength(2048);

                entity.Property(e => e.SchoolYearName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.SubjectName).HasMaxLength(255);

                entity.Property(e => e.SubjectNameDe).HasMaxLength(255);

                entity.Property(e => e.SubjectNameEn).HasMaxLength(255);

                entity.Property(e => e.SubjectNameFr).HasMaxLength(255);

                entity.Property(e => e.SubjectTypeName).HasMaxLength(255);

                entity.Property(e => e.TypeName)
                    .IsRequired()
                    .HasMaxLength(17)
                    .IsUnicode(false);
            });

            modelBuilder.Entity<VStudentLodFinalization>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentLodFinalizations", "student");

                entity.Property(e => e.BasicClassName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.BasicClassRomeName).HasMaxLength(255);

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.InstitutionAbbreviation)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(1024);

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinType).HasMaxLength(255);

                entity.Property(e => e.SchoolYearName).HasMaxLength(255);
            });

            modelBuilder.Entity<VStudentSummary>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentSummary", "student");

                entity.Property(e => e.BasicClassId).HasColumnName("BasicClassID");

                entity.Property(e => e.ClassEduFormName).HasMaxLength(255);

                entity.Property(e => e.ClassName).HasMaxLength(255);

                entity.Property(e => e.ClassSpecialityName).HasMaxLength(255);

                entity.Property(e => e.Email).HasMaxLength(100);

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.Gender)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.InstitutionName).HasMaxLength(1024);

                entity.Property(e => e.MobilePhone).HasMaxLength(100);

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinType)
                    .IsRequired()
                    .HasMaxLength(255);
            });

            modelBuilder.Entity<VStudentsToDischarge>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentsToDischarge", "student");

                entity.Property(e => e.DischargeDate).HasColumnType("date");

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.Gender).HasMaxLength(255);

                entity.Property(e => e.NewInstitution).HasMaxLength(255);

                entity.Property(e => e.NewPosition).HasMaxLength(255);

                entity.Property(e => e.NoteDate).HasColumnType("date");

                entity.Property(e => e.OldClassName).HasMaxLength(255);

                entity.Property(e => e.OldInstitution).HasMaxLength(255);

                entity.Property(e => e.OldPosition).HasMaxLength(255);

                entity.Property(e => e.PersonalId)
                    .HasColumnName("PersonalID")
                    .HasMaxLength(255);

                entity.Property(e => e.PinType).HasMaxLength(255);

                entity.Property(e => e.SelectionType)
                    .IsRequired()
                    .HasMaxLength(23)
                    .IsUnicode(false);
            });

            modelBuilder.Entity<VStudentsToEnroll>(entity =>
            {
                entity.HasNoKey();

                entity.ToView("v_StudentsToEnroll", "student");

                entity.Property(e => e.BirthDate).HasColumnType("date");

                entity.Property(e => e.FullName).HasMaxLength(768);

                entity.Property(e => e.Gender)
                    .IsRequired()
                    .HasMaxLength(1)
                    .IsUnicode(false);

                entity.Property(e => e.InstitutionName)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.NoteDate).HasColumnType("date");

                entity.Property(e => e.Pin).HasMaxLength(255);

                entity.Property(e => e.PinType).HasMaxLength(255);

                entity.Property(e => e.PositionName).HasMaxLength(255);

                entity.Property(e => e.RegionName).HasMaxLength(1024);
            });

            modelBuilder.Entity<Validation>(entity =>
            {
                entity.ToTable("Validation", "student");

                entity.Property(e => e.CreatedBySysUserId).HasColumnName("CreatedBySysUserID");

                entity.Property(e => e.ExamDate).HasColumnType("date");

                entity.Property(e => e.FinalGrade).HasColumnType("decimal(3, 2)");

                entity.Property(e => e.FinalGradeText)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.Property(e => e.ProtocolDate).HasColumnType("date");

                entity.Property(e => e.ProtocolNumber)
                    .IsRequired()
                    .HasMaxLength(100);

                entity.HasOne(d => d.BasicClass)
                    .WithMany(p => p.Validations)
                    .HasForeignKey(d => d.BasicClassId)
                    .HasConstraintName("FK_Validation_BasicClass");

                entity.HasOne(d => d.CreatedBySysUser)
                    .WithMany(p => p.ValidationCreatedBySysUsers)
                    .HasForeignKey(d => d.CreatedBySysUserId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Validation_Creator_SysUser");

                entity.HasOne(d => d.ModifiedBySysUser)
                    .WithMany(p => p.ValidationModifiedBySysUsers)
                    .HasForeignKey(d => d.ModifiedBySysUserId)
                    .HasConstraintName("FK_Validation_Updater_SysUser");

                entity.HasOne(d => d.Person)
                    .WithMany(p => p.Validations)
                    .HasForeignKey(d => d.PersonId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Validation_Student");

                entity.HasOne(d => d.Subject)
                    .WithMany(p => p.Validations)
                    .HasForeignKey(d => d.SubjectId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_Validation_Subject");
            });

            modelBuilder.Entity<ValidationDocument>(entity =>
            {
                entity.ToTable("ValidationDocument", "student");

                entity.HasOne(d => d.Document)
                    .WithMany(p => p.ValidationDocuments)
                    .HasForeignKey(d => d.DocumentId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ValidationDocument_Document");

                entity.HasOne(d => d.Validation)
                    .WithMany(p => p.ValidationDocuments)
                    .HasForeignKey(d => d.ValidationId)
                    .OnDelete(DeleteBehavior.ClientSetNull)
                    .HasConstraintName("FK_ValidationDocument_Validation");
            });

            modelBuilder.Entity<VehicleDocumentType>(entity =>
            {
                entity.ToTable("VehicleDocumentType", "inst_nom");

                entity.Property(e => e.VehicleDocumentTypeId)
                    .HasColumnName("VehicleDocumentTypeID")
                    .ValueGeneratedNever();

                entity.Property(e => e.Description).HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(255);

                entity.Property(e => e.ValidFrom).HasColumnType("datetime");

                entity.Property(e => e.ValidTo).HasColumnType("datetime");
            });

            modelBuilder.Entity<WorkStatus>(entity =>
            {
                entity.ToTable("WorkStatus", "family");

                entity.Property(e => e.WorkStatusId).HasColumnName("WorkStatusID");

                entity.Property(e => e.Description)
                    .IsRequired()
                    .HasMaxLength(2048);

                entity.Property(e => e.Name)
                    .IsRequired()
                    .HasMaxLength(1024);
            });

            modelBuilder.HasSequence<int>("BlobContentsIdSequence", "blobs").StartsAt(1000);

            modelBuilder.HasSequence<int>("BlobsIdSequence", "blobs").StartsAt(1000);

            modelBuilder.HasSequence<int>("AbsenceIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("AdditionalActivityIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("AttendanceIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ClassBookIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ClassBookPrintIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ExamDutyProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ExamIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ExamResultProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ExamResultsBookRecordIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("FirstGradeResultIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("GradeChangeExamsAdmProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("GradeIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("GradeResultIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("GraduationThesisDefenseProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("HighSchoolCertificateProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("IndividualWorkIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("LiableBookRecordIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("MainBookRecordIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("MissingTopicsReportIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("MissingTopicsReportItemIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("NoteIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("NvoExamDutyProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("OffDayIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ParentMeetingIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("PgResultIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("PublicationIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("QualificationAcquisitionProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("QualificationExamResultProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("QueueMessageIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("RegBookCertificateDuplicateIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("RegBookCertificateIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("RegBookQualificationDuplicateIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("RegBookQualificationIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("RemarkIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SanctionIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ScheduleIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ScheduleLessonIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SchoolYearDateInfoIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("ShiftIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SkillsCheckExamDutyProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SkillsCheckExamResultProtocolEvaluatorIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SkillsCheckExamResultProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SpbsBookRecordIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("StateExamDutyProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("StateExamsAdmProtocolIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SupportActivityIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SupportDifficultyIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("SupportIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("TeacherAbsenceIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("TopicDplrIdSequence", "school_books").StartsAt(100000);

            modelBuilder.HasSequence<int>("TopicIdSequence", "school_books").StartsAt(100000);

            OnModelCreatingGeneratedProcedures(modelBuilder);
            OnModelCreatingPartial(modelBuilder);
        }

        partial void OnModelCreatingPartial(ModelBuilder modelBuilder);
    }
}