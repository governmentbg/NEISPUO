# Installation instructions:

1. Open a terminal in the root directory and execute the following command
npm install
2. Create an .env file from the .env-example file.
3. Make sure you provide credentials to the database you wish to connect in the env file created in the previous step. (Local or test neispuo)
4. Execute the following command in terminal
npm run start

# Docker build steps for MON Kubernetes Dev env

1. Update Dockerfile 
1. Run `docker build --no-cache -t usermng-be .`
1. Run `docker tag usermng-be:latest neispuoprod.azurecr.io/usermng-be`
1. Run `docker push neispuoprod.azurecr.io/usermng-be`

# Azure Integration information - TO DO - format better

1. A class in Azure context is pair: Клас-Предмет e.g. 1а - Български език. This will be used to create the respective teams for each school.
1. When creating a student the id and identifier are the personalID of the user a.k.a ЕГН/ЛНЧ
1. When creating a teacher the id  is the personalID of the user a.k.a ЕГН/ЛНЧ by neispuo and identifier is Teacher Number a specific code generated by neispuo.
1. When creating a school id is the schoolid.
1. When creating a student or teacher, the schoolId represents who will receive the credentials. If you want to enroll the users you need to create:
    - ENROLLMENT_CLASS_CREATE - with classid and userid (to add person to class)
    - ENROLLMENT_SCHOOL_CREATE - with schoolId and userid (to add person to school)
    - ENROLLMENT_CREATE - with schoolId, userid, classiid (to add person to school)
1. When creating a class the class id is generated by the schoolID+groupid e.g:
    ```
   ClassId е 200030524145 (2000305 - номер на училище, 24145 - номер на група)
    ```
1. `principalEmail` - not being used atm. It could be if MON wants to have more than 1 account for a schoold in the future. Comment from Telelink dev:
    ```
    не, този principalEmail за момента не се ползва, но е хубаво да го има, в случай, че МОН решат да имат повече от един директорски акаунт
    ```
1. The students' and teachers' educationid are generated by Telelink and are a string such as `gk75059414` we need to update that in the Person Table after creation.